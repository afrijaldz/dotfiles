"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _w=Object.create,rs=Object.defineProperty,vw=Object.getPrototypeOf,Na=Object.prototype.hasOwnProperty,bw=Object.getOwnPropertyNames,ww=Object.getOwnPropertyDescriptor,is=Object.getOwnPropertySymbols,xf=Object.prototype.propertyIsEnumerable;var Sf=(t,e,r)=>e in t?rs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D=(t,e)=>{for(var r in e||(e={}))Na.call(e,r)&&Sf(t,r,e[r]);if(is)for(var r of is(e))xf.call(e,r)&&Sf(t,r,e[r]);return t},Ew=t=>rs(t,"__esModule",{value:!0});var Cf=(t,e)=>{var r={};for(var i in t)Na.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&is)for(var i of is(t))e.indexOf(i)<0&&xf.call(t,i)&&(r[i]=t[i]);return r},m=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports);var xw=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of bw(e))!Na.call(t,i)&&i!=="default"&&rs(t,i,{get:()=>e[i],enumerable:!(r=ww(e,i))||r.enumerable});return t},jr=t=>xw(Ew(rs(t!=null?_w(vw(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var qa=m((Mf,Lf)=>{(function(t){var e=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(g){return Object.prototype.toString.call(g)==="[object Array]"},i=10,n=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",o=typeof Reflect=="object",a=typeof setImmediate=="function",l=a?setImmediate:setTimeout,c=s?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(h){var g=Object.getOwnPropertyNames(h);return g.push.apply(g,Object.getOwnPropertySymbols(h)),g}:Object.keys;function f(){this._events={},this._conf&&d.call(this,this._conf)}function d(h){h&&(this._conf=h,h.delimiter&&(this.delimiter=h.delimiter),h.maxListeners!==t&&(this._maxListeners=h.maxListeners),h.wildcard&&(this.wildcard=h.wildcard),h.newListener&&(this._newListener=h.newListener),h.removeListener&&(this._removeListener=h.removeListener),h.verboseMemoryLeak&&(this.verboseMemoryLeak=h.verboseMemoryLeak),h.ignoreErrors&&(this.ignoreErrors=h.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function u(h,g){var b="(node) warning: possible EventEmitter memory leak detected. "+h+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(b+=" Event name: "+g+"."),typeof process!="undefined"&&process.emitWarning){var _=new Error(b);_.name="MaxListenersExceededWarning",_.emitter=this,_.count=h,process.emitWarning(_)}else console.error(b),console.trace&&console.trace()}var p=function(h,g,b){var _=arguments.length;switch(_){case 0:return[];case 1:return[h];case 2:return[h,g];case 3:return[h,g,b];default:for(var E=new Array(_);_--;)E[_]=arguments[_];return E}};function y(h,g){for(var b={},_,E=h.length,S=g?value.length:0,T=0;T<E;T++)_=h[T],b[_]=T<S?g[T]:t;return b}function w(h,g,b){this._emitter=h,this._target=g,this._listeners={},this._listenersCount=0;var _,E;if((b.on||b.off)&&(_=b.on,E=b.off),g.addEventListener?(_=g.addEventListener,E=g.removeEventListener):g.addListener?(_=g.addListener,E=g.removeListener):g.on&&(_=g.on,E=g.off),!_&&!E)throw Error("target does not implement any known event API");if(typeof _!="function")throw TypeError("on method must be a function");if(typeof E!="function")throw TypeError("off method must be a function");this._on=_,this._off=E;var S=h._observers;S?S.push(this):h._observers=[this]}Object.assign(w.prototype,{subscribe:function(h,g,b){var _=this,E=this._target,S=this._emitter,T=this._listeners,L=function(){var P=p.apply(null,arguments),M={data:P,name:g,original:h};if(b){var N=b.call(E,M);N!==!1&&S.emit.apply(S,[M.name].concat(P));return}S.emit.apply(S,[g].concat(P))};if(T[h])throw Error("Event '"+h+"' is already listening");this._listenersCount++,S._newListener&&S._removeListener&&!_._onNewListener?(this._onNewListener=function(P){P===g&&T[h]===null&&(T[h]=L,_._on.call(E,h,L))},S.on("newListener",this._onNewListener),this._onRemoveListener=function(P){P===g&&!S.hasListeners(P)&&T[h]&&(T[h]=null,_._off.call(E,h,L))},T[h]=null,S.on("removeListener",this._onRemoveListener)):(T[h]=L,_._on.call(E,h,L))},unsubscribe:function(h){var g=this,b=this._listeners,_=this._emitter,E,S,T=this._off,L=this._target,P;if(h&&typeof h!="string")throw TypeError("event must be a string");function M(){g._onNewListener&&(_.off("newListener",g._onNewListener),_.off("removeListener",g._onRemoveListener),g._onNewListener=null,g._onRemoveListener=null);var N=j.call(_,g);_._observers.splice(N,1)}if(h){if(E=b[h],!E)return;T.call(L,h,E),delete b[h],--this._listenersCount||M()}else{for(S=c(b),P=S.length;P-- >0;)h=S[P],T.call(L,h,b[h]);this._listeners={},this._listenersCount=0,M()}}});function v(h,g,b,_){var E=Object.assign({},g);if(!h)return E;if(typeof h!="object")throw TypeError("options must be an object");var S=Object.keys(h),T=S.length,L,P,M;function N(J){throw Error('Invalid "'+L+'" option value'+(J?". Reason: "+J:""))}for(var me=0;me<T;me++){if(L=S[me],!_&&!e.call(g,L))throw Error('Unknown "'+L+'" option');P=h[L],P!==t&&(M=b[L],E[L]=M?M(P,N):P)}return E}function x(h,g){return(typeof h!="function"||!h.hasOwnProperty("prototype"))&&g("value must be a constructor"),h}function k(h){var g="value must be type of "+h.join("|"),b=h.length,_=h[0],E=h[1];return b===1?function(S,T){if(typeof S===_)return S;T(g)}:b===2?function(S,T){var L=typeof S;if(L===_||L===E)return S;T(g)}:function(S,T){for(var L=typeof S,P=b;P-- >0;)if(L===h[P])return S;T(g)}}var C=k(["function"]),O=k(["object","function"]);function R(h,g,b){var _,E,S=0,T,L=new h(function(P,M,N){b=v(b,{timeout:0,overload:!1},{timeout:function(re,Ce){return re*=1,(typeof re!="number"||re<0||!Number.isFinite(re))&&Ce("timeout must be a positive number"),re}}),_=!b.overload&&typeof h.prototype.cancel=="function"&&typeof N=="function";function me(){E&&(E=null),S&&(clearTimeout(S),S=0)}var J=function(re){me(),P(re)},V=function(re){me(),M(re)};_?g(J,V,N):(E=[function(re){V(re||Error("canceled"))}],g(J,V,function(re){if(T)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof re!="function")throw TypeError("onCancel callback must be a function");E.push(re)}),T=!0),b.timeout>0&&(S=setTimeout(function(){var re=Error("timeout");re.code="ETIMEDOUT",S=0,L.cancel(re),M(re)},b.timeout))});return _||(L.cancel=function(P){if(!!E){for(var M=E.length,N=1;N<M;N++)E[N](P);E[0](P),E=null}}),L}function j(h){var g=this._observers;if(!g)return-1;for(var b=g.length,_=0;_<b;_++)if(g[_]._target===h)return _;return-1}function q(h,g,b,_,E){if(!b)return null;if(_===0){var S=typeof g;if(S==="string"){var T,L,P=0,M=0,N=this.delimiter,me=N.length;if((L=g.indexOf(N))!==-1){T=new Array(5);do T[P++]=g.slice(M,L),M=L+me;while((L=g.indexOf(N,M))!==-1);T[P++]=g.slice(M),g=T,E=P}else g=[g],E=1}else S==="object"?E=g.length:(g=[g],E=1)}var J=null,V,re,Ce,Ra,Aa,Ni=g[_],Ia=g[_+1],_t,Pe;if(_===E&&b._listeners)return typeof b._listeners=="function"?(h&&h.push(b._listeners),[b]):(h&&h.push.apply(h,b._listeners),[b]);if(Ni==="*"){for(_t=c(b),L=_t.length;L-- >0;)V=_t[L],V!=="_listeners"&&(Pe=q(h,g,b[V],_+1,E),Pe&&(J?J.push.apply(J,Pe):J=Pe));return J}else if(Ni==="**"){for(Aa=_+1===E||_+2===E&&Ia==="*",Aa&&b._listeners&&(J=q(h,g,b,E,E)),_t=c(b),L=_t.length;L-- >0;)V=_t[L],V!=="_listeners"&&(V==="*"||V==="**"?(b[V]._listeners&&!Aa&&(Pe=q(h,g,b[V],E,E),Pe&&(J?J.push.apply(J,Pe):J=Pe)),Pe=q(h,g,b[V],_,E)):V===Ia?Pe=q(h,g,b[V],_+2,E):Pe=q(h,g,b[V],_,E),Pe&&(J?J.push.apply(J,Pe):J=Pe));return J}else b[Ni]&&(J=q(h,g,b[Ni],_+1,E));if(re=b["*"],re&&q(h,g,re,_+1,E),Ce=b["**"],Ce)if(_<E)for(Ce._listeners&&q(h,g,Ce,E,E),_t=c(Ce),L=_t.length;L-- >0;)V=_t[L],V!=="_listeners"&&(V===Ia?q(h,g,Ce[V],_+2,E):V===Ni?q(h,g,Ce[V],_+1,E):(Ra={},Ra[V]=Ce[V],q(h,g,{"**":Ra},_+1,E)));else Ce._listeners?q(h,g,Ce,E,E):Ce["*"]&&Ce["*"]._listeners&&q(h,g,Ce["*"],E,E);return J}function X(h,g,b){var _=0,E=0,S,T=this.delimiter,L=T.length,P;if(typeof h=="string")if((S=h.indexOf(T))!==-1){P=new Array(5);do P[_++]=h.slice(E,S),E=S+L;while((S=h.indexOf(T,E))!==-1);P[_++]=h.slice(E)}else P=[h],_=1;else P=h,_=h.length;if(_>1){for(S=0;S+1<_;S++)if(P[S]==="**"&&P[S+1]==="**")return}var M=this.listenerTree,N;for(S=0;S<_;S++)if(N=P[S],M=M[N]||(M[N]={}),S===_-1)return M._listeners?(typeof M._listeners=="function"&&(M._listeners=[M._listeners]),b?M._listeners.unshift(g):M._listeners.push(g),!M._listeners.warned&&this._maxListeners>0&&M._listeners.length>this._maxListeners&&(M._listeners.warned=!0,u.call(this,M._listeners.length,N))):M._listeners=g,!0;return!0}function ee(h,g,b,_){for(var E=c(h),S=E.length,T,L,P,M=h._listeners,N;S-- >0;)L=E[S],T=h[L],L==="_listeners"?P=b:P=b?b.concat(L):[L],N=_||typeof L=="symbol",M&&g.push(N?P:P.join(this.delimiter)),typeof T=="object"&&ee.call(this,T,g,P,N);return g}function $(h){for(var g=c(h),b=g.length,_,E,S;b-- >0;)E=g[b],_=h[E],_&&(S=!0,E!=="_listeners"&&!$(_)&&delete h[E]);return S}function Q(h,g,b){this.emitter=h,this.event=g,this.listener=b}Q.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function te(h,g,b){if(b===!0)E=!0;else if(b===!1)_=!0;else{if(!b||typeof b!="object")throw TypeError("options should be an object or true");var _=b.async,E=b.promisify,S=b.nextTick,T=b.objectify}if(_||S||E){var L=g,P=g._origin||g;if(S&&!n)throw Error("process.nextTick is not supported");E===t&&(E=g.constructor.name==="AsyncFunction"),g=function(){var M=arguments,N=this,me=this.event;return E?S?Promise.resolve():new Promise(function(J){l(J)}).then(function(){return N.event=me,L.apply(N,M)}):(S?process.nextTick:l)(function(){N.event=me,L.apply(N,M)})},g._async=!0,g._origin=P}return[g,T?new Q(this,h,g):this]}function F(h){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,h)}F.EventEmitter2=F,F.prototype.listenTo=function(h,g,b){if(typeof h!="object")throw TypeError("target musts be an object");var _=this;b=v(b,{on:t,off:t,reducers:t},{on:C,off:C,reducers:O});function E(S){if(typeof S!="object")throw TypeError("events must be an object");var T=b.reducers,L=j.call(_,h),P;L===-1?P=new w(_,h,b):P=_._observers[L];for(var M=c(S),N=M.length,me,J=typeof T=="function",V=0;V<N;V++)me=M[V],P.subscribe(me,S[me]||me,J?T:T&&T[me])}return r(g)?E(y(g)):typeof g=="string"?E(y(g.split(/\s+/))):E(g),this},F.prototype.stopListeningTo=function(h,g){var b=this._observers;if(!b)return!1;var _=b.length,E,S=!1;if(h&&typeof h!="object")throw TypeError("target should be an object");for(;_-- >0;)E=b[_],(!h||E._target===h)&&(E.unsubscribe(g),S=!0);return S},F.prototype.delimiter=".",F.prototype.setMaxListeners=function(h){h!==t&&(this._maxListeners=h,this._conf||(this._conf={}),this._conf.maxListeners=h)},F.prototype.getMaxListeners=function(){return this._maxListeners},F.prototype.event="",F.prototype.once=function(h,g,b){return this._once(h,g,!1,b)},F.prototype.prependOnceListener=function(h,g,b){return this._once(h,g,!0,b)},F.prototype._once=function(h,g,b,_){return this._many(h,1,g,b,_)},F.prototype.many=function(h,g,b,_){return this._many(h,g,b,!1,_)},F.prototype.prependMany=function(h,g,b,_){return this._many(h,g,b,!0,_)},F.prototype._many=function(h,g,b,_,E){var S=this;if(typeof b!="function")throw new Error("many only accepts instances of Function");function T(){return--g==0&&S.off(h,T),b.apply(this,arguments)}return T._origin=b,this._on(h,T,_,E)},F.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var h=arguments[0],g,b=this.wildcard,_,E,S,T,L;if(h==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(b&&(g=h,h!=="newListener"&&h!=="removeListener"&&typeof h=="object")){if(E=h.length,s){for(S=0;S<E;S++)if(typeof h[S]=="symbol"){L=!0;break}}L||(h=h.join(this.delimiter))}var P=arguments.length,M;if(this._all&&this._all.length)for(M=this._all.slice(),S=0,E=M.length;S<E;S++)switch(this.event=h,P){case 1:M[S].call(this,h);break;case 2:M[S].call(this,h,arguments[1]);break;case 3:M[S].call(this,h,arguments[1],arguments[2]);break;default:M[S].apply(this,arguments)}if(b)M=[],q.call(this,M,g,this.listenerTree,0,E);else if(M=this._events[h],typeof M=="function"){switch(this.event=h,P){case 1:M.call(this);break;case 2:M.call(this,arguments[1]);break;case 3:M.call(this,arguments[1],arguments[2]);break;default:for(_=new Array(P-1),T=1;T<P;T++)_[T-1]=arguments[T];M.apply(this,_)}return!0}else M&&(M=M.slice());if(M&&M.length){if(P>3)for(_=new Array(P-1),T=1;T<P;T++)_[T-1]=arguments[T];for(S=0,E=M.length;S<E;S++)switch(this.event=h,P){case 1:M[S].call(this);break;case 2:M[S].call(this,arguments[1]);break;case 3:M[S].call(this,arguments[1],arguments[2]);break;default:M[S].apply(this,_)}return!0}else if(!this.ignoreErrors&&!this._all&&h==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},F.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var h=arguments[0],g=this.wildcard,b,_,E,S,T,L;if(h==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(g&&(b=h,h!=="newListener"&&h!=="removeListener"&&typeof h=="object")){if(S=h.length,s){for(T=0;T<S;T++)if(typeof h[T]=="symbol"){_=!0;break}}_||(h=h.join(this.delimiter))}var P=[],M=arguments.length,N;if(this._all)for(T=0,S=this._all.length;T<S;T++)switch(this.event=h,M){case 1:P.push(this._all[T].call(this,h));break;case 2:P.push(this._all[T].call(this,h,arguments[1]));break;case 3:P.push(this._all[T].call(this,h,arguments[1],arguments[2]));break;default:P.push(this._all[T].apply(this,arguments))}if(g?(N=[],q.call(this,N,b,this.listenerTree,0)):N=this._events[h],typeof N=="function")switch(this.event=h,M){case 1:P.push(N.call(this));break;case 2:P.push(N.call(this,arguments[1]));break;case 3:P.push(N.call(this,arguments[1],arguments[2]));break;default:for(E=new Array(M-1),L=1;L<M;L++)E[L-1]=arguments[L];P.push(N.apply(this,E))}else if(N&&N.length){if(N=N.slice(),M>3)for(E=new Array(M-1),L=1;L<M;L++)E[L-1]=arguments[L];for(T=0,S=N.length;T<S;T++)switch(this.event=h,M){case 1:P.push(N[T].call(this));break;case 2:P.push(N[T].call(this,arguments[1]));break;case 3:P.push(N[T].call(this,arguments[1],arguments[2]));break;default:P.push(N[T].apply(this,E))}}else if(!this.ignoreErrors&&!this._all&&h==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(P)},F.prototype.on=function(h,g,b){return this._on(h,g,!1,b)},F.prototype.prependListener=function(h,g,b){return this._on(h,g,!0,b)},F.prototype.onAny=function(h){return this._onAny(h,!1)},F.prototype.prependAny=function(h){return this._onAny(h,!0)},F.prototype.addListener=F.prototype.on,F.prototype._onAny=function(h,g){if(typeof h!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),g?this._all.unshift(h):this._all.push(h),this},F.prototype._on=function(h,g,b,_){if(typeof h=="function")return this._onAny(h,g),this;if(typeof g!="function")throw new Error("on only accepts instances of Function");this._events||f.call(this);var E=this,S;return _!==t&&(S=te.call(this,h,g,_),g=S[0],E=S[1]),this._newListener&&this.emit("newListener",h,g),this.wildcard?(X.call(this,h,g,b),E):(this._events[h]?(typeof this._events[h]=="function"&&(this._events[h]=[this._events[h]]),b?this._events[h].unshift(g):this._events[h].push(g),!this._events[h].warned&&this._maxListeners>0&&this._events[h].length>this._maxListeners&&(this._events[h].warned=!0,u.call(this,this._events[h].length,h))):this._events[h]=g,E)},F.prototype.off=function(h,g){if(typeof g!="function")throw new Error("removeListener only takes instances of Function");var b,_=[];if(this.wildcard){var E=typeof h=="string"?h.split(this.delimiter):h.slice();if(_=q.call(this,null,E,this.listenerTree,0),!_)return this}else{if(!this._events[h])return this;b=this._events[h],_.push({_listeners:b})}for(var S=0;S<_.length;S++){var T=_[S];if(b=T._listeners,r(b)){for(var L=-1,P=0,M=b.length;P<M;P++)if(b[P]===g||b[P].listener&&b[P].listener===g||b[P]._origin&&b[P]._origin===g){L=P;break}if(L<0)continue;return this.wildcard?T._listeners.splice(L,1):this._events[h].splice(L,1),b.length===0&&(this.wildcard?delete T._listeners:delete this._events[h]),this._removeListener&&this.emit("removeListener",h,g),this}else(b===g||b.listener&&b.listener===g||b._origin&&b._origin===g)&&(this.wildcard?delete T._listeners:delete this._events[h],this._removeListener&&this.emit("removeListener",h,g))}return this.listenerTree&&$(this.listenerTree),this},F.prototype.offAny=function(h){var g=0,b=0,_;if(h&&this._all&&this._all.length>0){for(_=this._all,g=0,b=_.length;g<b;g++)if(h===_[g])return _.splice(g,1),this._removeListener&&this.emit("removeListenerAny",h),this}else{if(_=this._all,this._removeListener)for(g=0,b=_.length;g<b;g++)this.emit("removeListenerAny",_[g]);this._all=[]}return this},F.prototype.removeListener=F.prototype.off,F.prototype.removeAllListeners=function(h){if(h===t)return!this._events||f.call(this),this;if(this.wildcard){var g=q.call(this,null,h,this.listenerTree,0),b,_;if(!g)return this;for(_=0;_<g.length;_++)b=g[_],b._listeners=null;this.listenerTree&&$(this.listenerTree)}else this._events&&(this._events[h]=null);return this},F.prototype.listeners=function(h){var g=this._events,b,_,E,S,T;if(h===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!g)return[];for(b=c(g),S=b.length,E=[];S-- >0;)_=g[b[S]],typeof _=="function"?E.push(_):E.push.apply(E,_);return E}else{if(this.wildcard){if(T=this.listenerTree,!T)return[];var L=[],P=typeof h=="string"?h.split(this.delimiter):h.slice();return q.call(this,L,P,T,0),L}return g?(_=g[h],_?typeof _=="function"?[_]:_:[]):[]}},F.prototype.eventNames=function(h){var g=this._events;return this.wildcard?ee.call(this,this.listenerTree,[],null,h):g?c(g):[]},F.prototype.listenerCount=function(h){return this.listeners(h).length},F.prototype.hasListeners=function(h){if(this.wildcard){var g=[],b=typeof h=="string"?h.split(this.delimiter):h.slice();return q.call(this,g,b,this.listenerTree,0),g.length>0}var _=this._events,E=this._all;return!!(E&&E.length||_&&(h===t?c(_).length:_[h]))},F.prototype.listenersAny=function(){return this._all?this._all:[]},F.prototype.waitFor=function(h,g){var b=this,_=typeof g;return _==="number"?g={timeout:g}:_==="function"&&(g={filter:g}),g=v(g,{timeout:0,filter:t,handleError:!1,Promise,overload:!1},{filter:C,Promise:x}),R(g.Promise,function(E,S,T){function L(){var P=g.filter;if(!(P&&!P.apply(b,arguments)))if(b.off(h,L),g.handleError){var M=arguments[0];M?S(M):E(p.apply(null,arguments).slice(1))}else E(p.apply(null,arguments))}T(function(){b.off(h,L)}),b._on(h,L,!1)},{timeout:g.timeout,overload:g.overload})};function yt(h,g,b){b=v(b,{Promise,timeout:0,overload:!1},{Promise:x});var _=b.Promise;return R(_,function(E,S,T){var L;if(typeof h.addEventListener=="function"){L=function(){E(p.apply(null,arguments))},T(function(){h.removeEventListener(g,L)}),h.addEventListener(g,L,{once:!0});return}var P=function(){M&&h.removeListener("error",M),E(p.apply(null,arguments))},M;g!=="error"&&(M=function(N){h.removeListener(g,P),S(N)},h.once("error",M)),T(function(){M&&h.removeListener("error",M),h.removeListener(g,P)}),h.once(g,P)},{timeout:b.timeout,overload:b.overload})}var Se=F.prototype;if(Object.defineProperties(F,{defaultMaxListeners:{get:function(){return Se._maxListeners},set:function(h){if(typeof h!="number"||h<0||Number.isNaN(h))throw TypeError("n must be a non-negative number");Se._maxListeners=h},enumerable:!0},once:{value:yt,writable:!0,configurable:!0}}),Object.defineProperties(Se,{_maxListeners:{value:i,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return F});else if(typeof Mf=="object")Lf.exports=F;else{var Re=new Function("","return this")();Re.EventEmitter2=F}})()});var st=m(Fi=>{"use strict";var Of=Fi&&Fi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fi,"__esModule",{value:!0});var ns=Of(require("fs")),Rf=Of(require("path")),Af=class{static GetLinuxBin(e){if(process.platform!=="linux")return null;let r=["/usr/local/sbin","/usr/local/bin","/usr/sbin","/usr/bin","/sbin","/bin"];var i="/usr/bin/"+e;try{return ns.default.accessSync(i,ns.default.constants.X_OK),e}catch(n){}return null}static GetEdgeDarwin(e){if(process.platform!=="darwin")return null;try{var r=Rf.default.join(process.env.HOME||"",e);return ns.default.accessSync(r),r}catch(i){return e}}static GetEdgeExe(e){if(process.platform!=="win32")return null;var r="\\Microsoft\\"+e+"\\Application\\msedge.exe",i=[process.env["PROGRAMFILES(X86)"],process.env.PROGRAMFILES,process.env.LOCALAPPDATA],n="";for(let o=0;o<i.length;o++)try{var s=Rf.default.join(i[o]||"",r);ns.default.accessSync(s),n=s;break}catch(a){}return n}static isJSFlags(e){return e.indexOf("--js-flags=")===0}static sanitizeJSFlags(e){var r=/--js-flags=(['"])/.exec(e);if(!r)return e;var i=r[1],n=new RegExp(i+"$"),s=new RegExp("--js-flags="+i);return e.replace(s,"--js-flags=").replace(n,"")}};Fi.default=Af});var vt=m(Di=>{"use strict";var Sw=Di&&Di.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0});var If=Sw(st()),Nf=class{constructor(e,r){this.flags=e,this.userDataDir=r,this._getOptions=this._getOptions.bind(this),this._getHeadlessOptions=this._getHeadlessOptions.bind(this)}_getOptions(e){this.flags.forEach((i,n)=>{If.default.isJSFlags(i)&&(this.flags[n]=If.default.sanitizeJSFlags(i))});var r=["--user-data-dir="+this.userDataDir,"--enable-automation","--no-default-browser-check","--no-first-run","--disable-default-apps","--disable-popup-blocking","--disable-translate","--disable-background-timer-throttling","--disable-renderer-backgrounding","--disable-device-discovery-notifications"].concat(this.flags,[e]);return r}_getHeadlessOptions(e){var r=this._getOptions(e).concat(["--headless","--no-proxy-server"]),i;return r.some(n=>n.indexOf("--remote-debugging-port=")!==-1)?i=r:i=r.concat(["--remote-debugging-port=9222"]),i}};Di.default=Nf});var Df=m(qi=>{"use strict";var Ff=qi&&qi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});var Cw=Ff(vt()),ja=Ff(st()),Ba=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Cw.default(r,i);this._getOptions=n._getOptions};Ba.$inject=["baseBrowserDecorator","args"];Ba.prototype={name:"Edge Beta",DEFAULT_CMD:{linux:ja.default.GetLinuxBin("microsoft-edge-beta"),darwin:ja.default.GetEdgeDarwin("/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta"),win32:ja.default.GetEdgeExe("Edge Beta")},ENV_CMD:"EDGE_BETA_BIN"};qi.default=Ba});var jf=m(ji=>{"use strict";var qf=ji&&ji.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});var kw=qf(vt()),Ua=qf(st()),$a=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new kw.default(r,i);this._getOptions=n._getOptions};$a.$inject=["baseBrowserDecorator","args"];$a.prototype={name:"Edge Canary",DEFAULT_CMD:{linux:Ua.default.GetLinuxBin("microsoft-edge-canary"),darwin:Ua.default.GetEdgeDarwin("/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary"),win32:Ua.default.GetEdgeExe("Edge SxS")},ENV_CMD:"EDGE_CANARY_BIN"};ji.default=$a});var Uf=m(Bi=>{"use strict";var Bf=Bi&&Bi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});var Tw=Bf(vt()),Ha=Bf(st()),Wa=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Tw.default(r,i);this._getOptions=n._getOptions};Wa.$inject=["baseBrowserDecorator","args"];Wa.prototype={name:"Edge Dev",DEFAULT_CMD:{linux:Ha.default.GetLinuxBin("microsoft-edge-dev"),darwin:Ha.default.GetEdgeDarwin("/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev"),win32:Ha.default.GetEdgeExe("Edge Dev")},ENV_CMD:"EDGE_DEV_BIN"};Bi.default=Wa});var Hf=m(Ui=>{"use strict";var $f=Ui&&Ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});var Pw=$f(vt()),Ka=$f(st()),Ga=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Pw.default(r,i);this._getOptions=n._getOptions};Ga.$inject=["baseBrowserDecorator","args"];Ga.prototype={name:"Edge",DEFAULT_CMD:{linux:Ka.default.GetLinuxBin("microsoft-edge"),darwin:Ka.default.GetEdgeDarwin("/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge"),win32:Ka.default.GetEdgeExe("Edge")},ENV_CMD:"EDGE_BIN"};Ui.default=Ga});var Kf=m($i=>{"use strict";var Wf=$i&&$i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});var Mw=Wf(vt()),za=Wf(st()),Va=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Mw.default(r,i);this._getOptions=n._getHeadlessOptions};Va.$inject=["baseBrowserDecorator","args"];Va.prototype={name:"Edge Beta Headless",DEFAULT_CMD:{linux:za.default.GetLinuxBin("microsoft-edge-beta"),darwin:za.default.GetEdgeDarwin("/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta"),win32:za.default.GetEdgeExe("Edge Beta")},ENV_CMD:"EDGE_BETA_BIN"};$i.default=Va});var zf=m(Hi=>{"use strict";var Gf=Hi&&Hi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});var Lw=Gf(vt()),Xa=Gf(st()),Qa=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Lw.default(r,i);this._getOptions=n._getHeadlessOptions};Qa.$inject=["baseBrowserDecorator","args"];Qa.prototype={name:"Edge Canary Headless",DEFAULT_CMD:{linux:Xa.default.GetLinuxBin("microsoft-edge-canary"),darwin:Xa.default.GetEdgeDarwin("/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary"),win32:Xa.default.GetEdgeExe("Edge SxS")},ENV_CMD:"EDGE_CANARY_BIN"};Hi.default=Qa});var Xf=m(Wi=>{"use strict";var Vf=Wi&&Wi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});var Ow=Vf(vt()),Ja=Vf(st()),Ya=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Ow.default(r,i);this._getOptions=n._getHeadlessOptions};Ya.$inject=["baseBrowserDecorator","args"];Ya.prototype={name:"Edge Dev Headless",DEFAULT_CMD:{linux:Ja.default.GetLinuxBin("microsoft-edge-dev"),darwin:Ja.default.GetEdgeDarwin("/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev"),win32:Ja.default.GetEdgeExe("Edge Dev")},ENV_CMD:"EDGE_DEV_BIN"};Wi.default=Ya});var Jf=m(Ki=>{"use strict";var Qf=Ki&&Ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});var Rw=Qf(vt()),Za=Qf(st()),el=function(t,e){t(this);var r=e.flags||[],i=e.edgeDataDir||this._tempDir,n=new Rw.default(r,i);this._getOptions=n._getHeadlessOptions};el.$inject=["baseBrowserDecorator","args"];el.prototype={name:"Edge Headless",DEFAULT_CMD:{linux:Za.default.GetLinuxBin("microsoft-edge"),darwin:Za.default.GetEdgeDarwin("/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge"),win32:Za.default.GetEdgeExe("Edge")},ENV_CMD:"EDGE_BIN"};Ki.default=el});var Zf=m((ss,Yf)=>{"use strict";var Ut=ss&&ss.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});var Aw=Ut(Df()),Iw=Ut(jf()),Nw=Ut(Uf()),Fw=Ut(Hf()),Dw=Ut(Kf()),qw=Ut(zf()),jw=Ut(Xf()),Bw=Ut(Jf());Yf.exports={"launcher:EdgeDev":["type",Nw.default],"launcher:EdgeCanary":["type",Iw.default],"launcher:EdgeBeta":["type",Aw.default],"launcher:Edge":["type",Fw.default],"launcher:EdgeHeadless":["type",Bw.default],"launcher:EdgeDevHeadless":["type",jw.default],"launcher:EdgeBetaHeadless":["type",Dw.default],"launcher:EdgeCanaryHeadless":["type",qw.default]}});var nd=m((lA,ed)=>{ed.exports=td;td.sync=Uw;var rd=require("fs");function $w(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var i=0;i<r.length;i++){var n=r[i].toLowerCase();if(n&&t.substr(-n.length).toLowerCase()===n)return!0}return!1}function id(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:$w(e,r)}function td(t,e,r){rd.stat(t,function(i,n){r(i,i?!1:id(n,t,e))})}function Uw(t,e){return id(rd.statSync(t),t,e)}});var cd=m((cA,sd)=>{sd.exports=od;od.sync=Hw;var ad=require("fs");function od(t,e,r){ad.stat(t,function(i,n){r(i,i?!1:ld(n,e))})}function Hw(t,e){return ld(ad.statSync(t),e)}function ld(t,e){return t.isFile()&&Ww(t,e)}function Ww(t,e){var r=t.mode,i=t.uid,n=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=a|l,d=r&c||r&l&&n===o||r&a&&i===s||r&f&&s===0;return d}});var fd=m((fA,ud)=>{var uA=require("fs"),os;process.platform==="win32"||global.TESTING_WINDOWS?os=nd():os=cd();ud.exports=tl;tl.sync=Kw;function tl(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,n){tl(t,e||{},function(s,o){s?n(s):i(o)})})}os(t,e||{},function(i,n){i&&(i.code==="EACCES"||e&&e.ignoreErrors)&&(i=null,n=!1),r(i,n)})}function Kw(t,e){try{return os.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var _d=m((dA,dd)=>{dd.exports=hd;hd.sync=Gw;var rl=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",pd=require("path"),zw=rl?";":":",md=fd();function gd(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function yd(t,e){var r=e.colon||zw,i=e.path||process.env.PATH||"",n=[""];i=i.split(r);var s="";return rl&&(i.unshift(process.cwd()),s=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",n=s.split(r),t.indexOf(".")!==-1&&n[0]!==""&&n.unshift("")),(t.match(/\//)||rl&&t.match(/\\/))&&(i=[""]),{env:i,ext:n,extExe:s}}function hd(t,e,r){typeof e=="function"&&(r=e,e={});var i=yd(t,e),n=i.env,s=i.ext,o=i.extExe,a=[];(function l(c,f){if(c===f)return e.all&&a.length?r(null,a):r(gd(t));var d=n[c];d.charAt(0)==='"'&&d.slice(-1)==='"'&&(d=d.slice(1,-1));var u=pd.join(d,t);!d&&/^\.[\\\/]/.test(t)&&(u=t.slice(0,2)+u),function p(y,w){if(y===w)return l(c+1,f);var v=s[y];md(u+v,{pathExt:o},function(x,k){if(!x&&k)if(e.all)a.push(u+v);else return r(null,u+v);return p(y+1,w)})}(0,s.length)})(0,n.length)}function Gw(t,e){e=e||{};for(var r=yd(t,e),i=r.env,n=r.ext,s=r.extExe,o=[],a=0,l=i.length;a<l;a++){var c=i[a];c.charAt(0)==='"'&&c.slice(-1)==='"'&&(c=c.slice(1,-1));var f=pd.join(c,t);!c&&/^\.[\\\/]/.test(t)&&(f=t.slice(0,2)+f);for(var d=0,u=n.length;d<u;d++){var p=f+n[d],y;try{if(y=md.sync(p,{pathExt:s}),y)if(e.all)o.push(p);else return p}catch(w){}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw gd(t)}});var Ed=m((hA,il)=>{var nl=require("fs"),sl=require("path"),Vw=_d();function as(t){return t.indexOf("--js-flags=")===0}function ls(t){var e=/--js-flags=(['"])/.exec(t);if(!e)return t;var r=e[1],i=new RegExp(r+"$"),n=new RegExp("--js-flags="+r);return t.replace(n,"--js-flags=").replace(i,"")}var Br=function(t,e){t(this);var r=e.flags||[],i=e.chromeDataDir||this._tempDir;this._getOptions=function(n){return r.forEach(function(s,o){as(s)&&(r[o]=ls(s))}),["--user-data-dir="+i,"--enable-automation","--no-default-browser-check","--no-first-run","--disable-default-apps","--disable-popup-blocking","--disable-translate","--disable-background-timer-throttling","--disable-renderer-backgrounding","--disable-device-discovery-notifications"].concat(r,[n])}};function cs(t){if(process.platform!=="win32")return null;var e,r,i,n="\\Google\\"+t+"\\Application\\chrome.exe",s=[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"]];for(r=0;r<s.length;r++){i=s[r];try{return e=sl.join(i,n),nl.accessSync(e),e}catch(o){}}return e}var us=function(t,e){t(this);var r=e.flags||[],i=e.chromeDataDir||this._tempDir;this._getOptions=function(n){return r.forEach(function(s,o){as(s)&&(r[o]=ls(s))}),["--user-data-dir="+i,"--no-default-browser-check","--no-first-run","--disable-default-apps","--disable-popup-blocking","--disable-translate","--disable-background-timer-throttling"].concat(r,[n])}};function vd(t){if(process.platform!=="win32")return null;var e,r,i,n="\\Chromium\\Application\\chrome.exe",s=[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"]];for(r=0;r<s.length;r++){i=s[r];try{return e=sl.join(i,n),nl.accessSync(e),e}catch(o){}}return e}function Ur(t){if(process.platform!=="linux")return null;var e,r;for(r=0;r<t.length;r++)try{if(Vw.sync(t[r])){e=t[r];break}}catch(i){}return e}function fs(t){if(process.platform!=="darwin")return null;try{var e=sl.join(process.env.HOME,t);return nl.accessSync(e),e}catch(r){return t}}Br.prototype={name:"Chrome",DEFAULT_CMD:{linux:Ur(["google-chrome","google-chrome-stable"]),darwin:fs("/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"),win32:cs("Chrome")},ENV_CMD:"CHROME_BIN"};Br.$inject=["baseBrowserDecorator","args"];function ds(t,e,r){var i=r.call(this,t,e).concat(["--headless","--disable-gpu","--disable-dev-shm-usage"]),n=function(s){return s.indexOf("--remote-debugging-port=")!==-1};return i.some(n)?i:i.concat(["--remote-debugging-port=9222"])}var ol=function(t,e){Br.apply(this,arguments);var r=this._getOptions;this._getOptions=function(i){return ds.call(this,i,e,r)}};ol.prototype={name:"ChromeHeadless",DEFAULT_CMD:{linux:Ur(["google-chrome","google-chrome-stable"]),darwin:fs("/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"),win32:cs("Chrome")},ENV_CMD:"CHROME_BIN"};ol.$inject=["baseBrowserDecorator","args"];function bd(t,e,r){var i=e.flags||[],n,s="--nocrankshaft --noopt";return i.forEach(function(o){as(o)&&(n=ls(o)+" "+s)}),r.call(this,t).concat([n||"--js-flags="+s])}var hs=function(t,e){Br.apply(this,arguments);var r=this._getOptions;this._getOptions=function(i){return bd.call(this,i,e,r)}};hs.prototype={name:"ChromeCanary",DEFAULT_CMD:{linux:Ur(["google-chrome-canary","google-chrome-unstable"]),darwin:fs("/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary"),win32:cs("Chrome SxS")},ENV_CMD:"CHROME_CANARY_BIN"};hs.$inject=["baseBrowserDecorator","args"];var al=function(t,e){hs.apply(this,arguments);var r=this._getOptions;this._getOptions=function(i){return ds.call(this,i,e,r)}};al.prototype={name:"ChromeCanaryHeadless",DEFAULT_CMD:{linux:Ur(["google-chrome-canary","google-chrome-unstable"]),darwin:fs("/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary"),win32:cs("Chrome SxS")},ENV_CMD:"CHROME_CANARY_BIN"};al.$inject=["baseBrowserDecorator","args"];us.prototype={name:"Chromium",DEFAULT_CMD:{linux:Ur(["chromium-browser","chromium"]),darwin:"/Applications/Chromium.app/Contents/MacOS/Chromium",win32:vd()},ENV_CMD:"CHROMIUM_BIN"};us.$inject=["baseBrowserDecorator","args"];var wd=function(t,e){us.apply(this,arguments);var r=this._getOptions;this._getOptions=function(i){return ds.call(this,i,e,r)}};wd.prototype={name:"ChromiumHeadless",DEFAULT_CMD:{linux:Ur(["chromium-browser","chromium"]),darwin:"/Applications/Chromium.app/Contents/MacOS/Chromium",win32:vd()},ENV_CMD:"CHROMIUM_BIN"};var ll=function(){Br.apply(this,arguments);var t="--checked",e=process.env.DART_FLAGS||"",r=e.split(" ");r.indexOf(t)===-1&&(r.push(t),process.env.DART_FLAGS=r.join(" "))};ll.prototype={name:"Dartium",DEFAULT_CMD:{},ENV_CMD:"DARTIUM_BIN"};ll.$inject=["baseBrowserDecorator","args"];il.exports={"launcher:Chrome":["type",Br],"launcher:ChromeHeadless":["type",ol],"launcher:ChromeCanary":["type",hs],"launcher:ChromeCanaryHeadless":["type",al],"launcher:Chromium":["type",us],"launcher:ChromiumHeadless":["type",wd],"launcher:Dartium":["type",ll]};il.exports.test={isJSFlags:as,sanitizeJSFlags:ls,headlessGetOptions:ds,canaryGetOptions:bd}});var Hr=m($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.puppeteerErrors=$r.TimeoutError=void 0;var xd=class extends Error{constructor(e){super(e);this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}},cl=class extends xd{};$r.TimeoutError=cl;$r.puppeteerErrors={TimeoutError:cl}});var Cd=m(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.devicesMap=void 0;var Xw=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}}],Sd={};ps.devicesMap=Sd;for(let t of Xw)Sd[t.name]=t});var Ld=m(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.ariaHandler=void 0;async function kd(t,e,r,i){let{nodes:n}=await t.send("Accessibility.queryAXTree",{objectId:e._remoteObject.objectId,accessibleName:r,role:i});return n.filter(o=>o.role.value!=="text")}function Td(t){let e=o=>o.replace(/ +/g," ").trim(),r=new Set(["name","role"]),i={},n=/\[\s*(?<attribute>\w+)\s*=\s*"(?<value>\\.|[^"\\]*)"\s*\]/,s=t.replace(n,(o,a,l)=>{if(a=a.trim(),!r.has(a))throw new Error('Unkown aria attribute "${groups.attribute}" in selector');return i[a]=e(l),""});return s&&!i.name&&(i.name=e(s)),i}var Pd=async(t,e)=>{let r=t.executionContext(),{name:i,role:n}=Td(e),s=await kd(r._client,t,i,n);return s.length<1?null:r._adoptBackendNodeId(s[0].backendDOMNodeId)},Qw=async(t,e,r)=>{let i={name:"ariaQuerySelector",pptrFunction:async n=>{let s=await t._document();return await Pd(s,n)}};return t.waitForSelectorInPage((n,s)=>globalThis.ariaQuerySelector(s),e,r,i)},Md=async(t,e)=>{let r=t.executionContext(),{name:i,role:n}=Td(e),s=await kd(r._client,t,i,n);return Promise.all(s.map(o=>r._adoptBackendNodeId(o.backendDOMNodeId)))},Jw=async(t,e)=>{let r=await Md(t,e);return t.executionContext().evaluateHandle((...s)=>s,...r)};ms.ariaHandler={queryOne:Pd,waitFor:Qw,queryAll:Md,queryAllArray:Jw}});var gs=m(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.getQueryHandlerAndSelector=De.clearCustomQueryHandlers=De.customQueryHandlerNames=De.unregisterCustomQueryHandler=De.registerCustomQueryHandler=void 0;var Yw=Ld();function ul(t){let e={};return t.queryOne&&(e.queryOne=async(r,i)=>{let n=await r.evaluateHandle(t.queryOne,i),s=n.asElement();return s||(await n.dispose(),null)},e.waitFor=(r,i,n)=>r.waitForSelectorInPage(t.queryOne,i,n)),t.queryAll&&(e.queryAll=async(r,i)=>{let n=await r.evaluateHandle(t.queryAll,i),s=await n.getProperties();await n.dispose();let o=[];for(let a of s.values()){let l=a.asElement();l&&o.push(l)}return o},e.queryAllArray=async(r,i)=>await(await r.evaluateHandle(t.queryAll,i)).evaluateHandle(o=>Array.from(o))),e}var Zw=ul({queryOne:(t,e)=>t.querySelector(e),queryAll:(t,e)=>t.querySelectorAll(e)}),eE=ul({queryOne:(t,e)=>{let r=null,i=n=>{let s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let o=s.currentNode;o.shadowRoot&&i(o.shadowRoot),!(o instanceof ShadowRoot)&&!r&&o.matches(e)&&(r=o)}while(!r&&s.nextNode())};return t instanceof Document&&(t=t.documentElement),i(t),r},queryAll:(t,e)=>{let r=[],i=n=>{let s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let o=s.currentNode;o.shadowRoot&&i(o.shadowRoot),!(o instanceof ShadowRoot)&&o.matches(e)&&r.push(o)}while(s.nextNode())};return t instanceof Document&&(t=t.documentElement),i(t),r}}),fl=new Map([["aria",Yw.ariaHandler],["pierce",eE]]),Wr=new Map(fl);function tE(t,e){if(Wr.get(t))throw new Error(`A custom query handler named "${t}" already exists`);if(!/^[a-zA-Z]+$/.test(t))throw new Error("Custom query handler names may only contain [a-zA-Z]");let i=ul(e);Wr.set(t,i)}De.registerCustomQueryHandler=tE;function Od(t){Wr.has(t)&&!fl.has(t)&&Wr.delete(t)}De.unregisterCustomQueryHandler=Od;function Rd(){return[...Wr.keys()].filter(t=>!fl.has(t))}De.customQueryHandlerNames=Rd;function rE(){Rd().forEach(Od)}De.clearCustomQueryHandlers=rE;function iE(t){if(!/^[a-zA-Z]+\//.test(t))return{updatedSelector:t,queryHandler:Zw};let r=t.indexOf("/"),i=t.slice(0,r),n=t.slice(r+1),s=Wr.get(i);if(!s)throw new Error(`Query set to use "${i}", but no query handler of that name was found`);return{updatedSelector:n,queryHandler:s}}De.getQueryHandlerAndSelector=iE});var ae=m(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.assert=void 0;var nE=(t,e)=>{if(!t)throw new Error(e)};ys.assert=nE});var bt=m(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.isNode=void 0;_s.isNode=!!(typeof process!="undefined"&&process.version)});var Id=m((bA,Ad)=>{var Kr=1e3,Gr=Kr*60,zr=Gr*60,dr=zr*24,sE=dr*7,oE=dr*365.25;Ad.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return aE(t);if(r==="number"&&isFinite(t))return e.long?cE(t):lE(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function aE(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*oE;case"weeks":case"week":case"w":return r*sE;case"days":case"day":case"d":return r*dr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*zr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Gr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Kr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function lE(t){var e=Math.abs(t);return e>=dr?Math.round(t/dr)+"d":e>=zr?Math.round(t/zr)+"h":e>=Gr?Math.round(t/Gr)+"m":e>=Kr?Math.round(t/Kr)+"s":t+"ms"}function cE(t){var e=Math.abs(t);return e>=dr?vs(t,e,dr,"day"):e>=zr?vs(t,e,zr,"hour"):e>=Gr?vs(t,e,Gr,"minute"):e>=Kr?vs(t,e,Kr,"second"):t+" ms"}function vs(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var dl=m((wA,Nd)=>{function uE(t){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=n,r.enabled=o,r.humanize=Id(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let d=0;for(let u=0;u<f.length;u++)d=(d<<5)-d+f.charCodeAt(u),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(f){let d,u=null;function p(...y){if(!p.enabled)return;let w=p,v=Number(new Date),x=v-(d||v);w.diff=x,w.prev=d,w.curr=v,d=v,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let k=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(O,R)=>{if(O==="%%")return"%";k++;let j=r.formatters[R];if(typeof j=="function"){let q=y[k];O=j.call(w,q),y.splice(k,1),k--}return O}),r.formatArgs.call(w,y),(w.log||r.log).apply(w,y)}return p.namespace=f,p.useColors=r.useColors(),p.color=r.selectColor(f),p.extend=i,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>u===null?r.enabled(f):u,set:y=>{u=y}}),typeof r.init=="function"&&r.init(p),p}function i(f,d){let u=r(this.namespace+(typeof d=="undefined"?":":d)+f);return u.log=this.log,u}function n(f){r.save(f),r.names=[],r.skips=[];let d,u=(typeof f=="string"?f:"").split(/[\s,]+/),p=u.length;for(d=0;d<p;d++)!u[d]||(f=u[d].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let d,u;for(d=0,u=r.skips.length;d<u;d++)if(r.skips[d].test(f))return!1;for(d=0,u=r.names.length;d<u;d++)if(r.names[d].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Nd.exports=uE});var Fd=m((Ae,bs)=>{Ae.formatArgs=fE;Ae.save=dE;Ae.load=hE;Ae.useColors=pE;Ae.storage=mE();Ae.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ae.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function pE(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function fE(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+bs.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}Ae.log=console.debug||console.log||(()=>{});function dE(t){try{t?Ae.storage.setItem("debug",t):Ae.storage.removeItem("debug")}catch(e){}}function hE(){let t;try{t=Ae.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function mE(){try{return localStorage}catch(t){}}bs.exports=dl()(Ae);var{formatters:gE}=bs.exports;gE.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var qd=m((EA,Dd)=>{"use strict";Dd.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return i!==-1&&(n===-1||i<n)}});var Ud=m((xA,jd)=>{"use strict";var yE=require("os"),Bd=require("tty"),qe=qd(),{env:fe}=process,$t;qe("no-color")||qe("no-colors")||qe("color=false")||qe("color=never")?$t=0:(qe("color")||qe("colors")||qe("color=true")||qe("color=always"))&&($t=1);"FORCE_COLOR"in fe&&(fe.FORCE_COLOR==="true"?$t=1:fe.FORCE_COLOR==="false"?$t=0:$t=fe.FORCE_COLOR.length===0?1:Math.min(parseInt(fe.FORCE_COLOR,10),3));function hl(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function pl(t,e){if($t===0)return 0;if(qe("color=16m")||qe("color=full")||qe("color=truecolor"))return 3;if(qe("color=256"))return 2;if(t&&!e&&$t===void 0)return 0;let r=$t||0;if(fe.TERM==="dumb")return r;if(process.platform==="win32"){let i=yE.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in fe)||fe.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(fe.TEAMCITY_VERSION)?1:0;if(fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in fe){let i=parseInt((fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(fe.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(fe.TERM)||"COLORTERM"in fe?1:r}function _E(t){let e=pl(t,t&&t.isTTY);return hl(e)}jd.exports={supportsColor:_E,stdout:hl(pl(!0,Bd.isatty(1))),stderr:hl(pl(!0,Bd.isatty(2)))}});var Hd=m((ge,ws)=>{var vE=require("tty"),Es=require("util");ge.init=bE;ge.log=wE;ge.formatArgs=EE;ge.save=xE;ge.load=SE;ge.useColors=CE;ge.destroy=Es.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ge.colors=[6,2,3,4,5,1];try{let t=Ud();t&&(t.stderr||t).level>=2&&(ge.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}ge.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,s)=>s.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function CE(){return"colors"in ge.inspectOpts?Boolean(ge.inspectOpts.colors):vE.isatty(process.stderr.fd)}function EE(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,n="[3"+(i<8?i:"8;5;"+i),s=`  ${n};1m${e} [0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(n+"m+"+ws.exports.humanize(this.diff)+"[0m")}else t[0]=kE()+e+" "+t[0]}function kE(){return ge.inspectOpts.hideDate?"":new Date().toISOString()+" "}function wE(...t){return process.stderr.write(Es.format(...t)+`
`)}function xE(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function SE(){return process.env.DEBUG}function bE(t){t.inspectOpts={};let e=Object.keys(ge.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=ge.inspectOpts[e[r]]}ws.exports=dl()(ge);var{formatters:$d}=ws.exports;$d.o=function(t){return this.inspectOpts.colors=this.useColors,Es.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};$d.O=function(t){return this.inspectOpts.colors=this.useColors,Es.inspect(t,this.inspectOpts)}});var Vr=m((SA,ml)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?ml.exports=Fd():ml.exports=Hd()});var Xr=m(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.debug=void 0;var TE=bt(),PE=t=>TE.isNode?Vr()(t):(...e)=>{let r=globalThis.__PUPPETEER_DEBUG;!r||!(r==="*"||(r.endsWith("*")?t.startsWith(r):t===r))||console.log(`${t}:`,...e)};xs.debug=PE});var ve=m(Ie=>{"use strict";var ME=Ie&&Ie.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),LE=Ie&&Ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OE=Ie&&Ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ME(e,t,r);return LE(e,t),e};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.helper=Ie.debugError=void 0;var Wd=Hr(),RE=Xr(),Kd=ae(),gl=bt();Ie.debugError=RE.debug("puppeteer:error");function AE(t){if(t.exception)return t.exception.description||t.exception.value;let e=t.text;if(t.stackTrace)for(let r of t.stackTrace.callFrames){let i=r.url+":"+r.lineNumber+":"+r.columnNumber;e+=`
    at ${r.functionName||"<anonymous>"} (${i})`}return e}function IE(t){if(Kd.assert(!t.objectId,"Cannot extract value when objectId is given"),t.unserializableValue){if(t.type==="bigint"&&typeof BigInt!="undefined")return BigInt(t.unserializableValue.replace("n",""));switch(t.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return Infinity;case"-Infinity":return-Infinity;default:throw new Error("Unsupported unserializable value: "+t.unserializableValue)}}return t.value}async function NE(t,e){!e.objectId||await t.send("Runtime.releaseObject",{objectId:e.objectId}).catch(r=>{Ie.debugError(r)})}function Gd(t,e,r){return t.on(e,r),{emitter:t,eventName:e,handler:r}}function zd(t){for(let e of t)e.emitter.removeListener(e.eventName,e.handler);t.length=0}function Vd(t){return typeof t=="string"||t instanceof String}function FE(t){return typeof t=="number"||t instanceof Number}async function DE(t,e,r,i,n){let s,o,a,l=new Promise((u,p)=>{o=u,a=p}),c=Gd(t,e,async u=>{!await r(u)||o(u)});i&&(s=setTimeout(()=>{a(new Wd.TimeoutError("Timeout exceeded while waiting for event"))},i));function f(){zd([c]),clearTimeout(s)}let d=await Promise.race([l,n]).then(u=>(f(),u),u=>{throw f(),u});if(d instanceof Error)throw d;return d}function Gi(t,...e){if(Vd(t))return Kd.assert(e.length===0,"Cannot evaluate a string with arguments"),t;function r(i){return Object.is(i,void 0)?"undefined":JSON.stringify(i)}return`(${t})(${e.map(r).join(",")})`}function qE(t,e){function r(i,n){let s=window,o=s[n];s[n]=(...a)=>{let l=window[n],c=l.callbacks;c||(c=new Map,l.callbacks=c);let f=(l.lastSeq||0)+1;l.lastSeq=f;let d=new Promise((u,p)=>c.set(f,{resolve:u,reject:p}));return o(JSON.stringify({type:i,name:n,seq:f,args:a})),d}}return Gi(r,t,e)}function jE(t,e,r){function i(n,s,o){window[n].callbacks.get(s).resolve(o),window[n].callbacks.delete(s)}return Gi(i,t,e,r)}function BE(t,e,r,i){function n(s,o,a,l){let c=new Error(a);c.stack=l,window[s].callbacks.get(o).reject(c),window[s].callbacks.delete(o)}return Gi(n,t,e,r,i)}function UE(t,e,r){function i(n,s,o){window[n].callbacks.get(s).reject(o),window[n].callbacks.delete(s)}return Gi(i,t,e,r)}function $E(t,e){function r(n,s,o){if(!n)return o;if(!s&&!o)return n;let a=n.nodeType===Node.TEXT_NODE?n.parentElement:n,l=window.getComputedStyle(a),c=l&&l.visibility!=="hidden"&&d();return s===c||o===!c?n:null;function d(){let u=a.getBoundingClientRect();return!!(u.top||u.bottom||u.width||u.height)}}return`
    (() => {
      ${e?`const predicateQueryHandler = ${e};`:""}
      const checkWaitForOptions = ${r};
      return (${t})(...args)
    })() `}async function HE(t,e,r){let i,n=new Wd.TimeoutError(`waiting for ${e} failed: timeout ${r}ms exceeded`),s=new Promise((a,l)=>i=l),o=null;r&&(o=setTimeout(()=>i(n),r));try{return await Promise.race([t,s])}finally{o&&clearTimeout(o)}}async function WE(t,e,r){if(!gl.isNode&&r)throw new Error("Cannot write to a path outside of Node.js environment.");let i=gl.isNode?await Xd():null,n=!1,s;r&&i&&(s=await i.promises.open(r,"w"));let o=[];for(;!n;){let l=await t.send("IO.read",{handle:e});n=l.eof;let c=Buffer.from(l.data,l.base64Encoded?"base64":void 0);o.push(c),r&&i&&await i.promises.writeFile(s,c)}r&&await s.close(),await t.send("IO.close",{handle:e});let a=null;try{a=Buffer.concat(o)}finally{return a}}async function Xd(){if(!gl.isNode)throw new Error("Cannot load the fs module API outside of Node.");let t=await Promise.resolve().then(()=>OE(require("fs")));return t.promises?t:t.default}Ie.helper={evaluationString:Gi,pageBindingInitString:qE,pageBindingDeliverResultString:jE,pageBindingDeliverErrorString:BE,pageBindingDeliverErrorValueString:UE,makePredicateString:$E,readProtocolStream:WE,waitWithTimeout:HE,waitForEvent:DE,isString:Vd,isNumber:FE,importFSModule:Xd,addEventListener:Gd,removeEventListeners:zd,valueFromRemoteObject:IE,getExceptionMessage:AE,releaseObject:NE}});var Qd=m(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});function KE(t){return t=t||new Map,{all:t,on(e,r){let i=t.get(e);i&&i.push(r)||t.set(e,[r])},off(e,r){let i=t.get(e);i&&i.splice(i.indexOf(r)>>>0,1)},emit(e,r){(t.get(e)||[]).slice().map(i=>{i(r)}),(t.get("*")||[]).slice().map(i=>{i(e,r)})}}}yl.default=KE});var hr=m(Qr=>{"use strict";var GE=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.EventEmitter=void 0;var zE=GE(Qd()),Jd=class{constructor(){this.eventsMap=new Map,this.emitter=zE.default(this.eventsMap)}on(e,r){return this.emitter.on(e,r),this}off(e,r){return this.emitter.off(e,r),this}removeListener(e,r){return this.off(e,r),this}addListener(e,r){return this.on(e,r),this}emit(e,r){return this.emitter.emit(e,r),this.eventListenersCount(e)>0}once(e,r){let i=n=>{r(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){return this.eventsMap.has(e)?this.eventsMap.get(e).length:0}};Qr.EventEmitter=Jd});var Jr=m(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.CDPSession=je.CDPSessionEmittedEvents=je.Connection=je.ConnectionEmittedEvents=void 0;var VE=ae(),Yd=Xr(),XE=Yd.debug("puppeteer:protocol:SEND \u25BA"),QE=Yd.debug("puppeteer:protocol:RECV \u25C0"),Zd=hr();je.ConnectionEmittedEvents={Disconnected:Symbol("Connection.Disconnected")};var eh=class extends Zd.EventEmitter{constructor(e,r,i=0){super();this._lastId=0,this._sessions=new Map,this._closed=!1,this._callbacks=new Map,this._url=e,this._delay=i,this._transport=r,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,...r){let i=r.length?r[0]:void 0,n=this._rawSend({method:e,params:i});return new Promise((s,o)=>{this._callbacks.set(n,{resolve:s,reject:o,error:new Error,method:e})})}_rawSend(e){let r=++this._lastId,i=JSON.stringify(Object.assign({},e,{id:r}));return XE(i),this._transport.send(i),r}async _onMessage(e){this._delay&&await new Promise(i=>setTimeout(i,this._delay)),QE(e);let r=JSON.parse(e);if(r.method==="Target.attachedToTarget"){let i=r.params.sessionId,n=new _l(this,r.params.targetInfo.type,i);this._sessions.set(i,n)}else if(r.method==="Target.detachedFromTarget"){let i=this._sessions.get(r.params.sessionId);i&&(i._onClosed(),this._sessions.delete(r.params.sessionId))}if(r.sessionId){let i=this._sessions.get(r.sessionId);i&&i._onMessage(r)}else if(r.id){let i=this._callbacks.get(r.id);i&&(this._callbacks.delete(r.id),r.error?i.reject(th(i.error,i.method,r)):i.resolve(r.result))}else this.emit(r.method,r.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=null,this._transport.onclose=null;for(let e of this._callbacks.values())e.reject(vl(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(let e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(je.ConnectionEmittedEvents.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(e){let{sessionId:r}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});return this._sessions.get(r)}};je.Connection=eh;je.CDPSessionEmittedEvents={Disconnected:Symbol("CDPSession.Disconnected")};var _l=class extends Zd.EventEmitter{constructor(e,r,i){super();this._callbacks=new Map,this._connection=e,this._targetType=r,this._sessionId=i}send(e,...r){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));let i=r.length?r[0]:void 0,n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:i||{}});return new Promise((s,o)=>{this._callbacks.set(n,{resolve:s,reject:o,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){let r=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?r.reject(th(r.error,r.method,e)):r.resolve(e.result)}else VE.assert(!e.id),this.emit(e.method,e.params)}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(let e of this._callbacks.values())e.reject(vl(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=null,this.emit(je.CDPSessionEmittedEvents.Disconnected)}};je.CDPSession=_l;function th(t,e,r){let i=`Protocol error (${e}): ${r.error.message}`;return"data"in r.error&&(i+=` ${r.error.data}`),vl(t,i)}function vl(t,e){return t.message=e,t}});var nh=m(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.Dialog=void 0;var rh=ae(),ih=class{constructor(e,r,i,n=""){this._handled=!1,this._client=e,this._type=r,this._message=i,this._defaultValue=n}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){rh.assert(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){rh.assert(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}};Ss.Dialog=ih});var oh=m(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.EmulationManager=void 0;var sh=class{constructor(e){this._emulatingMobile=!1,this._hasTouch=!1,this._client=e}async emulateViewport(e){let r=e.isMobile||!1,i=e.width,n=e.height,s=e.deviceScaleFactor||1,o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},a=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:r,width:i,height:n,deviceScaleFactor:s,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:a})]);let l=this._emulatingMobile!==r||this._hasTouch!==a;return this._emulatingMobile=r,this._hasTouch=a,l}};Cs.EmulationManager=sh});var Ts=m(Me=>{"use strict";var JE=Me&&Me.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),YE=Me&&Me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZE=Me&&Me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JE(e,t,r);return YE(e,t),e};Object.defineProperty(Me,"__esModule",{value:!0});Me.ElementHandle=Me.JSHandle=Me.createJSHandle=void 0;var Yr=ae(),Ht=ve(),bl=gs(),ex=bt();function ah(t,e){let r=t.frame();if(e.subtype==="node"&&r){let i=r._frameManager;return new wl(t,t._client,e,i.page(),i)}return new ks(t,t._client,e)}Me.createJSHandle=ah;var ks=class{constructor(e,r,i){this._disposed=!1,this._context=e,this._client=r,this._remoteObject=i}executionContext(){return this._context}async evaluate(e,...r){return await this.executionContext().evaluate(e,this,...r)}async evaluateHandle(e,...r){return await this.executionContext().evaluateHandle(e,this,...r)}async getProperty(e){let r=await this.evaluateHandle((s,o)=>{let a={__proto__:null};return a[o]=s[o],a},e),n=(await r.getProperties()).get(e)||null;return await r.dispose(),n}async getProperties(){let e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),r=new Map;for(let i of e.result)!i.enumerable||r.set(i.name,ah(this._context,i.value));return r}async jsonValue(){if(this._remoteObject.objectId){let e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return Ht.helper.valueFromRemoteObject(e.result)}return Ht.helper.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await Ht.helper.releaseObject(this._client,this._remoteObject))}toString(){if(this._remoteObject.objectId){let e=this._remoteObject.subtype||this._remoteObject.type;return"JSHandle@"+e}return"JSHandle:"+Ht.helper.valueFromRemoteObject(this._remoteObject)}};Me.JSHandle=ks;var wl=class extends ks{constructor(e,r,i,n,s){super(e,r,i);this._client=r,this._remoteObject=i,this._page=n,this._frameManager=s}asElement(){return this}async contentFrame(){let e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return typeof e.node.frameId!="string"?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){let e=await this.evaluate(async(r,i)=>r.isConnected?r.nodeType!==Node.ELEMENT_NODE?"Node is not of type HTMLElement":i?(await new Promise(s=>{let o=new IntersectionObserver(a=>{s(a[0].intersectionRatio),o.disconnect()});o.observe(r)})!==1&&r.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1):(r.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1):"Node is detached from document",this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async _clickablePoint(){let[e,r]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(Ht.debugError),this._client.send("Page.getLayoutMetrics")]);if(!e||!e.quads.length)throw new Error("Node is either not visible or not an HTMLElement");let{clientWidth:i,clientHeight:n}=r.layoutViewport,s=e.quads.map(c=>this._fromProtocolQuad(c)).map(c=>this._intersectQuadWithViewport(c,i,n)).filter(c=>tx(c)>1);if(!s.length)throw new Error("Node is either not visible or not an HTMLElement");let o=s[0],a=0,l=0;for(let c of o)a+=c.x,l+=c.y;return{x:a/4,y:l/4}}_getBoxModel(){let e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch(r=>Ht.debugError(r))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,r,i){return e.map(n=>({x:Math.min(Math.max(n.x,0),r),y:Math.min(Math.max(n.y,0),i)}))}async hover(){await this._scrollIntoViewIfNeeded();let{x:e,y:r}=await this._clickablePoint();await this._page.mouse.move(e,r)}async click(e={}){await this._scrollIntoViewIfNeeded();let{x:r,y:i}=await this._clickablePoint();await this._page.mouse.click(r,i,e)}async select(...e){for(let r of e)Yr.assert(Ht.helper.isString(r),'Values must be strings. Found value "'+r+'" of type "'+typeof r+'"');return this.evaluate((r,i)=>{if(r.nodeName.toLowerCase()!=="select")throw new Error("Element is not a <select> element.");let n=Array.from(r.options);r.value=void 0;for(let s of n)if(s.selected=i.includes(s.value),s.selected&&!r.multiple)break;return r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})),n.filter(s=>s.selected).map(s=>s.value)},e)}async uploadFile(...e){let r=await this.evaluate(c=>c.multiple);if(Yr.assert(e.length<=1||r,"Multiple file uploads only work with <input type=file multiple>"),!ex.isNode)throw new Error("JSHandle#uploadFile can only be used in Node environments.");let i=await Promise.resolve().then(()=>ZE(require("path"))),n=await Ht.helper.importFSModule(),s=await Promise.all(e.map(async c=>{let f=i.resolve(c);try{await n.promises.access(f,n.constants.R_OK)}catch(d){if(d.code==="ENOENT")throw new Error(`${c} does not exist or is not readable`)}return f})),{objectId:o}=this._remoteObject,{node:a}=await this._client.send("DOM.describeNode",{objectId:o}),{backendNodeId:l}=a;s.length===0?await this.evaluate(c=>{c.files=new DataTransfer().files,c.dispatchEvent(new Event("input",{bubbles:!0})),c.dispatchEvent(new Event("change",{bubbles:!0}))}):await this._client.send("DOM.setFileInputFiles",{objectId:o,files:s,backendNodeId:l})}async tap(){await this._scrollIntoViewIfNeeded();let{x:e,y:r}=await this._clickablePoint();await this._page.touchscreen.tap(e,r)}async focus(){await this.evaluate(e=>e.focus())}async type(e,r){await this.focus(),await this._page.keyboard.type(e,r)}async press(e,r){await this.focus(),await this._page.keyboard.press(e,r)}async boundingBox(){let e=await this._getBoxModel();if(!e)return null;let r=e.model.border,i=Math.min(r[0],r[2],r[4],r[6]),n=Math.min(r[1],r[3],r[5],r[7]),s=Math.max(r[0],r[2],r[4],r[6])-i,o=Math.max(r[1],r[3],r[5],r[7])-n;return{x:i,y:n,width:s,height:o}}async boxModel(){let e=await this._getBoxModel();if(!e)return null;let{content:r,padding:i,border:n,margin:s,width:o,height:a}=e.model;return{content:this._fromProtocolQuad(r),padding:this._fromProtocolQuad(i),border:this._fromProtocolQuad(n),margin:this._fromProtocolQuad(s),width:o,height:a}}async screenshot(e={}){let r=!1,i=await this.boundingBox();Yr.assert(i,"Node is either not visible or not an HTMLElement");let n=this._page.viewport();if(n&&(i.width>n.width||i.height>n.height)){let c={width:Math.max(n.width,Math.ceil(i.width)),height:Math.max(n.height,Math.ceil(i.height))};await this._page.setViewport(Object.assign({},n,c)),r=!0}await this._scrollIntoViewIfNeeded(),i=await this.boundingBox(),Yr.assert(i,"Node is either not visible or not an HTMLElement"),Yr.assert(i.width!==0,"Node has 0 width."),Yr.assert(i.height!==0,"Node has 0 height.");let{layoutViewport:{pageX:s,pageY:o}}=await this._client.send("Page.getLayoutMetrics"),a=Object.assign({},i);a.x+=s,a.y+=o;let l=await this._page.screenshot(Object.assign({},{clip:a},e));return r&&await this._page.setViewport(n),l}async $(e){let{updatedSelector:r,queryHandler:i}=bl.getQueryHandlerAndSelector(e);return i.queryOne(this,r)}async $$(e){let{updatedSelector:r,queryHandler:i}=bl.getQueryHandlerAndSelector(e);return i.queryAll(this,r)}async $eval(e,r,...i){let n=await this.$(e);if(!n)throw new Error(`Error: failed to find element matching selector "${e}"`);let s=await n.evaluate(r,...i);return await n.dispose(),s}async $$eval(e,r,...i){let{updatedSelector:n,queryHandler:s}=bl.getQueryHandlerAndSelector(e),o=await s.queryAllArray(this,n),a=await o.evaluate(r,...i);return await o.dispose(),a}async $x(e){let r=await this.evaluateHandle((s,o)=>{let l=(s.ownerDocument||s).evaluate(o,s,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),c=[],f;for(;f=l.iterateNext();)c.push(f);return c},e),i=await r.getProperties();await r.dispose();let n=[];for(let s of i.values()){let o=s.asElement();o&&n.push(o)}return n}async isIntersectingViewport(){return await this.evaluate(async e=>await new Promise(i=>{let n=new IntersectionObserver(s=>{i(s[0].intersectionRatio),n.disconnect()});n.observe(e)})>0)}};Me.ElementHandle=wl;function tx(t){let e=0;for(let r=0;r<t.length;++r){let i=t[r],n=t[(r+1)%t.length];e+=(i.x*n.y-n.x*i.y)/2}return Math.abs(e)}});var Ms=m(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.ExecutionContext=pr.EVALUATION_SCRIPT_URL=void 0;var Ps=ae(),zi=ve(),Vi=Ts();pr.EVALUATION_SCRIPT_URL="__puppeteer_evaluation_script__";var rx=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m,lh=class{constructor(e,r,i){this._client=e,this._world=i,this._contextId=r.id,this._contextName=r.name}frame(){return this._world?this._world.frame():null}async evaluate(e,...r){return await this._evaluateInternal(!0,e,...r)}async evaluateHandle(e,...r){return this._evaluateInternal(!1,e,...r)}async _evaluateInternal(e,r,...i){let n=`//# sourceURL=${pr.EVALUATION_SCRIPT_URL}`;if(zi.helper.isString(r)){let d=this._contextId,u=r,p=rx.test(u)?u:u+`
`+n,{exceptionDetails:y,result:w}=await this._client.send("Runtime.evaluate",{expression:p,contextId:d,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(f);if(y)throw new Error("Evaluation failed: "+zi.helper.getExceptionMessage(y));return e?zi.helper.valueFromRemoteObject(w):Vi.createJSHandle(this,w)}if(typeof r!="function")throw new Error(`Expected to get |string| or |function| as the first argument, but got "${r}" instead.`);let s=r.toString();try{new Function("("+s+")")}catch(d){s.startsWith("async ")?s="async function "+s.substring("async ".length):s="function "+s;try{new Function("("+s+")")}catch(u){throw new Error("Passed function is not well-serializable!")}}let o;try{o=this._client.send("Runtime.callFunctionOn",{functionDeclaration:s+`
`+n+`
`,executionContextId:this._contextId,arguments:i.map(c.bind(this)),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(d){throw d instanceof TypeError&&d.message.startsWith("Converting circular structure to JSON")&&(d.message+=" Are you passing a nested JSHandle?"),d}let{exceptionDetails:a,result:l}=await o.catch(f);if(a)throw new Error("Evaluation failed: "+zi.helper.getExceptionMessage(a));return e?zi.helper.valueFromRemoteObject(l):Vi.createJSHandle(this,l);function c(d){if(typeof d=="bigint")return{unserializableValue:`${d.toString()}n`};if(Object.is(d,-0))return{unserializableValue:"-0"};if(Object.is(d,Infinity))return{unserializableValue:"Infinity"};if(Object.is(d,-Infinity))return{unserializableValue:"-Infinity"};if(Object.is(d,NaN))return{unserializableValue:"NaN"};let u=d&&d instanceof Vi.JSHandle?d:null;if(u){if(u._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(u._disposed)throw new Error("JSHandle is disposed!");return u._remoteObject.unserializableValue?{unserializableValue:u._remoteObject.unserializableValue}:u._remoteObject.objectId?{objectId:u._remoteObject.objectId}:{value:u._remoteObject.value}}return{value:d}}function f(d){if(d.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(d.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};throw d.message.endsWith("Cannot find context with specified id")||d.message.endsWith("Inspected target navigated or closed")?new Error("Execution context was destroyed, most likely because of a navigation."):d}}async queryObjects(e){Ps.assert(!e._disposed,"Prototype JSHandle is disposed!"),Ps.assert(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");let r=await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return Vi.createJSHandle(this,r.objects)}async _adoptBackendNodeId(e){let{object:r}=await this._client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:this._contextId});return Vi.createJSHandle(this,r)}async _adoptElementHandle(e){Ps.assert(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),Ps.assert(this._world,"Cannot adopt handle without DOMWorld");let r=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId});return this._adoptBackendNodeId(r.node.backendNodeId)}};pr.ExecutionContext=lh});var fh=m(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.HTTPRequest=void 0;var mr=ae(),Os=ve(),ch=class{constructor(e,r,i,n,s,o){this._failureText=null,this._response=null,this._fromMemoryCache=!1,this._interceptionHandled=!1,this._headers={},this._client=e,this._requestId=s.requestId,this._isNavigationRequest=s.requestId===s.loaderId&&s.type==="Document",this._interceptionId=i,this._allowInterception=n,this._url=s.request.url,this._resourceType=s.type.toLowerCase(),this._method=s.request.method,this._postData=s.request.postData,this._frame=r,this._redirectChain=o;for(let a of Object.keys(s.request.headers))this._headers[a.toLowerCase()]=s.request.headers[a]}url(){return this._url}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={}){if(this._url.startsWith("data:"))return;mr.assert(this._allowInterception,"Request Interception is not enabled!"),mr.assert(!this._interceptionHandled,"Request is already handled!");let{url:r,method:i,postData:n,headers:s}=e;this._interceptionHandled=!0;let o=n?Buffer.from(n).toString("base64"):void 0;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:r,method:i,postData:o,headers:s?uh(s):void 0}).catch(a=>{Os.debugError(a)})}async respond(e){if(this._url.startsWith("data:"))return;mr.assert(this._allowInterception,"Request Interception is not enabled!"),mr.assert(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0;let r=e.body&&Os.helper.isString(e.body)?Buffer.from(e.body):e.body||null,i={};if(e.headers)for(let n of Object.keys(e.headers))i[n.toLowerCase()]=e.headers[n];e.contentType&&(i["content-type"]=e.contentType),r&&!("content-length"in i)&&(i["content-length"]=String(Buffer.byteLength(r))),await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status||200,responsePhrase:nx[e.status||200],responseHeaders:uh(i),body:r?r.toString("base64"):void 0}).catch(n=>{Os.debugError(n)})}async abort(e="failed"){if(this._url.startsWith("data:"))return;let r=ix[e];mr.assert(r,"Unknown error code: "+e),mr.assert(this._allowInterception,"Request Interception is not enabled!"),mr.assert(!this._interceptionHandled,"Request is already handled!"),this._interceptionHandled=!0,await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:r}).catch(i=>{Os.debugError(i)})}};Ls.HTTPRequest=ch;var ix={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function uh(t){let e=[];for(let r in t)Object.is(t[r],void 0)||e.push({name:r,value:t[r]+""});return e}var nx={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"Switch Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","510":"Not Extended","511":"Network Authentication Required"}});var hh=m(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.SecurityDetails=void 0;var dh=class{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol,this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}};Rs.SecurityDetails=dh});var mh=m(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.HTTPResponse=void 0;var sx=hh(),ph=class{constructor(e,r,i){this._contentPromise=null,this._headers={},this._client=e,this._request=r,this._bodyLoadedPromise=new Promise(n=>{this._bodyLoadedPromiseFulfill=n}),this._remoteAddress={ip:i.remoteIPAddress,port:i.remotePort},this._status=i.status,this._statusText=i.statusText,this._url=r.url(),this._fromDiskCache=!!i.fromDiskCache,this._fromServiceWorker=!!i.fromServiceWorker;for(let n of Object.keys(i.headers))this._headers[n.toLowerCase()]=i.headers[n];this._securityDetails=i.securityDetails?new sx.SecurityDetails(i.securityDetails):null}_resolveBody(e){return this._bodyLoadedPromiseFulfill(e)}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return this._status===0||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;let r=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(r.body,r.base64Encoded?"base64":"utf8")})),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){let e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}};As.HTTPResponse=ph});var Is=m(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.NetworkManager=Be.NetworkManagerEmittedEvents=void 0;var ox=hr(),ax=ae(),El=ve(),lx=fh(),gh=mh();Be.NetworkManagerEmittedEvents={Request:Symbol("NetworkManager.Request"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};var yh=class extends ox.EventEmitter{constructor(e,r,i){super();this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._extraHTTPHeaders={},this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._userCacheDisabled=!1,this._requestIdToInterceptionId=new Map,this._emulatedNetworkConditions={offline:!1,upload:-1,download:-1,latency:0},this._client=e,this._ignoreHTTPSErrors=r,this._frameManager=i,this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this)),this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this)),this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}async initialize(){await this._client.send("Network.enable"),this._ignoreHTTPSErrors&&await this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(let r of Object.keys(e)){let i=e[r];ax.assert(El.helper.isString(i),`Expected value of header "${r}" to be String, but "${typeof i}" is found.`),this._extraHTTPHeaders[r.toLowerCase()]=i}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}async setOfflineMode(e){this._emulatedNetworkConditions.offline=e,await this._updateNetworkConditions()}async emulateNetworkConditions(e){this._emulatedNetworkConditions.upload=e?e.upload:-1,this._emulatedNetworkConditions.download=e?e.download:-1,this._emulatedNetworkConditions.latency=e?e.latency:0,await this._updateNetworkConditions()}async _updateNetworkConditions(){await this._client.send("Network.emulateNetworkConditions",{offline:this._emulatedNetworkConditions.offline,latency:this._emulatedNetworkConditions.latency,uploadThroughput:this._emulatedNetworkConditions.upload,downloadThroughput:this._emulatedNetworkConditions.download})}async setUserAgent(e){await this._client.send("Network.setUserAgentOverride",{userAgent:e})}async setCacheEnabled(e){this._userCacheDisabled=!e,await this._updateProtocolCacheDisabled()}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){let e=this._userRequestInterceptionEnabled||!!this._credentials;e!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=e,e?await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")]))}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._userCacheDisabled||this._protocolRequestInterceptionEnabled})}_onRequestWillBeSent(e){if(this._protocolRequestInterceptionEnabled&&!e.request.url.startsWith("data:")){let r=e.requestId,i=this._requestIdToInterceptionId.get(r);i?(this._onRequest(e,i),this._requestIdToInterceptionId.delete(r)):this._requestIdToRequestWillBeSentEvent.set(e.requestId,e);return}this._onRequest(e,null)}_onAuthRequired(e){let r="Default";this._attemptedAuthentications.has(e.requestId)?r="CancelAuth":this._credentials&&(r="ProvideCredentials",this._attemptedAuthentications.add(e.requestId));let{username:i,password:n}=this._credentials||{username:void 0,password:void 0};this._client.send("Fetch.continueWithAuth",{requestId:e.requestId,authChallengeResponse:{response:r,username:i,password:n}}).catch(El.debugError)}_onRequestPaused(e){!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Fetch.continueRequest",{requestId:e.requestId}).catch(El.debugError);let r=e.networkId,i=e.requestId;if(r&&this._requestIdToRequestWillBeSentEvent.has(r)){let n=this._requestIdToRequestWillBeSentEvent.get(r);this._onRequest(n,i),this._requestIdToRequestWillBeSentEvent.delete(r)}else this._requestIdToInterceptionId.set(r,i)}_onRequest(e,r){let i=[];if(e.redirectResponse){let o=this._requestIdToRequest.get(e.requestId);o&&(this._handleRequestRedirect(o,e.redirectResponse),i=o._redirectChain)}let n=e.frameId?this._frameManager.frame(e.frameId):null,s=new lx.HTTPRequest(this._client,n,r,this._userRequestInterceptionEnabled,e,i);this._requestIdToRequest.set(e.requestId,s),this.emit(Be.NetworkManagerEmittedEvents.Request,s)}_onRequestServedFromCache(e){let r=this._requestIdToRequest.get(e.requestId);r&&(r._fromMemoryCache=!0)}_handleRequestRedirect(e,r){let i=new gh.HTTPResponse(this._client,e,r);e._response=i,e._redirectChain.push(e),i._resolveBody(new Error("Response body is unavailable for redirect responses")),this._requestIdToRequest.delete(e._requestId),this._attemptedAuthentications.delete(e._interceptionId),this.emit(Be.NetworkManagerEmittedEvents.Response,i),this.emit(Be.NetworkManagerEmittedEvents.RequestFinished,e)}_onResponseReceived(e){let r=this._requestIdToRequest.get(e.requestId);if(!r)return;let i=new gh.HTTPResponse(this._client,r,e.response);r._response=i,this.emit(Be.NetworkManagerEmittedEvents.Response,i)}_onLoadingFinished(e){let r=this._requestIdToRequest.get(e.requestId);!r||(r.response()&&r.response()._resolveBody(null),this._requestIdToRequest.delete(r._requestId),this._attemptedAuthentications.delete(r._interceptionId),this.emit(Be.NetworkManagerEmittedEvents.RequestFinished,r))}_onLoadingFailed(e){let r=this._requestIdToRequest.get(e.requestId);if(!r)return;r._failureText=e.errorText;let i=r.response();i&&i._resolveBody(null),this._requestIdToRequest.delete(r._requestId),this._attemptedAuthentications.delete(r._interceptionId),this.emit(Be.NetworkManagerEmittedEvents.RequestFailed,r)}};Be.NetworkManager=yh});var Cl=m(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.LifecycleWatcher=void 0;var cx=ae(),Zr=ve(),ux=Hr(),Sl=xl(),fx=Is(),dx=Jr(),hx=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]),_h=class{constructor(e,r,i,n){Array.isArray(i)?i=i.slice():typeof i=="string"&&(i=[i]),this._expectedLifecycle=i.map(s=>{let o=hx.get(s);return cx.assert(o,"Unknown value for options.waitUntil: "+s),o}),this._frameManager=e,this._frame=r,this._initialLoaderId=r._loaderId,this._timeout=n,this._navigationRequest=null,this._eventListeners=[Zr.helper.addEventListener(e._client,dx.CDPSessionEmittedEvents.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),Zr.helper.addEventListener(this._frameManager,Sl.FrameManagerEmittedEvents.LifecycleEvent,this._checkLifecycleComplete.bind(this)),Zr.helper.addEventListener(this._frameManager,Sl.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),Zr.helper.addEventListener(this._frameManager,Sl.FrameManagerEmittedEvents.FrameDetached,this._onFrameDetached.bind(this)),Zr.helper.addEventListener(this._frameManager.networkManager(),fx.NetworkManagerEmittedEvents.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise(s=>{this._sameDocumentNavigationCompleteCallback=s}),this._lifecyclePromise=new Promise(s=>{this._lifecycleCallback=s}),this._newDocumentNavigationPromise=new Promise(s=>{this._newDocumentNavigationCompleteCallback=s}),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise(s=>{this._terminationCallback=s}),this._checkLifecycleComplete()}_onRequest(e){e.frame()!==this._frame||!e.isNavigationRequest()||(this._navigationRequest=e)}_onFrameDetached(e){if(this._frame===e){this._terminationCallback.call(null,new Error("Navigating frame was detached"));return}this._checkLifecycleComplete()}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});let e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise(r=>this._maximumTimer=setTimeout(r,this._timeout)).then(()=>new ux.TimeoutError(e))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){if(!e(this._frame,this._expectedLifecycle)||(this._lifecycleCallback(),this._frame._loaderId===this._initialLoaderId&&!this._hasSameDocumentNavigation))return;this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback();function e(r,i){for(let n of i)if(!r._lifecycleEvents.has(n))return!1;for(let n of r.childFrames())if(!e(n,i))return!1;return!0}}dispose(){Zr.helper.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}};Ns.LifecycleWatcher=_h});var bh=m(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.WaitTask=ei.DOMWorld=void 0;var gr=ae(),ot=ve(),px=Cl(),mx=Hr(),gx=gs(),vh=bt(),yr=class{constructor(e,r,i){this._documentPromise=null,this._contextPromise=null,this._contextResolveCallback=null,this._detached=!1,this._waitTasks=new Set,this._boundFunctions=new Map,this._ctxBindings=new Set,this._settingUpBinding=null,this._frameManager=e,this._frame=r,this._timeoutSettings=i,this._setContext(null),e._client.on("Runtime.bindingCalled",n=>this._onBindingCalled(n))}frame(){return this._frame}async _setContext(e){if(e){this._ctxBindings.clear(),this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(let r of this._waitTasks)r.rerun()}else this._documentPromise=null,this._contextPromise=new Promise(r=>{this._contextResolveCallback=r})}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=!0;for(let e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...r){return(await this.executionContext()).evaluateHandle(e,...r)}async evaluate(e,...r){return(await this.executionContext()).evaluate(e,...r)}async $(e){return await(await this._document()).$(e)}async _document(){return this._documentPromise?this._documentPromise:(this._documentPromise=this.executionContext().then(async e=>(await e.evaluateHandle("document")).asElement()),this._documentPromise)}async $x(e){return await(await this._document()).$x(e)}async $eval(e,r,...i){return(await this._document()).$eval(e,r,...i)}async $$eval(e,r,...i){return await(await this._document()).$$eval(e,r,...i)}async $$(e){return await(await this._document()).$$(e)}async content(){return await this.evaluate(()=>{let e="";return document.doctype&&(e=new XMLSerializer().serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}async setContent(e,r={}){let{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=r;await this.evaluate(a=>{document.open(),document.write(a),document.close()},e);let s=new px.LifecycleWatcher(this._frameManager,this._frame,i,n),o=await Promise.race([s.timeoutOrTerminationPromise(),s.lifecyclePromise()]);if(s.dispose(),o)throw o}async addScriptTag(e){let{url:r=null,path:i=null,content:n=null,type:s=""}=e;if(r!==null)try{return(await(await this.executionContext()).evaluateHandle(o,r,s)).asElement()}catch(l){throw new Error(`Loading script from ${r} failed`)}if(i!==null){if(!vh.isNode)throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.");let c=await(await ot.helper.importFSModule()).promises.readFile(i,"utf8");return c+="//# sourceURL="+i.replace(/\n/g,""),(await(await this.executionContext()).evaluateHandle(a,c,s)).asElement()}if(n!==null)return(await(await this.executionContext()).evaluateHandle(a,n,s)).asElement();throw new Error("Provide an object with a `url`, `path` or `content` property");async function o(l,c){let f=document.createElement("script");f.src=l,c&&(f.type=c);let d=new Promise((u,p)=>{f.onload=u,f.onerror=p});return document.head.appendChild(f),await d,f}function a(l,c="text/javascript"){let f=document.createElement("script");f.type=c,f.text=l;let d=null;if(f.onerror=u=>d=u,document.head.appendChild(f),d)throw d;return f}}async addStyleTag(e){let{url:r=null,path:i=null,content:n=null}=e;if(r!==null)try{return(await(await this.executionContext()).evaluateHandle(s,r)).asElement()}catch(a){throw new Error(`Loading style from ${r} failed`)}if(i!==null){if(!vh.isNode)throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.");let l=await(await ot.helper.importFSModule()).promises.readFile(i,"utf8");return l+="/*# sourceURL="+i.replace(/\n/g,"")+"*/",(await(await this.executionContext()).evaluateHandle(o,l)).asElement()}if(n!==null)return(await(await this.executionContext()).evaluateHandle(o,n)).asElement();throw new Error("Provide an object with a `url`, `path` or `content` property");async function s(a){let l=document.createElement("link");l.rel="stylesheet",l.href=a;let c=new Promise((f,d)=>{l.onload=f,l.onerror=d});return document.head.appendChild(l),await c,l}async function o(a){let l=document.createElement("style");l.type="text/css",l.appendChild(document.createTextNode(a));let c=new Promise((f,d)=>{l.onload=f,l.onerror=d});return document.head.appendChild(l),await c,l}}async click(e,r){let i=await this.$(e);gr.assert(i,"No node found for selector: "+e),await i.click(r),await i.dispose()}async focus(e){let r=await this.$(e);gr.assert(r,"No node found for selector: "+e),await r.focus(),await r.dispose()}async hover(e){let r=await this.$(e);gr.assert(r,"No node found for selector: "+e),await r.hover(),await r.dispose()}async select(e,...r){let i=await this.$(e);gr.assert(i,"No node found for selector: "+e);let n=await i.select(...r);return await i.dispose(),n}async tap(e){let r=await this.$(e);await r.tap(),await r.dispose()}async type(e,r,i){let n=await this.$(e);gr.assert(n,"No node found for selector: "+e),await n.type(r,i),await n.dispose()}async waitForSelector(e,r){let{updatedSelector:i,queryHandler:n}=gx.getQueryHandlerAndSelector(e);return n.waitFor(this,i,r)}async addBindingToContext(e,r){if(this._ctxBindings.has(yr.bindingIdentifier(r,e._contextId)))return;if(this._settingUpBinding)return await this._settingUpBinding,this.addBindingToContext(e,r);let i=async n=>{let s=ot.helper.pageBindingInitString("internal",n);try{await e._client.send("Runtime.addBinding",{name:n,executionContextName:e._contextName}),await e.evaluate(s)}catch(o){let a=o.message.includes("Execution context was destroyed"),l=o.message.includes("Cannot find context with specified id");if(a||l)return;ot.debugError(o);return}this._ctxBindings.add(yr.bindingIdentifier(n,e._contextId))};this._settingUpBinding=i(r),await this._settingUpBinding,this._settingUpBinding=null}async _onBindingCalled(e){let r;if(!this._hasContext())return;let i=await this.executionContext();try{r=JSON.parse(e.payload)}catch(c){return}let{type:n,name:s,seq:o,args:a}=r;if(n!=="internal"||!this._ctxBindings.has(yr.bindingIdentifier(s,i._contextId))||i._contextId!==e.executionContextId)return;try{let c=await this._boundFunctions.get(s)(...a);await i.evaluate(l,s,o,c)}catch(c){if(c.message.includes("Protocol error"))return;ot.debugError(c)}function l(c,f,d){globalThis[c].callbacks.get(f).resolve(d),globalThis[c].callbacks.delete(f)}}async waitForSelectorInPage(e,r,i,n){let{visible:s=!1,hidden:o=!1,timeout:a=this._timeoutSettings.timeout()}=i,l=s||o?"raf":"mutation",c=`selector \`${r}\`${o?" to be hidden":""}`;async function f(w,v,x){let k=predicateQueryHandler?await predicateQueryHandler(document,w):document.querySelector(w);return checkWaitForOptions(k,v,x)}let d={domWorld:this,predicateBody:ot.helper.makePredicateString(f,e),title:c,polling:l,timeout:a,args:[r,s,o],binding:n},p=await new Xi(d).promise,y=p.asElement();return y||(await p.dispose(),null)}async waitForXPath(e,r){let{visible:i=!1,hidden:n=!1,timeout:s=this._timeoutSettings.timeout()}=r,o=i||n?"raf":"mutation",a=`XPath \`${e}\`${n?" to be hidden":""}`;function l(p,y,w){let v=document.evaluate(p,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(v,y,w)}let c={domWorld:this,predicateBody:ot.helper.makePredicateString(l),title:a,polling:o,timeout:s,args:[e,i,n]},d=await new Xi(c).promise,u=d.asElement();return u||(await d.dispose(),null)}waitForFunction(e,r={},...i){let{polling:n="raf",timeout:s=this._timeoutSettings.timeout()}=r,o={domWorld:this,predicateBody:e,title:"function",polling:n,timeout:s,args:i};return new Xi(o).promise}async title(){return this.evaluate(()=>document.title)}};ei.DOMWorld=yr;yr.bindingIdentifier=(t,e)=>`${t}_${e}`;var Xi=class{constructor(e){if(this._runCount=0,this._terminated=!1,ot.helper.isString(e.polling))gr.assert(e.polling==="raf"||e.polling==="mutation","Unknown polling option: "+e.polling);else if(ot.helper.isNumber(e.polling))gr.assert(e.polling>0,"Cannot poll with non-positive interval: "+e.polling);else throw new Error("Unknown polling options: "+e.polling);function r(i){return ot.helper.isString(i)?`return (${i});`:`return (${i})(...args);`}if(this._domWorld=e.domWorld,this._polling=e.polling,this._timeout=e.timeout,this._predicateBody=r(e.predicateBody),this._args=e.args,this._binding=e.binding,this._runCount=0,this._domWorld._waitTasks.add(this),this._binding&&this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction),this.promise=new Promise((i,n)=>{this._resolve=i,this._reject=n}),e.timeout){let i=new mx.TimeoutError(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(i),e.timeout)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){let e=++this._runCount,r=null,i=null,n=await this._domWorld.executionContext();if(!(this._terminated||e!==this._runCount)&&(this._binding&&await this._domWorld.addBindingToContext(n,this._binding.name),!(this._terminated||e!==this._runCount))){try{r=await n.evaluateHandle(yx,this._predicateBody,this._polling,this._timeout,...this._args)}catch(s){i=s}if(this._terminated||e!==this._runCount){r&&await r.dispose();return}if(!i&&await this._domWorld.evaluate(s=>!s,r).catch(()=>!0)){await r.dispose();return}if(i){if(i.message.includes("TypeError: binding is not a function"))return this.rerun();if(i.message.includes("Execution context is not available in detached frame")){this.terminate(new Error("waitForFunction failed: frame got detached."));return}if(i.message.includes("Execution context was destroyed")||i.message.includes("Cannot find context with specified id"))return;this._reject(i)}else this._resolve(r);this._cleanup()}}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this)}};ei.WaitTask=Xi;async function yx(t,e,r,...i){let n=new Function("...args",t),s=!1;if(r&&setTimeout(()=>s=!0,r),e==="raf")return await a();if(e==="mutation")return await o();if(typeof e=="number")return await l(e);async function o(){let c=await n(...i);if(c)return Promise.resolve(c);let f,d=new Promise(p=>f=p),u=new MutationObserver(async()=>{s&&(u.disconnect(),f());let p=await n(...i);p&&(u.disconnect(),f(p))});return u.observe(document,{childList:!0,subtree:!0,attributes:!0}),d}async function a(){let c,f=new Promise(u=>c=u);return await d(),f;async function d(){if(s){c();return}let u=await n(...i);u?c(u):requestAnimationFrame(d)}}async function l(c){let f,d=new Promise(p=>f=p);return await u(),d;async function u(){if(s){f();return}let p=await n(...i);p?f(p):setTimeout(u,c)}}}});var xl=m(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.Frame=ke.FrameManager=ke.FrameManagerEmittedEvents=void 0;var _x=Xr(),vx=hr(),ti=ae(),kl=ve(),wh=Ms(),Eh=Cl(),xh=bh(),bx=Is(),Sh="__puppeteer_utility_world__";ke.FrameManagerEmittedEvents={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};var Ch=class extends vx.EventEmitter{constructor(e,r,i,n){super();this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client=e,this._page=r,this._networkManager=new bx.NetworkManager(e,i,this),this._timeoutSettings=n,this._client.on("Page.frameAttached",s=>this._onFrameAttached(s.frameId,s.parentFrameId)),this._client.on("Page.frameNavigated",s=>this._onFrameNavigated(s.frame)),this._client.on("Page.navigatedWithinDocument",s=>this._onFrameNavigatedWithinDocument(s.frameId,s.url)),this._client.on("Page.frameDetached",s=>this._onFrameDetached(s.frameId)),this._client.on("Page.frameStoppedLoading",s=>this._onFrameStoppedLoading(s.frameId)),this._client.on("Runtime.executionContextCreated",s=>this._onExecutionContextCreated(s.context)),this._client.on("Runtime.executionContextDestroyed",s=>this._onExecutionContextDestroyed(s.executionContextId)),this._client.on("Runtime.executionContextsCleared",()=>this._onExecutionContextsCleared()),this._client.on("Page.lifecycleEvent",s=>this._onLifecycleEvent(s)),this._client.on("Target.attachedToTarget",async s=>this._onFrameMoved(s))}async initialize(){let e=await Promise.all([this._client.send("Page.enable"),this._client.send("Page.getFrameTree")]),{frameTree:r}=e[1];this._handleFrameTree(r),await Promise.all([this._client.send("Page.setLifecycleEventsEnabled",{enabled:!0}),this._client.send("Runtime.enable").then(()=>this._ensureIsolatedWorld(Sh)),this._networkManager.initialize()])}networkManager(){return this._networkManager}async navigateFrame(e,r,i={}){kh(i);let{referer:n=this._networkManager.extraHTTPHeaders().referer,waitUntil:s=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=i,a=new Eh.LifecycleWatcher(this,e,s,o),l=!1,c=await Promise.race([f(this._client,r,n,e._id),a.timeoutOrTerminationPromise()]);if(c||(c=await Promise.race([a.timeoutOrTerminationPromise(),l?a.newDocumentNavigationPromise():a.sameDocumentNavigationPromise()])),a.dispose(),c)throw c;return a.navigationResponse();async function f(d,u,p,y){try{let w=await d.send("Page.navigate",{url:u,referrer:p,frameId:y});return l=!!w.loaderId,w.errorText?new Error(`${w.errorText} at ${u}`):null}catch(w){return w}}}async waitForFrameNavigation(e,r={}){kh(r);let{waitUntil:i=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=r,s=new Eh.LifecycleWatcher(this,e,i,n),o=await Promise.race([s.timeoutOrTerminationPromise(),s.sameDocumentNavigationPromise(),s.newDocumentNavigationPromise()]);if(s.dispose(),o)throw o;return s.navigationResponse()}async _onFrameMoved(e){e.targetInfo.type==="iframe"&&_x.debug("puppeteer:frame")(`The frame '${e.targetInfo.targetId}' moved to another session. Out-of-process iframes (OOPIF) are not supported by Puppeteer yet. https://github.com/puppeteer/puppeteer/issues/2548`)}_onLifecycleEvent(e){let r=this._frames.get(e.frameId);!r||(r._onLifecycleEvent(e.loaderId,e.name),this.emit(ke.FrameManagerEmittedEvents.LifecycleEvent,r))}_onFrameStoppedLoading(e){let r=this._frames.get(e);!r||(r._onLoadingStopped(),this.emit(ke.FrameManagerEmittedEvents.LifecycleEvent,r))}_handleFrameTree(e){if(e.frame.parentId&&this._onFrameAttached(e.frame.id,e.frame.parentId),this._onFrameNavigated(e.frame),!!e.childFrames)for(let r of e.childFrames)this._handleFrameTree(r)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,r){if(this._frames.has(e))return;ti.assert(r);let i=this._frames.get(r),n=new Fs(this,i,e);this._frames.set(n._id,n),this.emit(ke.FrameManagerEmittedEvents.FrameAttached,n)}_onFrameNavigated(e){let r=!e.parentId,i=r?this._mainFrame:this._frames.get(e.id);if(ti.assert(r||i,"We either navigate top level or have old version of the navigated frame"),i)for(let n of i.childFrames())this._removeFramesRecursively(n);r&&(i?(this._frames.delete(i._id),i._id=e.id):i=new Fs(this,null,e.id),this._frames.set(e.id,i),this._mainFrame=i),i._navigated(e),this.emit(ke.FrameManagerEmittedEvents.FrameNavigated,i)}async _ensureIsolatedWorld(e){this._isolatedWorlds.has(e)||(this._isolatedWorlds.add(e),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${wh.EVALUATION_SCRIPT_URL}`,worldName:e}),await Promise.all(this.frames().map(r=>this._client.send("Page.createIsolatedWorld",{frameId:r._id,worldName:e,grantUniveralAccess:!0}).catch(kl.debugError))))}_onFrameNavigatedWithinDocument(e,r){let i=this._frames.get(e);!i||(i._navigatedWithinDocument(r),this.emit(ke.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,i),this.emit(ke.FrameManagerEmittedEvents.FrameNavigated,i))}_onFrameDetached(e){let r=this._frames.get(e);r&&this._removeFramesRecursively(r)}_onExecutionContextCreated(e){let r=e.auxData,i=r?r.frameId:null,n=this._frames.get(i)||null,s=null;n&&(e.auxData&&!!e.auxData.isDefault?s=n._mainWorld:e.name===Sh&&!n._secondaryWorld._hasContext()&&(s=n._secondaryWorld));let o=new wh.ExecutionContext(this._client,e,s);s&&s._setContext(o),this._contextIdToContext.set(e.id,o)}_onExecutionContextDestroyed(e){let r=this._contextIdToContext.get(e);!r||(this._contextIdToContext.delete(e),r._world&&r._world._setContext(null))}_onExecutionContextsCleared(){for(let e of this._contextIdToContext.values())e._world&&e._world._setContext(null);this._contextIdToContext.clear()}executionContextById(e){let r=this._contextIdToContext.get(e);return ti.assert(r,"INTERNAL ERROR: missing context with id = "+e),r}_removeFramesRecursively(e){for(let r of e.childFrames())this._removeFramesRecursively(r);e._detach(),this._frames.delete(e._id),this.emit(ke.FrameManagerEmittedEvents.FrameDetached,e)}};ke.FrameManager=Ch;var Fs=class{constructor(e,r,i){this._url="",this._detached=!1,this._loaderId="",this._lifecycleEvents=new Set,this._frameManager=e,this._parentFrame=r,this._url="",this._id=i,this._detached=!1,this._loaderId="",this._mainWorld=new xh.DOMWorld(e,this,e._timeoutSettings),this._secondaryWorld=new xh.DOMWorld(e,this,e._timeoutSettings),this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this)}async goto(e,r={}){return await this._frameManager.navigateFrame(this,e,r)}async waitForNavigation(e={}){return await this._frameManager.waitForFrameNavigation(this,e)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...r){return this._mainWorld.evaluateHandle(e,...r)}async evaluate(e,...r){return this._mainWorld.evaluate(e,...r)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,r,...i){return this._mainWorld.$eval(e,r,...i)}async $$eval(e,r,...i){return this._mainWorld.$$eval(e,r,...i)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,r={}){return this._secondaryWorld.setContent(e,r)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,r={}){return this._secondaryWorld.click(e,r)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...r){return this._secondaryWorld.select(e,...r)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,r,i){return this._mainWorld.type(e,r,i)}waitFor(e,r={},...i){let n="//";if(console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code."),kl.helper.isString(e)){let s=e;return s.startsWith(n)?this.waitForXPath(s,r):this.waitForSelector(s,r)}return kl.helper.isNumber(e)?new Promise(s=>setTimeout(s,e)):typeof e=="function"?this.waitForFunction(e,r,...i):Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForTimeout(e){return new Promise(r=>{setTimeout(r,e)})}async waitForSelector(e,r={}){let i=await this._secondaryWorld.waitForSelector(e,r);if(!i)return null;let s=await(await this._mainWorld.executionContext())._adoptElementHandle(i);return await i.dispose(),s}async waitForXPath(e,r={}){let i=await this._secondaryWorld.waitForXPath(e,r);if(!i)return null;let s=await(await this._mainWorld.executionContext())._adoptElementHandle(i);return await i.dispose(),s}waitForFunction(e,r={},...i){return this._mainWorld.waitForFunction(e,r,...i)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name,this._url=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,r){r==="init"&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(r)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}};ke.Frame=Fs;function kh(t){ti.assert(t.networkIdleTimeout===void 0,"ERROR: networkIdleTimeout option is no longer supported."),ti.assert(t.networkIdleInflight===void 0,"ERROR: networkIdleInflight option is no longer supported."),ti.assert(t.waitUntil!=="networkidle",'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}});var Th=m(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.keyDefinitions=void 0;Ds.keyDefinitions={"0":{keyCode:48,key:"0",code:"Digit0"},"1":{keyCode:49,key:"1",code:"Digit1"},"2":{keyCode:50,key:"2",code:"Digit2"},"3":{keyCode:51,key:"3",code:"Digit3"},"4":{keyCode:52,key:"4",code:"Digit4"},"5":{keyCode:53,key:"5",code:"Digit5"},"6":{keyCode:54,key:"6",code:"Digit6"},"7":{keyCode:55,key:"7",code:"Digit7"},"8":{keyCode:56,key:"8",code:"Digit8"},"9":{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}}});var Rh=m(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.Touchscreen=Wt.Mouse=Wt.Keyboard=void 0;var wx=ae(),Ph=Th(),Mh=class{constructor(e){this._modifiers=0,this._pressedKeys=new Set,this._client=e}async down(e,r={text:void 0}){let i=this._keyDescriptionForString(e),n=this._pressedKeys.has(i.code);this._pressedKeys.add(i.code),this._modifiers|=this._modifierBit(i.key);let s=r.text===void 0?i.text:r.text;await this._client.send("Input.dispatchKeyEvent",{type:s?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:i.keyCode,code:i.code,key:i.key,text:s,unmodifiedText:s,autoRepeat:n,location:i.location,isKeypad:i.location===3})}_modifierBit(e){return e==="Alt"?1:e==="Control"?2:e==="Meta"?4:e==="Shift"?8:0}_keyDescriptionForString(e){let r=this._modifiers&8,i={key:"",keyCode:0,code:"",text:"",location:0},n=Ph.keyDefinitions[e];return wx.assert(n,`Unknown key: "${e}"`),n.key&&(i.key=n.key),r&&n.shiftKey&&(i.key=n.shiftKey),n.keyCode&&(i.keyCode=n.keyCode),r&&n.shiftKeyCode&&(i.keyCode=n.shiftKeyCode),n.code&&(i.code=n.code),n.location&&(i.location=n.location),i.key.length===1&&(i.text=i.key),n.text&&(i.text=n.text),r&&n.shiftText&&(i.text=n.shiftText),this._modifiers&~8&&(i.text=""),i}async up(e){let r=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(r.key),this._pressedKeys.delete(r.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:r.key,windowsVirtualKeyCode:r.keyCode,code:r.code,location:r.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!Ph.keyDefinitions[e]}async type(e,r={}){let i=r.delay||null;for(let n of e)this.charIsKey(n)?await this.press(n,{delay:i}):(i&&await new Promise(s=>setTimeout(s,i)),await this.sendCharacter(n))}async press(e,r={}){let{delay:i=null}=r;await this.down(e,r),i&&await new Promise(n=>setTimeout(n,r.delay)),await this.up(e)}};Wt.Keyboard=Mh;var Lh=class{constructor(e,r){this._x=0,this._y=0,this._button="none",this._client=e,this._keyboard=r}async move(e,r,i={}){let{steps:n=1}=i,s=this._x,o=this._y;this._x=e,this._y=r;for(let a=1;a<=n;a++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:s+(this._x-s)*(a/n),y:o+(this._y-o)*(a/n),modifiers:this._keyboard._modifiers})}async click(e,r,i={}){let{delay:n=null}=i;n!==null?(await Promise.all([this.move(e,r),this.down(i)]),await new Promise(s=>setTimeout(s,n)),await this.up(i)):await Promise.all([this.move(e,r),this.down(i),this.up(i)])}async down(e={}){let{button:r="left",clickCount:i=1}=e;this._button=r,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:r,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async up(e={}){let{button:r="left",clickCount:i=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:r,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:i})}async wheel(e={}){let{deltaX:r=0,deltaY:i=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:r,deltaY:i,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}};Wt.Mouse=Lh;var Oh=class{constructor(e,r){this._client=e,this._keyboard=r}async tap(e,r){let i=[{x:Math.round(e),y:Math.round(r)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:i,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}};Wt.Touchscreen=Oh});var Ih=m(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.Tracing=void 0;var Ex=ae(),xx=ve(),Ah=class{constructor(e){this._recording=!1,this._path="",this._client=e}async start(e={}){Ex.assert(!this._recording,"Cannot start recording trace while already recording trace.");let r=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"],{path:i=null,screenshots:n=!1,categories:s=r}=e;n&&s.push("disabled-by-default-devtools.screenshot"),this._path=i,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",categories:s.join(",")})}async stop(){let e,r,i=new Promise((n,s)=>{e=n,r=s});return this._client.once("Tracing.tracingComplete",n=>{xx.helper.readProtocolStream(this._client,n.stream,this._path).then(e,r)}),await this._client.send("Tracing.end"),this._recording=!1,i}};qs.Tracing=Ah});var jh=m(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Coverage=void 0;var Bs=ae(),Kt=ve(),Sx=Ms(),Nh=class{constructor(e){this._jsCoverage=new Fh(e),this._cssCoverage=new Dh(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}};js.Coverage=Nh;var Fh=class{constructor(e){this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){Bs.assert(!this._enabled,"JSCoverage is already enabled");let{resetOnNavigation:r=!0,reportAnonymousScripts:i=!1}=e;this._resetOnNavigation=r,this._reportAnonymousScripts=i,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[Kt.helper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),Kt.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:!1,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){!this._resetOnNavigation||(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==Sx.EVALUATION_SCRIPT_URL&&!(!e.url&&!this._reportAnonymousScripts))try{let r=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,r.scriptSource)}catch(r){Kt.debugError(r)}}async stop(){Bs.assert(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;let e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);Kt.helper.removeEventListeners(this._eventListeners);let r=[],i=e[0];for(let n of i.result){let s=this._scriptURLs.get(n.scriptId);!s&&this._reportAnonymousScripts&&(s="debugger://VM"+n.scriptId);let o=this._scriptSources.get(n.scriptId);if(o===void 0||s===void 0)continue;let a=[];for(let c of n.functions)a.push(...c.ranges);let l=qh(a);r.push({url:s,ranges:l,text:o})}return r}},Dh=class{constructor(e){this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){Bs.assert(!this._enabled,"CSSCoverage is already enabled");let{resetOnNavigation:r=!0}=e;this._resetOnNavigation=r,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[Kt.helper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),Kt.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){!this._resetOnNavigation||(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){let r=e.header;if(!!r.sourceURL)try{let i=await this._client.send("CSS.getStyleSheetText",{styleSheetId:r.styleSheetId});this._stylesheetURLs.set(r.styleSheetId,r.sourceURL),this._stylesheetSources.set(r.styleSheetId,i.text)}catch(i){Kt.debugError(i)}}async stop(){Bs.assert(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;let e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),Kt.helper.removeEventListeners(this._eventListeners);let r=new Map;for(let n of e.ruleUsage){let s=r.get(n.styleSheetId);s||(s=[],r.set(n.styleSheetId,s)),s.push({startOffset:n.startOffset,endOffset:n.endOffset,count:n.used?1:0})}let i=[];for(let n of this._stylesheetURLs.keys()){let s=this._stylesheetURLs.get(n),o=this._stylesheetSources.get(n),a=qh(r.get(n)||[]);i.push({url:s,ranges:a,text:o})}return i}};function qh(t){let e=[];for(let s of t)e.push({offset:s.startOffset,type:0,range:s}),e.push({offset:s.endOffset,type:1,range:s});e.sort((s,o)=>{if(s.offset!==o.offset)return s.offset-o.offset;if(s.type!==o.type)return o.type-s.type;let a=s.range.endOffset-s.range.startOffset,l=o.range.endOffset-o.range.startOffset;return s.type===0?l-a:a-l});let r=[],i=[],n=0;for(let s of e){if(r.length&&n<s.offset&&r[r.length-1]>0){let o=i.length?i[i.length-1]:null;o&&o.end===n?o.end=s.offset:i.push({start:n,end:s.offset})}n=s.offset,s.type===0?r.push(s.range.count):r.pop()}return i.filter(s=>s.end-s.start>1)}});var Tl=m(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.WebWorker=void 0;var Cx=hr(),kx=ve(),Tx=Ms(),Px=Ts(),Bh=class extends Cx.EventEmitter{constructor(e,r,i,n){super();this._client=e,this._url=r,this._executionContextPromise=new Promise(o=>this._executionContextCallback=o);let s;this._client.once("Runtime.executionContextCreated",async o=>{s=l=>new Px.JSHandle(a,e,l);let a=new Tx.ExecutionContext(e,o.context,null);this._executionContextCallback(a)}),this._client.send("Runtime.enable").catch(kx.debugError),this._client.on("Runtime.consoleAPICalled",o=>i(o.type,o.args.map(s),o.stackTrace)),this._client.on("Runtime.exceptionThrown",o=>n(o.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...r){return(await this._executionContextPromise).evaluate(e,...r)}async evaluateHandle(e,...r){return(await this._executionContextPromise).evaluateHandle(e,...r)}};Us.WebWorker=Bh});var $h=m($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.Accessibility=void 0;var Uh=class{constructor(e){this._client=e}async snapshot(e={}){let{interestingOnly:r=!0,root:i=null}=e,{nodes:n}=await this._client.send("Accessibility.getFullAXTree"),s=null;if(i){let{node:c}=await this._client.send("DOM.describeNode",{objectId:i._remoteObject.objectId});s=c.backendNodeId}let o=Hs.createTree(n),a=o;if(s&&(a=o.find(c=>c.payload.backendDOMNodeId===s),!a))return null;if(!r)return this.serializeTree(a)[0];let l=new Set;return this.collectInterestingNodes(l,o,!1),l.has(a)?this.serializeTree(a,l)[0]:null}serializeTree(e,r){let i=[];for(let s of e.children)i.push(...this.serializeTree(s,r));if(r&&!r.has(e))return i;let n=e.serialize();return i.length&&(n.children=i),[n]}collectInterestingNodes(e,r,i){if(r.isInteresting(i)&&e.add(r),!r.isLeafNode()){i=i||r.isControl();for(let n of r.children)this.collectInterestingNodes(e,n,i)}}};$s.Accessibility=Uh;var Hs=class{constructor(e){this.children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._hidden=!1,this.payload=e,this._name=this.payload.name?this.payload.name.value:"",this._role=this.payload.role?this.payload.role.value:"Unknown",this._ignored=this.payload.ignored;for(let r of this.payload.properties||[])r.name==="editable"&&(this._richlyEditable=r.value.value==="richtext",this._editable=!0),r.name==="focusable"&&(this._focusable=r.value.value),r.name==="hidden"&&(this._hidden=r.value.value)}_isPlainTextField(){return this._richlyEditable?!1:this._editable?!0:this._role==="textbox"||this._role==="searchbox"}_isTextOnlyObject(){let e=this._role;return e==="LineBreak"||e==="text"||e==="InlineTextBox"}_hasFocusableChild(){if(this._cachedHasFocusableChild===void 0){this._cachedHasFocusableChild=!1;for(let e of this.children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(let r of this.children){let i=r.find(e);if(i)return i}return null}isLeafNode(){if(!this.children.length||this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0;default:break}return this._hasFocusableChild()?!1:!!(this._focusable&&this._name||this._role==="heading"&&this._name)}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return this._role==="Ignored"||this._hidden||this._ignored?!1:this._focusable||this._richlyEditable||this.isControl()?!0:e?!1:this.isLeafNode()&&!!this._name}serialize(){let e=new Map;for(let u of this.payload.properties||[])e.set(u.name.toLowerCase(),u.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);let r={role:this._role},i=["name","value","description","keyshortcuts","roledescription","valuetext"],n=u=>e.get(u);for(let u of i)!e.has(u)||(r[u]=n(u));let s=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],o=u=>e.get(u);for(let u of s)u==="focused"&&this._role==="WebArea"||!o(u)||(r[u]=o(u));let a=["checked","pressed"];for(let u of a){if(!e.has(u))continue;let p=e.get(u);r[u]=p==="mixed"?"mixed":p==="true"}let l=["level","valuemax","valuemin"],c=u=>e.get(u);for(let u of l)!e.has(u)||(r[u]=c(u));let f=["autocomplete","haspopup","invalid","orientation"],d=u=>e.get(u);for(let u of f){let p=d(u);!p||p==="false"||(r[u]=d(u))}return r}static createTree(e){let r=new Map;for(let i of e)r.set(i.nodeId,new Hs(i));for(let i of r.values())for(let n of i.payload.childIds||[])i.children.push(r.get(n));return r.values().next().value}}});var Kh=m(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.TimeoutSettings=void 0;var Hh=3e4,Wh=class{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return this._defaultNavigationTimeout!==null?this._defaultNavigationTimeout:this._defaultTimeout!==null?this._defaultTimeout:Hh}timeout(){return this._defaultTimeout!==null?this._defaultTimeout:Hh}};Ws.TimeoutSettings=Wh});var Vh=m(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.FileChooser=void 0;var Gh=ae(),zh=class{constructor(e,r){this._handled=!1,this._element=e,this._multiple=r.mode!=="selectSingle"}isMultiple(){return this._multiple}async accept(e){Gh.assert(!this._handled,"Cannot accept FileChooser which is already handled!"),this._handled=!0,await this._element.uploadFile(...e)}async cancel(){Gh.assert(!this._handled,"Cannot cancel FileChooser which is already handled!"),this._handled=!0}};Ks.FileChooser=zh});var Qh=m(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.ConsoleMessage=void 0;var Xh=class{constructor(e,r,i,n){this._type=e,this._text=r,this._args=i,this._stackTraceLocations=n}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}};Gs.ConsoleMessage=Xh});var Jh=m(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.paperFormats=void 0;zs.paperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}}});var rp=m(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.Page=void 0;var Mx=hr(),Yh=Jr(),Lx=nh(),Ox=oh(),Xs=xl(),Pl=Rh(),Rx=Ih(),ie=ae(),le=ve(),Ax=jh(),Ix=Tl(),Nx=Ts(),ri=Is(),Fx=$h(),Dx=Kh(),qx=Vh(),Zh=Qh(),jx=Jh(),Bx=bt(),ep=class{constructor(){this._chain=Promise.resolve(void 0)}postTask(e){let r=this._chain.then(e);return this._chain=r.catch(()=>{}),r}},Qs=class extends Mx.EventEmitter{constructor(e,r,i){super();this._closed=!1,this._timeoutSettings=new Dx.TimeoutSettings,this._pageBindings=new Map,this._javascriptEnabled=!0,this._workers=new Map,this._fileChooserInterceptors=new Set,this._client=e,this._target=r,this._keyboard=new Pl.Keyboard(e),this._mouse=new Pl.Mouse(e,this._keyboard),this._touchscreen=new Pl.Touchscreen(e,this._keyboard),this._accessibility=new Fx.Accessibility(e),this._frameManager=new Xs.FrameManager(e,this,i,this._timeoutSettings),this._emulationManager=new Ox.EmulationManager(e),this._tracing=new Rx.Tracing(e),this._coverage=new Ax.Coverage(e),this._screenshotTaskQueue=new ep,this._viewport=null,e.on("Target.attachedToTarget",s=>{if(s.targetInfo.type!=="worker"){e.send("Target.detachFromTarget",{sessionId:s.sessionId}).catch(le.debugError);return}let o=Yh.Connection.fromSession(e).session(s.sessionId),a=new Ix.WebWorker(o,s.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(s.sessionId,a),this.emit("workercreated",a)}),e.on("Target.detachedFromTarget",s=>{let o=this._workers.get(s.sessionId);!o||(this.emit("workerdestroyed",o),this._workers.delete(s.sessionId))}),this._frameManager.on(Xs.FrameManagerEmittedEvents.FrameAttached,s=>this.emit("frameattached",s)),this._frameManager.on(Xs.FrameManagerEmittedEvents.FrameDetached,s=>this.emit("framedetached",s)),this._frameManager.on(Xs.FrameManagerEmittedEvents.FrameNavigated,s=>this.emit("framenavigated",s));let n=this._frameManager.networkManager();n.on(ri.NetworkManagerEmittedEvents.Request,s=>this.emit("request",s)),n.on(ri.NetworkManagerEmittedEvents.Response,s=>this.emit("response",s)),n.on(ri.NetworkManagerEmittedEvents.RequestFailed,s=>this.emit("requestfailed",s)),n.on(ri.NetworkManagerEmittedEvents.RequestFinished,s=>this.emit("requestfinished",s)),this._fileChooserInterceptors=new Set,e.on("Page.domContentEventFired",()=>this.emit("domcontentloaded")),e.on("Page.loadEventFired",()=>this.emit("load")),e.on("Runtime.consoleAPICalled",s=>this._onConsoleAPI(s)),e.on("Runtime.bindingCalled",s=>this._onBindingCalled(s)),e.on("Page.javascriptDialogOpening",s=>this._onDialog(s)),e.on("Runtime.exceptionThrown",s=>this._handleException(s.exceptionDetails)),e.on("Inspector.targetCrashed",()=>this._onTargetCrashed()),e.on("Performance.metrics",s=>this._emitMetrics(s)),e.on("Log.entryAdded",s=>this._onLogEntryAdded(s)),e.on("Page.fileChooserOpened",s=>this._onFileChooser(s)),this._target._isClosedPromise.then(()=>{this.emit("close"),this._closed=!0})}static async create(e,r,i,n){let s=new Qs(e,r,i);return await s._initialize(),n&&await s.setViewport(n),s}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;let n=await(await this._frameManager.frame(e.frameId).executionContext())._adoptBackendNodeId(e.backendNodeId),s=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();let o=new qx.FileChooser(n,e);for(let a of s)a.call(null,o)}isJavaScriptEnabled(){return this._javascriptEnabled}async waitForFileChooser(e={}){this._fileChooserInterceptors.size||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:!0});let{timeout:r=this._timeoutSettings.timeout()}=e,i,n=new Promise(s=>i=s);return this._fileChooserInterceptors.add(i),le.helper.waitWithTimeout(n,"waiting for file chooser",r).catch(s=>{throw this._fileChooserInterceptors.delete(i),s})}async setGeolocation(e){let{longitude:r,latitude:i,accuracy:n=0}=e;if(r<-180||r>180)throw new Error(`Invalid longitude "${r}": precondition -180 <= LONGITUDE <= 180 failed.`);if(i<-90||i>90)throw new Error(`Invalid latitude "${i}": precondition -90 <= LATITUDE <= 90 failed.`);if(n<0)throw new Error(`Invalid accuracy "${n}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:r,latitude:i,accuracy:n})}target(){return this._target}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){let{level:r,text:i,args:n,source:s,url:o,lineNumber:a}=e.entry;n&&n.map(l=>le.helper.releaseObject(this._client,l)),s!=="worker"&&this.emit("console",new Zh.ConsoleMessage(r,i,[],[{url:o,lineNumber:a}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}emulateNetworkConditions(e){return this._frameManager.networkManager().emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...r){return(await this.mainFrame().executionContext()).evaluateHandle(e,...r)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,r,...i){return this.mainFrame().$eval(e,r,...i)}async $$eval(e,r,...i){return this.mainFrame().$$eval(e,r,...i)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){let r=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,i=["priority"],n=s=>{for(let o of i)delete s[o];return s};return r.map(n)}async deleteCookie(...e){let r=this.url();for(let i of e){let n=Object.assign({},i);!i.url&&r.startsWith("http")&&(n.url=r),await this._client.send("Network.deleteCookies",n)}}async setCookie(...e){let r=this.url(),i=r.startsWith("http"),n=e.map(s=>{let o=Object.assign({},s);return!o.url&&i&&(o.url=r),ie.assert(o.url!=="about:blank",`Blank page can not have cookie "${o.name}"`),ie.assert(!String.prototype.startsWith.call(o.url||"","data:"),`Data URL page can not have cookie "${o.name}"`),o});await this.deleteCookie(...n),n.length&&await this._client.send("Network.setCookies",{cookies:n})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,r){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,r);let i=le.helper.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i}),await Promise.all(this.frames().map(n=>n.evaluate(i).catch(le.debugError)))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e){return this._frameManager.networkManager().setUserAgent(e)}async metrics(){let e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){let r={};for(let i of e||[])Ux.has(i.name)&&(r[i.name]=i.value);return r}_handleException(e){let r=le.helper.getExceptionMessage(e),i=new Error(r);i.stack="",this.emit("pageerror",i)}async _onConsoleAPI(e){if(e.executionContextId===0)return;let r=this._frameManager.executionContextById(e.executionContextId),i=e.args.map(n=>Nx.createJSHandle(r,n));this._addConsoleMessage(e.type,i,e.stackTrace)}async _onBindingCalled(e){let r;try{r=JSON.parse(e.payload)}catch(l){return}let{type:i,name:n,seq:s,args:o}=r;if(i!=="exposedFun"||!this._pageBindings.has(n))return;let a=null;try{let l=await this._pageBindings.get(n)(...o);a=le.helper.pageBindingDeliverResultString(n,s,l)}catch(l){l instanceof Error?a=le.helper.pageBindingDeliverErrorString(n,s,l.message,l.stack):a=le.helper.pageBindingDeliverErrorValueString(n,s,l)}this._client.send("Runtime.evaluate",{expression:a,contextId:e.executionContextId}).catch(le.debugError)}_addConsoleMessage(e,r,i){if(!this.listenerCount("console")){r.forEach(a=>a.dispose());return}let n=[];for(let a of r){let l=a._remoteObject;l.objectId?n.push(a.toString()):n.push(le.helper.valueFromRemoteObject(l))}let s=[];if(i)for(let a of i.callFrames)s.push({url:a.url,lineNumber:a.lineNumber,columnNumber:a.columnNumber});let o=new Zh.ConsoleMessage(e,n.join(" "),r,s);this.emit("console",o)}_onDialog(e){let r=null;new Set(["alert","confirm","prompt","beforeunload"]).has(e.type)&&(r=e.type),ie.assert(r,"Unknown javascript dialog type: "+e.type);let n=new Lx.Dialog(this._client,r,e.message,e.defaultPrompt);this.emit("dialog",n)}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,r={}){await this._frameManager.mainFrame().setContent(e,r)}async goto(e,r={}){return await this._frameManager.mainFrame().goto(e,r)}async reload(e){return(await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]))[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){return this._disconnectPromise||(this._disconnectPromise=new Promise(e=>this._client.once(Yh.CDPSessionEmittedEvents.Disconnected,()=>e(new Error("Target closed"))))),this._disconnectPromise}async waitForRequest(e,r={}){let{timeout:i=this._timeoutSettings.timeout()}=r;return le.helper.waitForEvent(this._frameManager.networkManager(),ri.NetworkManagerEmittedEvents.Request,n=>le.helper.isString(e)?e===n.url():typeof e=="function"?!!e(n):!1,i,this._sessionClosePromise())}async waitForResponse(e,r={}){let{timeout:i=this._timeoutSettings.timeout()}=r;return le.helper.waitForEvent(this._frameManager.networkManager(),ri.NetworkManagerEmittedEvents.Response,async n=>le.helper.isString(e)?e===n.url():typeof e=="function"?!!await e(n):!1,i,this._sessionClosePromise())}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(1,e)}async _go(e,r){let i=await this._client.send("Page.getNavigationHistory"),n=i.entries[i.currentIndex+e];return n?(await Promise.all([this.waitForNavigation(r),this._client.send("Page.navigateToHistoryEntry",{entryId:n.id})]))[0]:null}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){ie.assert(e==="screen"||e==="print"||e===null,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateMediaFeatures(e){e===null&&await this._client.send("Emulation.setEmulatedMedia",{features:null}),Array.isArray(e)&&(e.every(r=>{let i=r.name;return ie.assert(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(i),"Unsupported media feature: "+i),!0}),await this._client.send("Emulation.setEmulatedMedia",{features:e}))}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(r){throw r.message.includes("Invalid timezone")?new Error(`Invalid timezone ID: ${e}`):r}}async emulateIdleState(e){e?await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked}):await this._client.send("Emulation.clearIdleOverride")}async emulateVisionDeficiency(e){let r=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{ie.assert(!e||r.has(e),`Unsupported vision deficiency: ${e}`),await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(i){throw i}}async setViewport(e){let r=await this._emulationManager.emulateViewport(e);this._viewport=e,r&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...r){return this._frameManager.mainFrame().evaluate(e,...r)}async evaluateOnNewDocument(e,...r){let i=le.helper.evaluationString(e,...r);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i})}async setCacheEnabled(e=!0){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let r=null;if(e.type)ie.assert(e.type==="png"||e.type==="jpeg","Unknown options.type value: "+e.type),r=e.type;else if(e.path){let i=e.path,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();n==="png"?r="png":(n==="jpg"||n==="jpeg")&&(r="jpeg"),ie.assert(r,`Unsupported screenshot type for extension \`.${n}\``)}return r||(r="png"),e.quality&&(ie.assert(r==="jpeg","options.quality is unsupported for the "+r+" screenshots"),ie.assert(typeof e.quality=="number","Expected options.quality to be a number but found "+typeof e.quality),ie.assert(Number.isInteger(e.quality),"Expected options.quality to be an integer"),ie.assert(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),ie.assert(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(ie.assert(typeof e.clip.x=="number","Expected options.clip.x to be a number but found "+typeof e.clip.x),ie.assert(typeof e.clip.y=="number","Expected options.clip.y to be a number but found "+typeof e.clip.y),ie.assert(typeof e.clip.width=="number","Expected options.clip.width to be a number but found "+typeof e.clip.width),ie.assert(typeof e.clip.height=="number","Expected options.clip.height to be a number but found "+typeof e.clip.height),ie.assert(e.clip.width!==0,"Expected options.clip.width not to be 0."),ie.assert(e.clip.height!==0,"Expected options.clip.height not to be 0.")),this._screenshotTaskQueue.postTask(()=>this._screenshotTask(r,e))}async _screenshotTask(e,r){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let i=r.clip?l(r.clip):void 0;if(r.fullPage){let c=await this._client.send("Page.getLayoutMetrics"),f=Math.ceil(c.contentSize.width),d=Math.ceil(c.contentSize.height);i={x:0,y:0,width:f,height:d,scale:1}}let n=r.omitBackground&&e==="png";n&&await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});let s=await this._client.send("Page.captureScreenshot",{format:e,quality:r.quality,clip:i,captureBeyondViewport:!0});n&&await this._client.send("Emulation.setDefaultBackgroundColorOverride"),r.fullPage&&this._viewport&&await this.setViewport(this._viewport);let o=r.encoding==="base64"?s.data:Buffer.from(s.data,"base64");if(!Bx.isNode&&r.path)throw new Error("Screenshots can only be written to a file path in a Node environment.");let a=await le.helper.importFSModule();return r.path&&await a.promises.writeFile(r.path,o),o;function l(c){let f=Math.round(c.x),d=Math.round(c.y),u=Math.round(c.width+c.x-f),p=Math.round(c.height+c.y-d);return{x:f,y:d,width:u,height:p,scale:1}}}async pdf(e={}){let{scale:r=1,displayHeaderFooter:i=!1,headerTemplate:n="",footerTemplate:s="",printBackground:o=!1,landscape:a=!1,pageRanges:l="",preferCSSPageSize:c=!1,margin:f={},path:d=null}=e,u=8.5,p=11;if(e.format){let C=jx.paperFormats[e.format.toLowerCase()];ie.assert(C,"Unknown paper format: "+e.format),u=C.width,p=C.height}else u=ii(e.width)||u,p=ii(e.height)||p;let y=ii(f.top)||0,w=ii(f.left)||0,v=ii(f.bottom)||0,x=ii(f.right)||0,k=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:a,displayHeaderFooter:i,headerTemplate:n,footerTemplate:s,printBackground:o,scale:r,paperWidth:u,paperHeight:p,marginTop:y,marginBottom:v,marginLeft:w,marginRight:x,pageRanges:l,preferCSSPageSize:c});return await le.helper.readProtocolStream(this._client,k.stream,d)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){ie.assert(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed."),!!e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,r={}){return this.mainFrame().click(e,r)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...r){return this.mainFrame().select(e,...r)}tap(e){return this.mainFrame().tap(e)}type(e,r,i){return this.mainFrame().type(e,r,i)}waitFor(e,r={},...i){return this.mainFrame().waitFor(e,r,...i)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,r={}){return this.mainFrame().waitForSelector(e,r)}waitForXPath(e,r={}){return this.mainFrame().waitForXPath(e,r)}waitForFunction(e,r={},...i){return this.mainFrame().waitForFunction(e,r,...i)}};Vs.Page=Qs;var Ux=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]),tp={px:1,in:96,cm:37.8,mm:3.78};function ii(t){if(typeof t=="undefined")return;let e;if(le.helper.isNumber(t))e=t;else if(le.helper.isString(t)){let r=t,i=r.substring(r.length-2).toLowerCase(),n="";tp.hasOwnProperty(i)?n=r.substring(0,r.length-2):(i="px",n=r);let s=Number(n);ie.assert(!isNaN(s),"Failed to parse parameter value: "+r),e=s*tp[i]}else throw new Error("page.pdf() Cannot handle parameter type: "+typeof t);return e/96}});var np=m(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.Target=void 0;var $x=rp(),Hx=Tl(),ip=class{constructor(e,r,i,n,s){this._targetInfo=e,this._browserContext=r,this._targetId=e.targetId,this._sessionFactory=i,this._ignoreHTTPSErrors=n,this._defaultViewport=s,this._pagePromise=null,this._workerPromise=null,this._initializedPromise=new Promise(o=>this._initializedCallback=o).then(async o=>{if(!o)return!1;let a=this.opener();if(!a||!a._pagePromise||this.type()!=="page")return!0;let l=await a._pagePromise;if(!l.listenerCount("popup"))return!0;let c=await this.page();return l.emit("popup",c),!0}),this._isClosedPromise=new Promise(o=>this._closedCallback=o),this._isInitialized=this._targetInfo.type!=="page"||this._targetInfo.url!=="",this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return(this._targetInfo.type==="page"||this._targetInfo.type==="background_page"||this._targetInfo.type==="webview")&&!this._pagePromise&&(this._pagePromise=this._sessionFactory().then(e=>$x.Page.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport))),this._pagePromise}async worker(){return this._targetInfo.type!=="service_worker"&&this._targetInfo.type!=="shared_worker"?null:(this._workerPromise||(this._workerPromise=this._sessionFactory().then(e=>new Hx.WebWorker(e,this._targetInfo.url,()=>{},()=>{}))),this._workerPromise)}url(){return this._targetInfo.url}type(){let e=this._targetInfo.type;return e==="page"||e==="background_page"||e==="service_worker"||e==="shared_worker"||e==="browser"||e==="webview"?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){let{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!this._isInitialized&&(this._targetInfo.type!=="page"||this._targetInfo.url!=="")){this._isInitialized=!0,this._initializedCallback(!0);return}}};Js.Target=ip});var Ml=m(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.BrowserContext=ni.Browser=void 0;var Ys=ae(),Wx=ve(),Kx=np(),sp=hr(),Gx=Jr(),zx=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]),Zs=class extends sp.EventEmitter{constructor(e,r,i,n,s,o){super();this._ignoreHTTPSErrors=i,this._defaultViewport=n,this._process=s,this._connection=e,this._closeCallback=o||function(){},this._defaultContext=new Qi(this._connection,this,null),this._contexts=new Map;for(let a of r)this._contexts.set(a,new Qi(this._connection,this,a));this._targets=new Map,this._connection.on(Gx.ConnectionEmittedEvents.Disconnected,()=>this.emit("disconnected")),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,r,i,n,s,o){let a=new Zs(e,r,i,n,s,o);return await e.send("Target.setDiscoverTargets",{discover:!0}),a}process(){return this._process}async createIncognitoBrowserContext(){let{browserContextId:e}=await this._connection.send("Target.createBrowserContext"),r=new Qi(this._connection,this,e);return this._contexts.set(e,r),r}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||void 0}),this._contexts.delete(e)}async _targetCreated(e){let r=e.targetInfo,{browserContextId:i}=r,n=i&&this._contexts.has(i)?this._contexts.get(i):this._defaultContext,s=new Kx.Target(r,n,()=>this._connection.createSession(r),this._ignoreHTTPSErrors,this._defaultViewport);Ys.assert(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,s),await s._initializedPromise&&(this.emit("targetcreated",s),n.emit("targetcreated",s))}async _targetDestroyed(e){let r=this._targets.get(e.targetId);r._initializedCallback(!1),this._targets.delete(e.targetId),r._closedCallback(),await r._initializedPromise&&(this.emit("targetdestroyed",r),r.browserContext().emit("targetdestroyed",r))}_targetInfoChanged(e){let r=this._targets.get(e.targetInfo.targetId);Ys.assert(r,"target should exist before targetInfoChanged");let i=r.url(),n=r._isInitialized;r._targetInfoChanged(e.targetInfo),n&&i!==r.url()&&(this.emit("targetchanged",r),r.browserContext().emit("targetchanged",r))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){let{targetId:r}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),i=await this._targets.get(r);return Ys.assert(await i._initializedPromise,"Failed to create target for page"),await i.page()}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>e.type()==="browser")}async waitForTarget(e,r={}){let{timeout:i=3e4}=r,n=this.targets().find(e);if(n)return n;let s,o=new Promise(l=>s=l);this.on("targetcreated",a),this.on("targetchanged",a);try{return i?await Wx.helper.waitWithTimeout(o,"target",i):await o}finally{this.removeListener("targetcreated",a),this.removeListener("targetchanged",a)}function a(l){e(l)&&s(l)}}async pages(){return(await Promise.all(this.browserContexts().map(r=>r.pages()))).reduce((r,i)=>r.concat(i),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}};ni.Browser=Zs;var Qi=class extends sp.EventEmitter{constructor(e,r,i){super();this._connection=e,this._browser=r,this._id=i}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,r={}){return this._browser.waitForTarget(i=>i.browserContext()===this&&e(i),r)}async pages(){return(await Promise.all(this.targets().filter(r=>r.type()==="page").map(r=>r.page()))).filter(r=>!!r)}isIncognito(){return!!this._id}async overridePermissions(e,r){let i=r.map(n=>{let s=zx.get(n);if(!s)throw new Error("Unknown permission: "+n);return s});await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:i})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){Ys.assert(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}};ni.BrowserContext=Qi});var gp=m((at,op)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});function Ji(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ze=Ji(require("stream")),ap=Ji(require("http")),Ll=Ji(require("url")),Vx=Ji(require("https")),_r=Ji(require("zlib")),Xx=Ze.Readable,wt=Symbol("buffer"),Ol=Symbol("type"),vr=class{constructor(){this[Ol]="";let e=arguments[0],r=arguments[1],i=[],n=0;if(e){let o=e,a=Number(o.length);for(let l=0;l<a;l++){let c=o[l],f;c instanceof Buffer?f=c:ArrayBuffer.isView(c)?f=Buffer.from(c.buffer,c.byteOffset,c.byteLength):c instanceof ArrayBuffer?f=Buffer.from(c):c instanceof vr?f=c[wt]:f=Buffer.from(typeof c=="string"?c:String(c)),n+=f.length,i.push(f)}}this[wt]=Buffer.concat(i);let s=r&&r.type!==void 0&&String(r.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[Ol]=s)}get size(){return this[wt].length}get type(){return this[Ol]}text(){return Promise.resolve(this[wt].toString())}arrayBuffer(){let e=this[wt],r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(r)}stream(){let e=new Xx;return e._read=function(){},e.push(this[wt]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e=this.size,r=arguments[0],i=arguments[1],n,s;r===void 0?n=0:r<0?n=Math.max(e+r,0):n=Math.min(r,e),i===void 0?s=e:i<0?s=Math.max(e+i,0):s=Math.min(i,e);let o=Math.max(s-n,0),l=this[wt].slice(n,n+o),c=new vr([],{type:arguments[2]});return c[wt]=l,c}};Object.defineProperties(vr.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(vr.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});function be(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}be.prototype=Object.create(Error.prototype);be.prototype.constructor=be;be.prototype.name="FetchError";var Rl;try{Rl=require("encoding").convert}catch(t){}var Et=Symbol("Body internals"),lp=Ze.PassThrough;function de(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.size;let n=i===void 0?0:i;var s=r.timeout;let o=s===void 0?0:s;t==null?t=null:cp(t)?t=Buffer.from(t.toString()):Yi(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof Ze||(t=Buffer.from(String(t)))),this[Et]={body:t,disturbed:!1,error:null},this.size=n,this.timeout=o,t instanceof Ze&&t.on("error",function(a){let l=a.name==="AbortError"?a:new be(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a);e[Et].error=l})}de.prototype={get body(){return this[Et].body},get bodyUsed(){return this[Et].disturbed},arrayBuffer(){return si.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return si.call(this).then(function(e){return Object.assign(new vr([],{type:t.toLowerCase()}),{[wt]:e})})},json(){var t=this;return si.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(r){return de.Promise.reject(new be(`invalid json response body at ${t.url} reason: ${r.message}`,"invalid-json"))}})},text(){return si.call(this).then(function(t){return t.toString()})},buffer(){return si.call(this)},textConverted(){var t=this;return si.call(this).then(function(e){return Qx(e,t.headers)})}};Object.defineProperties(de.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});de.mixIn=function(t){for(let e of Object.getOwnPropertyNames(de.prototype))if(!(e in t)){let r=Object.getOwnPropertyDescriptor(de.prototype,e);Object.defineProperty(t,e,r)}};function si(){var t=this;if(this[Et].disturbed)return de.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[Et].disturbed=!0,this[Et].error)return de.Promise.reject(this[Et].error);let e=this.body;if(e===null)return de.Promise.resolve(Buffer.alloc(0));if(Yi(e)&&(e=e.stream()),Buffer.isBuffer(e))return de.Promise.resolve(e);if(!(e instanceof Ze))return de.Promise.resolve(Buffer.alloc(0));let r=[],i=0,n=!1;return new de.Promise(function(s,o){let a;t.timeout&&(a=setTimeout(function(){n=!0,o(new be(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(l){l.name==="AbortError"?(n=!0,o(l)):o(new be(`Invalid response body while trying to fetch ${t.url}: ${l.message}`,"system",l))}),e.on("data",function(l){if(!(n||l===null)){if(t.size&&i+l.length>t.size){n=!0,o(new be(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}i+=l.length,r.push(l)}}),e.on("end",function(){if(!n){clearTimeout(a);try{s(Buffer.concat(r,i))}catch(l){o(new be(`Could not create Buffer from response body for ${t.url}: ${l.message}`,"system",l))}}})})}function Qx(t,e){if(typeof Rl!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let r=e.get("content-type"),i="utf-8",n,s;return r&&(n=/charset=([^;]*)/i.exec(r)),s=t.slice(0,1024).toString(),!n&&s&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!n&&s&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop()))),!n&&s&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),n&&(i=n.pop(),(i==="gb2312"||i==="gbk")&&(i="gb18030")),Rl(t,"UTF-8",i).toString()}function cp(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function Yi(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function up(t){let e,r,i=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof Ze&&typeof i.getBoundary!="function"&&(e=new lp,r=new lp,i.pipe(e),i.pipe(r),t[Et].body=e,i=r),i}function fp(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":cp(t)?"application/x-www-form-urlencoded;charset=UTF-8":Yi(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof Ze?null:"text/plain;charset=UTF-8"}function dp(t){let e=t.body;return e===null?0:Yi(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function Jx(t,e){let r=e.body;r===null?t.end():Yi(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}de.Promise=global.Promise;var hp=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Al=/[^\t\x20-\x7e\x80-\xff]/;function Zi(t){if(t=`${t}`,hp.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function pp(t){if(t=`${t}`,Al.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function oi(t,e){e=e.toLowerCase();for(let r in t)if(r.toLowerCase()===e)return r}var se=Symbol("map"),Ne=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[se]=Object.create(null),e instanceof Ne){let r=e.raw(),i=Object.keys(r);for(let n of i)for(let s of r[n])this.append(n,s);return}if(e!=null)if(typeof e=="object"){let r=e[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");let i=[];for(let n of e){if(typeof n!="object"||typeof n[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");i.push(Array.from(n))}for(let n of i){if(n.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(n[0],n[1])}}else for(let i of Object.keys(e)){let n=e[i];this.append(i,n)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,Zi(e);let r=oi(this[se],e);return r===void 0?null:this[se][r].join(", ")}forEach(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=Il(this),n=0;for(;n<i.length;){var s=i[n];let o=s[0],a=s[1];e.call(r,a,o,this),i=Il(this),n++}}set(e,r){e=`${e}`,r=`${r}`,Zi(e),pp(r);let i=oi(this[se],e);this[se][i!==void 0?i:e]=[r]}append(e,r){e=`${e}`,r=`${r}`,Zi(e),pp(r);let i=oi(this[se],e);i!==void 0?this[se][i].push(r):this[se][e]=[r]}has(e){return e=`${e}`,Zi(e),oi(this[se],e)!==void 0}delete(e){e=`${e}`,Zi(e);let r=oi(this[se],e);r!==void 0&&delete this[se][r]}raw(){return this[se]}keys(){return Nl(this,"key")}values(){return Nl(this,"value")}[Symbol.iterator](){return Nl(this,"key+value")}};Ne.prototype.entries=Ne.prototype[Symbol.iterator];Object.defineProperty(Ne.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(Ne.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});function Il(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[se]).sort().map(e==="key"?function(i){return i.toLowerCase()}:e==="value"?function(i){return t[se][i].join(", ")}:function(i){return[i.toLowerCase(),t[se][i].join(", ")]})}var Fl=Symbol("internal");function Nl(t,e){let r=Object.create(Dl);return r[Fl]={target:t,kind:e,index:0},r}var Dl=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Dl)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[Fl];let e=t.target,r=t.kind,i=t.index,n=Il(e,r),s=n.length;return i>=s?{value:void 0,done:!0}:(this[Fl].index=i+1,{value:n[i],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(Dl,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});function Yx(t){let e=Object.assign({__proto__:null},t[se]),r=oi(t[se],"Host");return r!==void 0&&(e[r]=e[r][0]),e}function Zx(t){let e=new Ne;for(let r of Object.keys(t))if(!hp.test(r))if(Array.isArray(t[r]))for(let i of t[r])Al.test(i)||(e[se][r]===void 0?e[se][r]=[i]:e[se][r].push(i));else Al.test(t[r])||(e[se][r]=[t[r]]);return e}var Gt=Symbol("Response internals"),e1=ap.STATUS_CODES,Ue=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};de.call(this,e,r);let i=r.status||200,n=new Ne(r.headers);if(e!=null&&!n.has("Content-Type")){let s=fp(e);s&&n.append("Content-Type",s)}this[Gt]={url:r.url,status:i,statusText:r.statusText||e1[i],headers:n,counter:r.counter}}get url(){return this[Gt].url||""}get status(){return this[Gt].status}get ok(){return this[Gt].status>=200&&this[Gt].status<300}get redirected(){return this[Gt].counter>0}get statusText(){return this[Gt].statusText}get headers(){return this[Gt].headers}clone(){return new Ue(up(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};de.mixIn(Ue.prototype);Object.defineProperties(Ue.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(Ue.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var xt=Symbol("Request internals"),ql=Ll.parse,t1=Ll.format,r1="destroy"in Ze.Readable.prototype;function eo(t){return typeof t=="object"&&typeof t[xt]=="object"}function i1(t){let e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}var St=class{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i;eo(e)?i=ql(e.url):(e&&e.href?i=ql(e.href):i=ql(`${e}`),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(r.body!=null||eo(e)&&e.body!==null)&&(n==="GET"||n==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let s=r.body!=null?r.body:eo(e)&&e.body!==null?up(e):null;de.call(this,s,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});let o=new Ne(r.headers||e.headers||{});if(s!=null&&!o.has("Content-Type")){let l=fp(s);l&&o.append("Content-Type",l)}let a=eo(e)?e.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!i1(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[xt]={method:n,redirect:r.redirect||e.redirect||"follow",headers:o,parsedURL:i,signal:a},this.follow=r.follow!==void 0?r.follow:e.follow!==void 0?e.follow:20,this.compress=r.compress!==void 0?r.compress:e.compress!==void 0?e.compress:!0,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[xt].method}get url(){return t1(this[xt].parsedURL)}get headers(){return this[xt].headers}get redirect(){return this[xt].redirect}get signal(){return this[xt].signal}clone(){return new St(this)}};de.mixIn(St.prototype);Object.defineProperty(St.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(St.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});function n1(t){let e=t[xt].parsedURL,r=new Ne(t[xt].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof Ze.Readable&&!r1)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(i="0"),t.body!=null){let s=dp(t);typeof s=="number"&&(i=String(s))}i&&r.set("Content-Length",i),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let n=t.agent;return typeof n=="function"&&(n=n(e)),!r.has("Connection")&&!n&&r.set("Connection","close"),Object.assign({},e,{method:t.method,headers:Yx(r),agent:n})}function en(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}en.prototype=Object.create(Error.prototype);en.prototype.constructor=en;en.prototype.name="AbortError";var mp=Ze.PassThrough,s1=Ll.resolve;function zt(t,e){if(!zt.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return de.Promise=zt.Promise,new zt.Promise(function(r,i){let n=new St(t,e),s=n1(n),o=(s.protocol==="https:"?Vx:ap).request,a=n.signal,l=null,c=function(){let w=new en("The user aborted a request.");i(w),n.body&&n.body instanceof Ze.Readable&&n.body.destroy(w),!(!l||!l.body)&&l.body.emit("error",w)};if(a&&a.aborted){c();return}let f=function(){c(),p()},d=o(s),u;a&&a.addEventListener("abort",f);function p(){d.abort(),a&&a.removeEventListener("abort",f),clearTimeout(u)}n.timeout&&d.once("socket",function(y){u=setTimeout(function(){i(new be(`network timeout at: ${n.url}`,"request-timeout")),p()},n.timeout)}),d.on("error",function(y){i(new be(`request to ${n.url} failed, reason: ${y.message}`,"system",y)),p()}),d.on("response",function(y){clearTimeout(u);let w=Zx(y.headers);if(zt.isRedirect(y.statusCode)){let O=w.get("Location"),R=O===null?null:s1(n.url,O);switch(n.redirect){case"error":i(new be(`uri requested responds with a redirect, redirect mode is set to error: ${n.url}`,"no-redirect")),p();return;case"manual":if(R!==null)try{w.set("Location",R)}catch(q){i(q)}break;case"follow":if(R===null)break;if(n.counter>=n.follow){i(new be(`maximum redirect reached at: ${n.url}`,"max-redirect")),p();return}let j={headers:new Ne(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:n.body,signal:n.signal,timeout:n.timeout,size:n.size};if(y.statusCode!==303&&n.body&&dp(n)===null){i(new be("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&n.method==="POST")&&(j.method="GET",j.body=void 0,j.headers.delete("content-length")),r(zt(new St(R,j))),p();return}}y.once("end",function(){a&&a.removeEventListener("abort",f)});let v=y.pipe(new mp),x={url:n.url,status:y.statusCode,statusText:y.statusMessage,headers:w,size:n.size,timeout:n.timeout,counter:n.counter},k=w.get("Content-Encoding");if(!n.compress||n.method==="HEAD"||k===null||y.statusCode===204||y.statusCode===304){l=new Ue(v,x),r(l);return}let C={flush:_r.Z_SYNC_FLUSH,finishFlush:_r.Z_SYNC_FLUSH};if(k=="gzip"||k=="x-gzip"){v=v.pipe(_r.createGunzip(C)),l=new Ue(v,x),r(l);return}if(k=="deflate"||k=="x-deflate"){y.pipe(new mp).once("data",function(R){(R[0]&15)==8?v=v.pipe(_r.createInflate()):v=v.pipe(_r.createInflateRaw()),l=new Ue(v,x),r(l)});return}if(k=="br"&&typeof _r.createBrotliDecompress=="function"){v=v.pipe(_r.createBrotliDecompress()),l=new Ue(v,x),r(l);return}l=new Ue(v,x),r(l)}),Jx(d,n)})}zt.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};zt.Promise=global.Promise;op.exports=at=zt;Object.defineProperty(at,"__esModule",{value:!0});at.default=at;at.Headers=Ne;at.Request=St;at.Response=Ue;at.FetchError=be});var yp=m(lt=>{"use strict";var o1=lt&&lt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),a1=lt&&lt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l1=lt&&lt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&o1(e,t,r);return a1(e,t),e};Object.defineProperty(lt,"__esModule",{value:!0});lt.getFetch=void 0;var c1=bt(),u1=async()=>c1.isNode?await Promise.resolve().then(()=>l1(gp())):globalThis.fetch;lt.getFetch=u1});var br=m((tI,_p)=>{"use strict";_p.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}});var tn=m((rI,jl)=>{"use strict";var{EMPTY_BUFFER:f1}=br();function vp(t,e){if(t.length===0)return f1;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let n=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return i<e?r.slice(0,i):r}function bp(t,e,r,i,n){for(let s=0;s<n;s++)r[i+s]=t[s]^e[s&3]}function wp(t,e){let r=t.length;for(let i=0;i<r;i++)t[i]^=e[i&3]}function Ep(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function to(t){if(to.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),to.readOnly=!1),e}try{let t=require("bufferutil"),e=t.BufferUtil||t;jl.exports={concat:vp,mask(r,i,n,s,o){o<48?bp(r,i,n,s,o):e.mask(r,i,n,s,o)},toArrayBuffer:Ep,toBuffer:to,unmask(r,i){r.length<32?wp(r,i):e.unmask(r,i)}}}catch(t){jl.exports={concat:vp,mask:bp,toArrayBuffer:Ep,toBuffer:to,unmask:wp}}});var kp=m((iI,xp)=>{"use strict";var Sp=Symbol("kDone"),Bl=Symbol("kRun"),Cp=class{constructor(e){this[Sp]=()=>{this.pending--,this[Bl]()},this.concurrency=e||Infinity,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Bl]()}[Bl](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Sp])}}};xp.exports=Cp});var sn=m((nI,Tp)=>{"use strict";var rn=require("zlib"),Pp=tn(),d1=kp(),{kStatusCode:Mp,NOOP:h1}=br(),p1=Buffer.from([0,0,255,255]),ro=Symbol("permessage-deflate"),Ct=Symbol("total-length"),nn=Symbol("callback"),Vt=Symbol("buffers"),Ul=Symbol("error"),io,Lp=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!io){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;io=new d1(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[nn];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(n=>!(r.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>n.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let n=r[i];if(n.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(n=n[0],i==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else if(i==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=n})}),e}decompress(e,r,i){io.add(n=>{this._decompress(e,r,(s,o)=>{n(),i(s,o)})})}compress(e,r,i){io.add(n=>{this._compress(e,r,(s,o)=>{n(),i(s,o)})})}_decompress(e,r,i){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?rn.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=rn.createInflateRaw(D(D({},this._options.zlibInflateOptions),{windowBits:o})),this._inflate[ro]=this,this._inflate[Ct]=0,this._inflate[Vt]=[],this._inflate.on("error",g1),this._inflate.on("data",Op)}this._inflate[nn]=i,this._inflate.write(e),r&&this._inflate.write(p1),this._inflate.flush(()=>{let s=this._inflate[Ul];if(s){this._inflate.close(),this._inflate=null,i(s);return}let o=Pp.concat(this._inflate[Vt],this._inflate[Ct]);this._inflate[Ct]=0,this._inflate[Vt]=[],r&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset(),i(null,o)})}_compress(e,r,i){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?rn.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=rn.createDeflateRaw(D(D({},this._options.zlibDeflateOptions),{windowBits:o})),this._deflate[Ct]=0,this._deflate[Vt]=[],this._deflate.on("error",h1),this._deflate.on("data",m1)}this._deflate[nn]=i,this._deflate.write(e),this._deflate.flush(rn.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Pp.concat(this._deflate[Vt],this._deflate[Ct]);r&&(s=s.slice(0,s.length-4)),this._deflate[nn]=null,this._deflate[Ct]=0,this._deflate[Vt]=[],r&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};Tp.exports=Lp;function m1(t){this[Vt].push(t),this[Ct]+=t.length}function Op(t){if(this[Ct]+=t.length,this[ro]._maxPayload<1||this[Ct]<=this[ro]._maxPayload){this[Vt].push(t);return}this[Ul]=new RangeError("Max payload size exceeded"),this[Ul][Mp]=1009,this.removeListener("data",Op),this.reset()}function g1(t){this[ro]._inflate=null,t[Mp]=1007,this[nn](t)}});var $l=m(no=>{"use strict";try{let t=require("utf-8-validate");no.isValidUTF8=typeof t=="object"?t.Validation.isValidUTF8:t}catch(t){no.isValidUTF8=()=>!0}no.isValidStatusCode=t=>t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999});var Kl=m((oI,Rp)=>{"use strict";var{Writable:y1}=require("stream"),Ap=sn(),{BINARY_TYPES:_1,EMPTY_BUFFER:v1,kStatusCode:b1,kWebSocket:w1}=br(),{concat:Hl,toArrayBuffer:E1,unmask:x1}=tn(),{isValidStatusCode:S1,isValidUTF8:Ip}=$l(),on=0,Np=1,Fp=2,Dp=3,Wl=4,C1=5,qp=class extends y1{constructor(e,r,i,n){super();this._binaryType=e||_1[0],this[w1]=void 0,this._extensions=r||{},this._isServer=!!i,this._maxPayload=n|0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=on,this._loop=!1}_write(e,r,i){if(this._opcode===8&&this._state==on)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=i.slice(e),i.slice(0,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=r.length-e;e>=i.length?r.set(this._buffers.shift(),n):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=i.slice(e)),e-=i.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case on:r=this.getInfo();break;case Np:r=this.getPayloadLength16();break;case Fp:r=this.getPayloadLength64();break;case Dp:this.getMask();break;case Wl:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((e[0]&48)!=0)return this._loop=!1,ce(RangeError,"RSV2 and RSV3 must be clear",!0,1002);let r=(e[0]&64)==64;if(r&&!this._extensions[Ap.extensionName])return this._loop=!1,ce(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=(e[0]&128)==128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,ce(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,ce(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,ce(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,ce(RangeError,"FIN must be set",!0,1002);if(r)return this._loop=!1,ce(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,ce(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}else return this._loop=!1,ce(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)==128,this._isServer){if(!this._masked)return this._loop=!1,ce(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,ce(RangeError,"MASK must be clear",!0,1002);if(this._payloadLength===126)this._state=Np;else if(this._payloadLength===127)this._state=Fp;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,ce(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,ce(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=Dp:this._state=Wl}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Wl}getData(e){let r=v1;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&x1(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=C1,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[Ap.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return r(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(ce(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(s)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=Hl(r,e):this._binaryType==="arraybuffer"?i=E1(Hl(r,e)):i=r,this.emit("message",i)}else{let i=Hl(r,e);if(!Ip(i))return this._loop=!1,ce(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",i.toString())}}this._state=on}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,""),this.end();else{if(e.length===1)return ce(RangeError,"invalid payload length 1",!0,1002);{let r=e.readUInt16BE(0);if(!S1(r))return ce(RangeError,`invalid status code ${r}`,!0,1002);let i=e.slice(2);if(!Ip(i))return ce(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",r,i.toString()),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=on}};Rp.exports=qp;function ce(t,e,r,i){let n=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(n,ce),n[b1]=i,n}});var Gl=m((aI,jp)=>{"use strict";var{randomFillSync:k1}=require("crypto"),Bp=sn(),{EMPTY_BUFFER:T1}=br(),{isValidStatusCode:P1}=$l(),{mask:Up,toBuffer:kt}=tn(),wr=Buffer.alloc(4),Tt=class{constructor(e,r){this._extensions=r||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i=r.mask&&r.readOnly,n=r.mask?6:2,s=e.length;e.length>=65536?(n+=8,s=127):e.length>125&&(n+=2,s=126);let o=Buffer.allocUnsafe(i?e.length+n:n);return o[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(o[0]|=64),o[1]=s,s===126?o.writeUInt16BE(e.length,2):s===127&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),r.mask?(k1(wr,0,4),o[1]|=128,o[n-4]=wr[0],o[n-3]=wr[1],o[n-2]=wr[2],o[n-1]=wr[3],i?(Up(e,wr,o,n,e.length),[o]):(Up(e,wr,e,0,e.length),[o,e])):[o,e]}close(e,r,i,n){let s;if(e===void 0)s=T1;else{if(typeof e!="number"||!P1(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||r==="")s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+o),s.writeUInt16BE(e,0),s.write(r,2)}}this._deflating?this.enqueue([this.doClose,s,i,n]):this.doClose(s,i,n)}doClose(e,r,i){this.sendFrame(Tt.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:r,readOnly:!1}),i)}ping(e,r,i){let n=kt(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,r,kt.readOnly,i]):this.doPing(n,r,kt.readOnly,i)}doPing(e,r,i,n){this.sendFrame(Tt.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:r,readOnly:i}),n)}pong(e,r,i){let n=kt(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,r,kt.readOnly,i]):this.doPong(n,r,kt.readOnly,i)}doPong(e,r,i,n){this.sendFrame(Tt.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:r,readOnly:i}),n)}send(e,r,i){let n=kt(e),s=this._extensions[Bp.extensionName],o=r.binary?2:1,a=r.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,o=0),r.fin&&(this._firstFragment=!0),s){let l={fin:r.fin,rsv1:a,opcode:o,mask:r.mask,readOnly:kt.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,l,i]):this.dispatch(n,this._compress,l,i)}else this.sendFrame(Tt.frame(n,{fin:r.fin,rsv1:!1,opcode:o,mask:r.mask,readOnly:kt.readOnly}),i)}dispatch(e,r,i,n){if(!r){this.sendFrame(Tt.frame(e,i),n);return}let s=this._extensions[Bp.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,s.compress(e,i.fin,(o,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(l);for(let c=0;c<this._queue.length;c++){let f=this._queue[c][4];typeof f=="function"&&f(l)}return}this._bufferedBytes-=e.length,this._deflating=!1,i.readOnly=!1,this.sendFrame(Tt.frame(a,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};jp.exports=Tt});var zp=m((lI,$p)=>{"use strict";var an=class{constructor(e,r){this.target=r,this.type=e}},Hp=class extends an{constructor(e,r){super("message",r);this.data=e}},Wp=class extends an{constructor(e,r,i){super("close",i);this.wasClean=i._closeFrameReceived&&i._closeFrameSent,this.reason=r,this.code=e}},Kp=class extends an{constructor(e){super("open",e)}},Gp=class extends an{constructor(e,r){super("error",r);this.message=e.message,this.error=e}},M1={addEventListener(t,e,r){if(typeof e!="function")return;function i(l){e.call(this,new Hp(l,this))}function n(l,c){e.call(this,new Wp(l,c,this))}function s(l){e.call(this,new Gp(l,this))}function o(){e.call(this,new Kp(this))}let a=r&&r.once?"once":"on";t==="message"?(i._listener=e,this[a](t,i)):t==="close"?(n._listener=e,this[a](t,n)):t==="error"?(s._listener=e,this[a](t,s)):t==="open"?(o._listener=e,this[a](t,o)):this[a](t,e)},removeEventListener(t,e){let r=this.listeners(t);for(let i=0;i<r.length;i++)(r[i]===e||r[i]._listener===e)&&this.removeListener(t,r[i])}};$p.exports=M1});var zl=m((cI,Vp)=>{"use strict";var ln=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function ct(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function L1(t){let e=Object.create(null);if(t===void 0||t==="")return e;let r=Object.create(null),i=!1,n=!1,s=!1,o,a,l=-1,c=-1,f=0;for(;f<t.length;f++){let u=t.charCodeAt(f);if(o===void 0)if(c===-1&&ln[u]===1)l===-1&&(l=f);else if(u===32||u===9)c===-1&&l!==-1&&(c=f);else if(u===59||u===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);c===-1&&(c=f);let p=t.slice(l,c);u===44?(ct(e,p,r),r=Object.create(null)):o=p,l=c=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(a===void 0)if(c===-1&&ln[u]===1)l===-1&&(l=f);else if(u===32||u===9)c===-1&&l!==-1&&(c=f);else if(u===59||u===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);c===-1&&(c=f),ct(r,t.slice(l,c),!0),u===44&&(ct(e,o,r),r=Object.create(null),o=void 0),l=c=-1}else if(u===61&&l!==-1&&c===-1)a=t.slice(l,f),l=c=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(n){if(ln[u]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);l===-1?l=f:i||(i=!0),n=!1}else if(s)if(ln[u]===1)l===-1&&(l=f);else if(u===34&&l!==-1)s=!1,c=f;else if(u===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(u===34&&t.charCodeAt(f-1)===61)s=!0;else if(c===-1&&ln[u]===1)l===-1&&(l=f);else if(l!==-1&&(u===32||u===9))c===-1&&(c=f);else if(u===59||u===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);c===-1&&(c=f);let p=t.slice(l,c);i&&(p=p.replace(/\\/g,""),i=!1),ct(r,a,p),u===44&&(ct(e,o,r),r=Object.create(null),o=void 0),a=void 0,l=c=-1}else throw new SyntaxError(`Unexpected character at index ${f}`)}if(l===-1||s)throw new SyntaxError("Unexpected end of input");c===-1&&(c=f);let d=t.slice(l,c);return o===void 0?ct(e,d,r):(a===void 0?ct(r,d,!0):i?ct(r,a,d.replace(/\\/g,"")):ct(r,a,d),ct(e,o,r)),e}function O1(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(n=>{let s=i[n];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Vp.exports={format:O1,parse:L1}});var Yl=m((uI,Xp)=>{"use strict";var R1=require("events"),A1=require("https"),I1=require("http"),Qp=require("net"),N1=require("tls"),{randomBytes:F1,createHash:D1}=require("crypto"),{URL:Vl}=require("url"),Xt=sn(),q1=Kl(),j1=Gl(),{BINARY_TYPES:Jp,EMPTY_BUFFER:Xl,GUID:B1,kStatusCode:U1,kWebSocket:Le,NOOP:Yp}=br(),{addEventListener:$1,removeEventListener:H1}=zp(),{format:W1,parse:K1}=zl(),{toBuffer:G1}=tn(),Zp=["CONNECTING","OPEN","CLOSING","CLOSED"],Ql=[8,13],z1=30*1e3,W=class extends R1{constructor(e,r,i){super();this._binaryType=Jp[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=W.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(r)?r=r.join(", "):typeof r=="object"&&r!==null&&(i=r,r=void 0),em(this,e,r,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){!Jp.includes(e)||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let n=new q1(this.binaryType,this._extensions,this._isServer,i);this._sender=new j1(e,this._extensions),this._receiver=n,this._socket=e,n[Le]=this,e[Le]=this,n.on("conclude",V1),n.on("drain",X1),n.on("error",Q1),n.on("message",J1),n.on("ping",Y1),n.on("pong",Z1),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",tm),e.on("data",so),e.on("end",rm),e.on("error",im),this._readyState=W.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=W.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Xt.extensionName]&&this._extensions[Xt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=W.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==W.CLOSED){if(this.readyState===W.CONNECTING){let i="WebSocket was closed before the connection was established";return Pt(this,this._req,i)}if(this.readyState===W.CLOSING){this._closeFrameSent&&this._closeFrameReceived&&this._socket.end();return}this._readyState=W.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),z1)}}ping(e,r,i){if(this.readyState===W.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==W.OPEN){Jl(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Xl,r,i)}pong(e,r,i){if(this.readyState===W.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==W.OPEN){Jl(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Xl,r,i)}send(e,r,i){if(this.readyState===W.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==W.OPEN){Jl(this,e,i);return}let n=D({binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0},r);this._extensions[Xt.extensionName]||(n.compress=!1),this._sender.send(e||Xl,n,i)}terminate(){if(this.readyState!==W.CLOSED){if(this.readyState===W.CONNECTING){let e="WebSocket was closed before the connection was established";return Pt(this,this._req,e)}this._socket&&(this._readyState=W.CLOSING,this._socket.destroy())}}};Zp.forEach((t,e)=>{let r={enumerable:!0,value:e};Object.defineProperty(W.prototype,t,r),Object.defineProperty(W,t,r)});["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(t=>{Object.defineProperty(W.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(W.prototype,`on${t}`,{configurable:!0,enumerable:!0,get(){let e=this.listeners(t);for(let r=0;r<e.length;r++)if(e[r]._listener)return e[r]._listener},set(e){let r=this.listeners(t);for(let i=0;i<r.length;i++)r[i]._listener&&this.removeListener(t,r[i]);this.addEventListener(t,e)}})});W.prototype.addEventListener=$1;W.prototype.removeEventListener=H1;Xp.exports=W;function em(t,e,r,i){let n=D(D({protocolVersion:Ql[1],maxPayload:100*1024*1024,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},i),{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0});if(!Ql.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${Ql.join(", ")})`);let s;e instanceof Vl?(s=e,t._url=e.href):(s=new Vl(e),t._url=e);let o=s.protocol==="ws+unix:";if(!s.host&&(!o||!s.pathname))throw new Error(`Invalid URL: ${t.url}`);let a=s.protocol==="wss:"||s.protocol==="https:",l=a?443:80,c=F1(16).toString("base64"),f=a?A1.get:I1.get,d;if(n.createConnection=a?tS:eS,n.defaultPort=n.defaultPort||l,n.port=s.port||l,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers=D({"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":c,Connection:"Upgrade",Upgrade:"websocket"},n.headers),n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(d=new Xt(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=W1({[Xt.extensionName]:d.offer()})),r&&(n.headers["Sec-WebSocket-Protocol"]=r),n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),o){let p=n.path.split(":");n.socketPath=p[0],n.path=p[1]}let u=t._req=f(n);n.timeout&&u.on("timeout",()=>{Pt(t,u,"Opening handshake has timed out")}),u.on("error",p=>{u===null||u.aborted||(u=t._req=null,t._readyState=W.CLOSING,t.emit("error",p),t.emitClose())}),u.on("response",p=>{let y=p.headers.location,w=p.statusCode;if(y&&n.followRedirects&&w>=300&&w<400){if(++t._redirects>n.maxRedirects){Pt(t,u,"Maximum redirects exceeded");return}u.abort();let v=new Vl(y,e);em(t,v,r,i)}else t.emit("unexpected-response",u,p)||Pt(t,u,`Unexpected server response: ${p.statusCode}`)}),u.on("upgrade",(p,y,w)=>{if(t.emit("upgrade",p),t.readyState!==W.CONNECTING)return;u=t._req=null;let v=D1("sha1").update(c+B1).digest("base64");if(p.headers["sec-websocket-accept"]!==v){Pt(t,y,"Invalid Sec-WebSocket-Accept header");return}let x=p.headers["sec-websocket-protocol"],k=(r||"").split(/, */),C;if(!r&&x?C="Server sent a subprotocol but none was requested":r&&!x?C="Server sent no subprotocol":x&&!k.includes(x)&&(C="Server sent an invalid subprotocol"),C){Pt(t,y,C);return}if(x&&(t._protocol=x),d)try{let O=K1(p.headers["sec-websocket-extensions"]);O[Xt.extensionName]&&(d.accept(O[Xt.extensionName]),t._extensions[Xt.extensionName]=d)}catch(O){Pt(t,y,"Invalid Sec-WebSocket-Extensions header");return}t.setSocket(y,w,n.maxPayload)})}function eS(t){return t.path=t.socketPath,Qp.connect(t)}function tS(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Qp.isIP(t.host)?"":t.host),N1.connect(t)}function Pt(t,e,r){t._readyState=W.CLOSING;let i=new Error(r);Error.captureStackTrace(i,Pt),e.setHeader?(e.abort(),e.once("abort",t.emitClose.bind(t)),t.emit("error",i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function Jl(t,e,r){if(e){let i=G1(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${Zp[t.readyState]})`);r(i)}}function V1(t,e){let r=this[Le];r._socket.removeListener("data",so),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,t===1005?r.close():r.close(t,e)}function X1(){this[Le]._socket.resume()}function Q1(t){let e=this[Le];e._socket.removeListener("data",so),e._readyState=W.CLOSING,e._closeCode=t[U1],e.emit("error",t),e._socket.destroy()}function nm(){this[Le].emitClose()}function J1(t){this[Le].emit("message",t)}function Y1(t){let e=this[Le];e.pong(t,!e._isServer,Yp),e.emit("ping",t)}function Z1(t){this[Le].emit("pong",t)}function tm(){let t=this[Le];this.removeListener("close",tm),this.removeListener("end",rm),t._readyState=W.CLOSING,t._socket.read(),t._receiver.end(),this.removeListener("data",so),this[Le]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",nm),t._receiver.on("finish",nm))}function so(t){this[Le]._receiver.write(t)||this.pause()}function rm(){let t=this[Le];t._readyState=W.CLOSING,t._receiver.end(),this.end()}function im(){let t=this[Le];this.removeListener("error",im),this.on("error",Yp),t&&(t._readyState=W.CLOSING,this.destroy())}});var lm=m((fI,sm)=>{"use strict";var{Duplex:rS}=require("stream");function om(t){t.emit("close")}function iS(){!this.destroyed&&this._writableState.finished&&this.destroy()}function am(t){this.removeListener("error",am),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function nS(t,e){let r=!0;function i(){r&&t._socket.resume()}t.readyState===t.CONNECTING?t.once("open",function(){t._receiver.removeAllListeners("drain"),t._receiver.on("drain",i)}):(t._receiver.removeAllListeners("drain"),t._receiver.on("drain",i));let n=new rS(D(D({},e),{autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1}));return t.on("message",function(o){n.push(o)||(r=!1,t._socket.pause())}),t.once("error",function(o){n.destroyed||n.destroy(o)}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,o){if(t.readyState===t.CLOSED){o(s),process.nextTick(om,n);return}let a=!1;t.once("error",function(c){a=!0,o(c)}),t.once("close",function(){a||o(s),process.nextTick(om,n)}),t.terminate()},n._final=function(s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(s)});return}t._socket!==null&&(t._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){s()}),t.close()))},n._read=function(){t.readyState===t.OPEN&&!r&&(r=!0,t._receiver._writableState.needDrain||t._socket.resume())},n._write=function(s,o,a){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(s,o,a)});return}t.send(s,a)},n.on("end",iS),n.on("error",am),n}sm.exports=nS});var fm=m((dI,cm)=>{"use strict";var sS=require("events"),{createHash:oS}=require("crypto"),{createServer:aS,STATUS_CODES:Zl}=require("http"),Er=sn(),lS=Yl(),{format:cS,parse:uS}=zl(),{GUID:fS,kWebSocket:dS}=br(),hS=/^[+/0-9A-Za-z]{22}==$/,um=class extends sS{constructor(e,r){super();if(e=D({maxPayload:100*1024*1024,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e),e.port==null&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=aS((i,n)=>{let s=Zl[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=pS(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,o)=>{this.handleUpgrade(n,s,o,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(let i of this.clients)i.terminate();let r=this._server;if(r&&(this._removeListeners(),this._removeListeners=this._server=null,this.options.port!=null)){r.close(()=>this.emit("close"));return}process.nextTick(mS,this)}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,n){r.on("error",ec);let s=e.headers["sec-websocket-key"]!==void 0?e.headers["sec-websocket-key"].trim():!1,o=+e.headers["sec-websocket-version"],a={};if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!s||!hS.test(s)||o!==8&&o!==13||!this.shouldHandle(e))return oo(r,400);if(this.options.perMessageDeflate){let l=new Er(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let c=uS(e.headers["sec-websocket-extensions"]);c[Er.extensionName]&&(l.accept(c[Er.extensionName]),a[Er.extensionName]=l)}catch(c){return oo(r,400)}}if(this.options.verifyClient){let l={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(l,(c,f,d,u)=>{if(!c)return oo(r,f||401,d,u);this.completeUpgrade(s,a,e,r,i,n)});return}if(!this.options.verifyClient(l))return oo(r,401)}this.completeUpgrade(s,a,e,r,i,n)}completeUpgrade(e,r,i,n,s,o){if(!n.readable||!n.writable)return n.destroy();if(n[dS])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");let a=oS("sha1").update(e+fS).digest("base64"),l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${a}`],c=new lS(null),f=i.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),this.options.handleProtocols?f=this.options.handleProtocols(f,i):f=f[0],f&&(l.push(`Sec-WebSocket-Protocol: ${f}`),c._protocol=f)),r[Er.extensionName]){let d=r[Er.extensionName].params,u=cS({[Er.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${u}`),c._extensions=r}this.emit("headers",l,i),n.write(l.concat(`\r
`).join(`\r
`)),n.removeListener("error",ec),c.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(c),c.on("close",()=>this.clients.delete(c))),o(c,i)}};cm.exports=um;function pS(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function mS(t){t.emit("close")}function ec(){this.destroy()}function oo(t,e,r,i){t.writable&&(r=r||Zl[e],i=D({Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r)},i),t.write(`HTTP/1.1 ${e} ${Zl[e]}\r
`+Object.keys(i).map(n=>`${n}: ${i[n]}`).join(`\r
`)+`\r
\r
`+r)),t.removeListener("error",ec),t.destroy()}});var hm=m((hI,dm)=>{"use strict";var cn=Yl();cn.createWebSocketStream=lm();cn.Server=fm();cn.Receiver=Kl();cn.Sender=Gl();dm.exports=cn});var tc=m(ai=>{"use strict";var gS=ai&&ai.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});ai.NodeWebSocketTransport=void 0;var yS=gS(hm()),ao=class{constructor(e){this._ws=e,this._ws.addEventListener("message",r=>{this.onmessage&&this.onmessage.call(null,r.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((r,i)=>{let n=new yS.default(e,[],{perMessageDeflate:!1,maxPayload:256*1024*1024});n.addEventListener("open",()=>r(new ao(n))),n.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}};ai.NodeWebSocketTransport=ao});var pm=m(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.BrowserWebSocketTransport=void 0;var co=class{constructor(e){this._ws=e,this._ws.addEventListener("message",r=>{this.onmessage&&this.onmessage.call(null,r.data)}),this._ws.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this._ws.addEventListener("error",()=>{}),this.onmessage=null,this.onclose=null}static create(e){return new Promise((r,i)=>{let n=new WebSocket(e);n.addEventListener("open",()=>r(new co(n))),n.addEventListener("error",i)})}send(e){this._ws.send(e)}close(){this._ws.close()}};lo.BrowserWebSocketTransport=co});var ym=m(ut=>{"use strict";var _S=ut&&ut.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),vS=ut&&ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mm=ut&&ut.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_S(e,t,r);return vS(e,t),e};Object.defineProperty(ut,"__esModule",{value:!0});ut.connectToBrowser=void 0;var bS=Ml(),wS=ae(),ES=ve(),rc=Jr(),xS=yp(),SS=bt(),gm=async()=>SS.isNode?(await Promise.resolve().then(()=>mm(tc()))).NodeWebSocketTransport:(await Promise.resolve().then(()=>mm(pm()))).BrowserWebSocketTransport,kS=async t=>{let{browserWSEndpoint:e,browserURL:r,ignoreHTTPSErrors:i=!1,defaultViewport:n={width:800,height:600},transport:s,slowMo:o=0}=t;wS.assert(Number(!!e)+Number(!!r)+Number(!!s)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let a=null;if(s)a=new rc.Connection("",s,o);else if(e){let f=await(await gm()).create(e);a=new rc.Connection(e,f,o)}else if(r){let c=await CS(r),d=await(await gm()).create(c);a=new rc.Connection(c,d,o)}let{browserContextIds:l}=await a.send("Target.getBrowserContexts");return bS.Browser.create(a,l,i,n,null,()=>a.send("Browser.close").catch(ES.debugError))};ut.connectToBrowser=kS;async function CS(t){let e=new URL("/json/version",t),r=await xS.getFetch();try{let i=await r(e.toString(),{method:"GET"});if(!i.ok)throw new Error(`HTTP ${i.statusText}`);return(await i.json()).webSocketDebuggerUrl}catch(i){throw i.message=`Failed to fetch browser webSocket URL from ${e}: `+i.message,i}}});var _m=m(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.networkConditions=void 0;uo.networkConditions={"Slow 3G":{download:500*1e3/8*.8,upload:500*1e3/8*.8,latency:400*5},"Fast 3G":{download:1.6*1e3*1e3/8*.9,upload:750*1e3/8*.9,latency:150*3.75}}});var bm=m(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.Puppeteer=void 0;var TS=Hr(),PS=Cd(),ho=gs(),MS=ym(),LS=_m(),vm=class{constructor(e){this._changedProduct=!1,this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return MS.connectToBrowser(e)}get devices(){return PS.devicesMap}get errors(){return TS.puppeteerErrors}get networkConditions(){return LS.networkConditions}registerCustomQueryHandler(e,r){ho.registerCustomQueryHandler(e,r)}unregisterCustomQueryHandler(e){ho.unregisterCustomQueryHandler(e)}customQueryHandlerNames(){return ho.customQueryHandlerNames()}clearCustomQueryHandlers(){ho.clearCustomQueryHandlers()}};fo.Puppeteer=vm});var ic=m((vI,wm)=>{wm.exports=Em;function Em(t,e){if(t&&e)return Em(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=t.apply(this,i),o=i[i.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var un=m((bI,nc)=>{var xm=ic();nc.exports=xm(po);nc.exports.strict=xm(Sm);po.proto=po(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return po(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Sm(this)},configurable:!0})});function po(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Sm(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var sc=m((wI,Cm)=>{var OS=un(),RS=function(){},AS=function(t){return t.setHeader&&typeof t.abort=="function"},IS=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},km=function(t,e,r){if(typeof e=="function")return km(t,null,e);e||(e={}),r=OS(r||RS);var i=t._writableState,n=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,l=function(){t.writable||c()},c=function(){o=!1,s||r.call(t)},f=function(){s=!1,o||r.call(t)},d=function(v){r.call(t,v?new Error("exited with error code: "+v):null)},u=function(v){r.call(t,v)},p=function(){process.nextTick(y)},y=function(){if(!a){if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"))}},w=function(){t.req.on("finish",c)};return AS(t)?(t.on("complete",c),t.on("abort",p),t.req?w():t.on("request",w)):o&&!i&&(t.on("end",l),t.on("close",l)),IS(t)&&t.on("exit",d),t.on("end",f),t.on("finish",c),e.error!==!1&&t.on("error",u),t.on("close",p),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",w),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("exit",d),t.removeListener("end",f),t.removeListener("error",u),t.removeListener("close",p)}};Cm.exports=km});var ac=m((EI,Tm)=>{var NS=un(),FS=sc(),oc=require("fs"),fn=function(){},DS=/^v?\.0/.test(process.version),mo=function(t){return typeof t=="function"},qS=function(t){return!DS||!oc?!1:(t instanceof(oc.ReadStream||fn)||t instanceof(oc.WriteStream||fn))&&mo(t.close)},jS=function(t){return t.setHeader&&mo(t.abort)},BS=function(t,e,r,i){i=NS(i);var n=!1;t.on("close",function(){n=!0}),FS(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,qS(t))return t.close(fn);if(jS(t))return t.abort();if(mo(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},Pm=function(t){t()},US=function(t,e){return t.pipe(e)},$S=function(){var t=Array.prototype.slice.call(arguments),e=mo(t[t.length-1]||fn)&&t.pop()||fn;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return BS(n,o,a,function(l){r||(r=l),l&&i.forEach(Pm),!o&&(i.forEach(Pm),e(r))})});return t.reduce(US)};Tm.exports=$S});var Lm=m((xI,Mm)=>{"use strict";var{PassThrough:HS}=require("stream");Mm.exports=t=>{t=D({},t);let{array:e}=t,{encoding:r}=t,i=r==="buffer",n=!1;e?n=!(r||i):r=r||"utf8",i&&(r=null);let s=new HS({objectMode:n});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",l=>{a.push(l),n?o=a.length:o+=l.length}),s.getBufferedValue=()=>e?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var Om=m((SI,li)=>{"use strict";var{constants:WS}=require("buffer"),KS=ac(),GS=Lm(),lc=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function go(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e=D({maxBuffer:Infinity},e);let{maxBuffer:r}=e,i;return await new Promise((n,s)=>{let o=a=>{a&&i.getBufferedLength()<=WS.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),s(a)};i=KS(t,GS(e),a=>{if(a){o(a);return}n()}),i.on("data",()=>{i.getBufferedLength()>r&&o(new lc)})}),i.getBufferedValue()}li.exports=go;li.exports.default=go;li.exports.buffer=(t,e)=>go(t,D(D({},e),{encoding:"buffer"}));li.exports.array=(t,e)=>go(t,D(D({},e),{array:!0}));li.exports.MaxBufferError=lc});var Nm=m((CI,Rm)=>{Rm.exports=yo;function yo(){this.pending=0,this.max=Infinity,this.listeners=[],this.waiting=[],this.error=null}yo.prototype.go=function(t){this.pending<this.max?Am(this,t):this.waiting.push(t)};yo.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};yo.prototype.hold=function(){return Im(this)};function Im(t){t.pending+=1;var e=!1;return r;function r(n){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||n,t.pending-=1,t.waiting.length>0&&t.pending<t.max)Am(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(i)}}function i(n){n(t.error)}}function Am(t,e){e(Im(t))}});var Dm=m(dn=>{var hn=require("fs"),_o=require("util"),cc=require("stream"),Fm=cc.Readable,uc=cc.Writable,zS=cc.PassThrough,VS=Nm(),vo=require("events").EventEmitter;dn.createFromBuffer=XS;dn.createFromFd=QS;dn.BufferSlicer=Mt;dn.FdSlicer=Lt;_o.inherits(Lt,vo);function Lt(t,e){e=e||{},vo.call(this),this.fd=t,this.pend=new VS,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Lt.prototype.read=function(t,e,r,i,n){var s=this;s.pend.go(function(o){hn.read(s.fd,t,e,r,i,function(a,l,c){o(),n(a,l,c)})})};Lt.prototype.write=function(t,e,r,i,n){var s=this;s.pend.go(function(o){hn.write(s.fd,t,e,r,i,function(a,l,c){o(),n(a,l,c)})})};Lt.prototype.createReadStream=function(t){return new bo(this,t)};Lt.prototype.createWriteStream=function(t){return new wo(this,t)};Lt.prototype.ref=function(){this.refCount+=1};Lt.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&hn.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};_o.inherits(bo,Fm);function bo(t,e){e=e||{},Fm.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}bo.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(i){if(e.destroyed)return i();var n=new Buffer(r);hn.read(e.context.fd,n,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(n.slice(0,o))),i()})})}};bo.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};_o.inherits(wo,uc);function wo(t,e){e=e||{},uc.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?Infinity:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}wo.prototype._write=function(t,e,r){var i=this;if(!i.destroyed){if(i.pos+t.length>i.endOffset){var n=new Error("maximum file length exceeded");n.code="ETOOBIG",i.destroy(),r(n);return}i.context.pend.go(function(s){if(i.destroyed)return s();hn.write(i.context.fd,t,0,t.length,i.pos,function(o,a){o?(i.destroy(),s(),r(o)):(i.bytesWritten+=a,i.pos+=a,i.emit("progress"),s(),r())})})}};wo.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};_o.inherits(Mt,vo);function Mt(t,e){vo.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Mt.prototype.read=function(t,e,r,i,n){var s=i+r,o=s-this.buffer.length,a=o>0?o:r;this.buffer.copy(t,e,i,s),setImmediate(function(){n(null,a)})};Mt.prototype.write=function(t,e,r,i,n){t.copy(this.buffer,i,e,e+r),setImmediate(function(){n(null,r,t)})};Mt.prototype.createReadStream=function(t){t=t||{};var e=new zS(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),i=0;;){var n=i+this.maxChunkSize;if(n>=r.length){i<r.length&&e.write(r.slice(i,r.length));break}e.write(r.slice(i,n)),i=n}return e.end(),e.destroy=function(){e.destroyed=!0},e};Mt.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new uc(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(i,n,s){if(!r.destroyed){var o=r.pos+i.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}i.copy(e.buffer,r.pos,0,i.length),r.bytesWritten+=i.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};Mt.prototype.ref=function(){this.refCount+=1};Mt.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function XS(t,e){return new Mt(t,e)}function QS(t,e){return new Lt(t,e)}});var Bm=m((TI,qm)=>{var Qt=require("buffer").Buffer,fc=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(fc=new Int32Array(fc));function jm(t){if(Qt.isBuffer(t))return t;var e=typeof Qt.alloc=="function"&&typeof Qt.from=="function";if(typeof t=="number")return e?Qt.alloc(t):new Qt(t);if(typeof t=="string")return e?Qt.from(t):new Qt(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function JS(t){var e=jm(4);return e.writeInt32BE(t,0),e}function dc(t,e){t=jm(t),Qt.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,i=0;i<t.length;i++)r=fc[(r^t[i])&255]^r>>>8;return r^-1}function hc(){return JS(dc.apply(null,arguments))}hc.signed=function(){return dc.apply(null,arguments)};hc.unsigned=function(){return dc.apply(null,arguments)>>>0};qm.exports=hc});var zm=m(ft=>{var pc=require("fs"),YS=require("zlib"),Um=Dm(),ZS=Bm(),Eo=require("util"),xo=require("events").EventEmitter,$m=require("stream").Transform,mc=require("stream").PassThrough,eC=require("stream").Writable;ft.open=tC;ft.fromFd=Hm;ft.fromBuffer=rC;ft.fromRandomAccessReader=gc;ft.dosDateTimeToDate=Wm;ft.validateFileName=Km;ft.ZipFile=Jt;ft.Entry=pn;ft.RandomAccessReader=Yt;function tC(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=So),pc.open(t,"r",function(i,n){if(i)return r(i);Hm(n,e,function(s,o){s&&pc.close(n,So),r(s,o)})})}function Hm(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=So),pc.fstat(t,function(i,n){if(i)return r(i);var s=Um.createFromFd(t,{autoClose:!0});gc(s,n.size,e,r)})}function rC(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var i=Um.createFromBuffer(t,{maxChunkSize:65536});gc(i,t.length,e,r)}function gc(t,e,r,i){typeof r=="function"&&(i=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var n=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),i==null&&(i=So),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=65535,a=Math.min(s+o,e),l=dt(a),c=e-l.length;ci(t,l,0,a,c,function(f){if(f)return i(f);for(var d=a-s;d>=0;d-=1)if(l.readUInt32LE(d)===101010256){var u=l.slice(d),p=u.readUInt16LE(4);if(p!==0)return i(new Error("multi-disk zip files are not supported: found disk number: "+p));var y=u.readUInt16LE(10),w=u.readUInt32LE(16),v=u.readUInt16LE(20),x=u.length-s;if(v!==x)return i(new Error("invalid comment length. expected: "+x+". found: "+v));var k=n?Co(u,22,u.length,!1):u.slice(22);if(!(y===65535||w===4294967295))return i(null,new Jt(t,w,e,y,k,r.autoClose,r.lazyEntries,n,r.validateEntrySizes,r.strictFileNames));var C=dt(20),O=c+d-C.length;ci(t,C,0,C.length,O,function(R){if(R)return i(R);if(C.readUInt32LE(0)!==117853008)return i(new Error("invalid zip64 end of central directory locator signature"));var j=ui(C,8),q=dt(56);ci(t,q,0,q.length,j,function(X){return X?i(X):q.readUInt32LE(0)!==101075792?i(new Error("invalid zip64 end of central directory record signature")):(y=ui(q,32),w=ui(q,48),i(null,new Jt(t,w,e,y,k,r.autoClose,r.lazyEntries,n,r.validateEntrySizes,r.strictFileNames)))})});return}i(new Error("end of central directory record signature not found"))})}Eo.inherits(Jt,xo);function Jt(t,e,r,i,n,s,o,a,l,c){var f=this;xo.call(f),f.reader=t,f.reader.on("error",function(d){Gm(f,d)}),f.reader.once("close",function(){f.emit("close")}),f.readEntryCursor=e,f.fileSize=r,f.entryCount=i,f.comment=n,f.entriesRead=0,f.autoClose=!!s,f.lazyEntries=!!o,f.decodeStrings=!!a,f.validateEntrySizes=!!l,f.strictFileNames=!!c,f.isOpen=!0,f.emittedError=!1,f.lazyEntries||f._readEntry()}Jt.prototype.close=function(){!this.isOpen||(this.isOpen=!1,this.reader.unref())};function et(t,e){t.autoClose&&t.close(),Gm(t,e)}function Gm(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Jt.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Jt.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=dt(46);ci(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return et(t,r);if(!t.emittedError){var i=new pn,n=e.readUInt32LE(0);if(n!==33639248)return et(t,new Error("invalid central directory file header signature: 0x"+n.toString(16)));if(i.versionMadeBy=e.readUInt16LE(4),i.versionNeededToExtract=e.readUInt16LE(6),i.generalPurposeBitFlag=e.readUInt16LE(8),i.compressionMethod=e.readUInt16LE(10),i.lastModFileTime=e.readUInt16LE(12),i.lastModFileDate=e.readUInt16LE(14),i.crc32=e.readUInt32LE(16),i.compressedSize=e.readUInt32LE(20),i.uncompressedSize=e.readUInt32LE(24),i.fileNameLength=e.readUInt16LE(28),i.extraFieldLength=e.readUInt16LE(30),i.fileCommentLength=e.readUInt16LE(32),i.internalFileAttributes=e.readUInt16LE(36),i.externalFileAttributes=e.readUInt32LE(38),i.relativeOffsetOfLocalHeader=e.readUInt32LE(42),i.generalPurposeBitFlag&64)return et(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=dt(i.fileNameLength+i.extraFieldLength+i.fileCommentLength),ci(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return et(t,s);if(!t.emittedError){var o=(i.generalPurposeBitFlag&2048)!=0;i.fileName=t.decodeStrings?Co(e,0,i.fileNameLength,o):e.slice(0,i.fileNameLength);var a=i.fileNameLength+i.extraFieldLength,l=e.slice(i.fileNameLength,a);i.extraFields=[];for(var c=0;c<l.length-3;){var f=l.readUInt16LE(c+0),d=l.readUInt16LE(c+2),u=c+4,p=u+d;if(p>l.length)return et(t,new Error("extra field length exceeds extra field buffer size"));var y=dt(d);l.copy(y,0,u,p),i.extraFields.push({id:f,data:y}),c=p}if(i.fileComment=t.decodeStrings?Co(e,a,a+i.fileCommentLength,o):e.slice(a,a+i.fileCommentLength),i.comment=i.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,i.uncompressedSize===4294967295||i.compressedSize===4294967295||i.relativeOffsetOfLocalHeader===4294967295){for(var w=null,c=0;c<i.extraFields.length;c++){var v=i.extraFields[c];if(v.id===1){w=v.data;break}}if(w==null)return et(t,new Error("expected zip64 extended information extra field"));var x=0;if(i.uncompressedSize===4294967295){if(x+8>w.length)return et(t,new Error("zip64 extended information extra field does not include uncompressed size"));i.uncompressedSize=ui(w,x),x+=8}if(i.compressedSize===4294967295){if(x+8>w.length)return et(t,new Error("zip64 extended information extra field does not include compressed size"));i.compressedSize=ui(w,x),x+=8}if(i.relativeOffsetOfLocalHeader===4294967295){if(x+8>w.length)return et(t,new Error("zip64 extended information extra field does not include relative header offset"));i.relativeOffsetOfLocalHeader=ui(w,x),x+=8}}if(t.decodeStrings)for(var c=0;c<i.extraFields.length;c++){var v=i.extraFields[c];if(v.id===28789){if(v.data.length<6||v.data.readUInt8(0)!==1)continue;var k=v.data.readUInt32LE(1);if(ZS.unsigned(e.slice(0,i.fileNameLength))!==k)continue;i.fileName=Co(v.data,5,v.data.length,!0);break}}if(t.validateEntrySizes&&i.compressionMethod===0){var C=i.uncompressedSize;if(i.isEncrypted()&&(C+=12),i.compressedSize!==C){var O="compressed/uncompressed size mismatch for stored file: "+i.compressedSize+" != "+i.uncompressedSize;return et(t,new Error(O))}}if(t.decodeStrings){t.strictFileNames||(i.fileName=i.fileName.replace(/\\/g,"/"));var R=Km(i.fileName,t.validateFileNameOptions);if(R!=null)return et(t,new Error(R))}t.emit("entry",i),t.lazyEntries||t._readEntry()}})}})}};Jt.prototype.openReadStream=function(t,e,r){var i=this,n=0,s=t.compressedSize;if(r==null)r=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(n=e.start,n<0)throw new Error("options.start < 0");if(n>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<n)throw new Error("options.end < options.start")}}if(!i.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));i.reader.ref();var o=dt(30);ci(i.reader,o,0,o.length,t.relativeOffsetOfLocalHeader,function(a){try{if(a)return r(a);var l=o.readUInt32LE(0);if(l!==67324752)return r(new Error("invalid local file header signature: 0x"+l.toString(16)));var c=o.readUInt16LE(26),f=o.readUInt16LE(28),d=t.relativeOffsetOfLocalHeader+o.length+c+f,u;if(t.compressionMethod===0)u=!1;else if(t.compressionMethod===8)u=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));var p=d,y=p+t.compressedSize;if(t.compressedSize!==0&&y>i.fileSize)return r(new Error("file data overflows file bounds: "+p+" + "+t.compressedSize+" > "+i.fileSize));var w=i.reader.createReadStream({start:p+n,end:p+s}),v=w;if(u){var x=!1,k=YS.createInflateRaw();w.on("error",function(C){setImmediate(function(){x||k.emit("error",C)})}),w.pipe(k),i.validateEntrySizes?(v=new mn(t.uncompressedSize),k.on("error",function(C){setImmediate(function(){x||v.emit("error",C)})}),k.pipe(v)):v=k,v.destroy=function(){x=!0,k!==v&&k.unpipe(v),w.unpipe(k),w.destroy()}}r(null,v)}finally{i.reader.unref()}})};function pn(){}pn.prototype.getLastModDate=function(){return Wm(this.lastModFileDate,this.lastModFileTime)};pn.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!=0};pn.prototype.isCompressed=function(){return this.compressionMethod===8};function Wm(t,e){var r=t&31,i=(t>>5&15)-1,n=(t>>9&127)+1980,s=0,o=(e&31)*2,a=e>>5&63,l=e>>11&31;return new Date(n,i,r,l,a,o,s)}function Km(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function ci(t,e,r,i,n,s){if(i===0)return setImmediate(function(){s(null,dt(0))});t.read(e,r,i,n,function(o,a){if(o)return s(o);if(a<i)return s(new Error("unexpected EOF"));s()})}Eo.inherits(mn,$m);function mn(t){$m.call(this),this.actualByteCount=0,this.expectedByteCount=t}mn.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var i="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(i))}r(null,t)};mn.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};Eo.inherits(Yt,xo);function Yt(){xo.call(this),this.refCount=0}Yt.prototype.ref=function(){this.refCount+=1};Yt.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};Yt.prototype.createReadStream=function(t){var e=t.start,r=t.end;if(e===r){var i=new mc;return setImmediate(function(){i.end()}),i}var n=this._readStreamForRange(e,r),s=!1,o=new ko(this);n.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),o.destroy=function(){n.unpipe(o),o.unref(),n.destroy()};var a=new mn(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),a.destroy=function(){s=!0,o.unpipe(a),o.destroy()},n.pipe(o).pipe(a)};Yt.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};Yt.prototype.read=function(t,e,r,i,n){var s=this.createReadStream({start:i,end:i+r}),o=new eC,a=0;o._write=function(l,c,f){l.copy(t,e+a,0,l.length),a+=l.length,f()},o.on("finish",n),s.on("error",function(l){n(l)}),s.pipe(o)};Yt.prototype.close=function(t){setImmediate(t)};Eo.inherits(ko,mc);function ko(t){mc.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}ko.prototype._flush=function(t){this.unref(),t()};ko.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var iC="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Co(t,e,r,i){if(i)return t.toString("utf8",e,r);for(var n="",s=e;s<r;s++)n+=iC[t[s]];return n}function ui(t,e){var r=t.readUInt32LE(e),i=t.readUInt32LE(e+4);return i*4294967296+r}var dt;typeof Buffer.allocUnsafe=="function"?dt=function(t){return Buffer.allocUnsafe(t)}:dt=function(t){return new Buffer(t)};function So(t){if(t)throw t}});var Qm=m((MI,Vm)=>{var tt=Vr()("extract-zip"),{createWriteStream:nC,promises:fi}=require("fs"),sC=Om(),xr=require("path"),{promisify:yc}=require("util"),oC=require("stream"),aC=zm(),lC=yc(aC.open),cC=yc(oC.pipeline),Xm=class{constructor(e,r){this.zipPath=e,this.opts=r}async extract(){return tt("opening",this.zipPath,"with opts",this.opts),this.zipfile=await lC(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,r)=>{this.zipfile.on("error",i=>{this.canceled=!0,r(i)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(tt("zip extraction complete"),e())}),this.zipfile.on("entry",async i=>{if(this.canceled){tt("skipping entry",i.fileName,{cancelled:this.canceled});return}if(tt("zipfile entry",i.fileName),i.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let n=xr.dirname(xr.join(this.opts.dir,i.fileName));try{await fi.mkdir(n,{recursive:!0});let s=await fi.realpath(n);if(xr.relative(this.opts.dir,s).split(xr.sep).includes(".."))throw new Error(`Out of bound path "${s}" found while processing file ${i.fileName}`);await this.extractEntry(i),tt("finished processing",i.fileName),this.zipfile.readEntry()}catch(s){this.canceled=!0,this.zipfile.close(),r(s)}})})}async extractEntry(e){if(this.canceled){tt("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let r=xr.join(this.opts.dir,e.fileName),i=e.externalFileAttributes>>16&65535,n=61440,s=16384,o=40960,a=(i&n)===o,l=(i&n)===s;!l&&e.fileName.endsWith("/")&&(l=!0);let c=e.versionMadeBy>>8;l||(l=c===0&&e.externalFileAttributes===16),tt("extracting entry",{filename:e.fileName,isDir:l,isSymlink:a});let f=this.getExtractedMode(i,l)&511,d=l?r:xr.dirname(r),u={recursive:!0};if(l&&(u.mode=f),tt("mkdir",D({dir:d},u)),await fi.mkdir(d,u),l)return;tt("opening read stream",r);let p=await yc(this.zipfile.openReadStream.bind(this.zipfile))(e);if(a){let y=await sC(p);tt("creating symlink",y,r),await fi.symlink(y,r)}else await cC(p,nC(r,{mode:f}))}getExtractedMode(e,r){let i=e;return i===0&&(r?(this.opts.defaultDirMode&&(i=parseInt(this.opts.defaultDirMode,10)),i||(i=493)):(this.opts.defaultFileMode&&(i=parseInt(this.opts.defaultFileMode,10)),i||(i=420))),i}};Vm.exports=async function(t,e){if(tt("creating target directory",e.dir),!xr.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await fi.mkdir(e.dir,{recursive:!0}),e.dir=await fi.realpath(e.dir),new Xm(t,e).extract()}});var Jm=m(_c=>{var Sr=require("path"),Zt=process.platform==="win32",er=require("fs"),uC=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function fC(){var t;if(uC){var e=new Error;t=r}else t=i;return t;function r(n){n&&(e.message=n.message,n=e,i(n))}function i(n){if(n){if(process.throwDeprecation)throw n;if(!process.noDeprecation){var s="fs: missing callback "+(n.stack||n.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function dC(t){return typeof t=="function"?t:fC()}var LI=Sr.normalize;Zt?Ot=/(.*?)(?:[\/\\]+|$)/g:Ot=/(.*?)(?:[\/]+|$)/g;var Ot;Zt?gn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:gn=/^[\/]*/;var gn;_c.realpathSync=function(e,r){if(e=Sr.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var i=e,n={},s={},o,a,l,c;f();function f(){var v=gn.exec(e);o=v[0].length,a=v[0],l=v[0],c="",Zt&&!s[l]&&(er.lstatSync(l),s[l]=!0)}for(;o<e.length;){Ot.lastIndex=o;var d=Ot.exec(e);if(c=a,a+=d[0],l=c+d[1],o=Ot.lastIndex,!(s[l]||r&&r[l]===l)){var u;if(r&&Object.prototype.hasOwnProperty.call(r,l))u=r[l];else{var p=er.lstatSync(l);if(!p.isSymbolicLink()){s[l]=!0,r&&(r[l]=l);continue}var y=null;if(!Zt){var w=p.dev.toString(32)+":"+p.ino.toString(32);n.hasOwnProperty(w)&&(y=n[w])}y===null&&(er.statSync(l),y=er.readlinkSync(l)),u=Sr.resolve(c,y),r&&(r[l]=u),Zt||(n[w]=y)}e=Sr.resolve(u,e.slice(o)),f()}}return r&&(r[i]=e),e};_c.realpath=function(e,r,i){if(typeof i!="function"&&(i=dC(r),r=null),e=Sr.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(i.bind(null,null,r[e]));var n=e,s={},o={},a,l,c,f;d();function d(){var v=gn.exec(e);a=v[0].length,l=v[0],c=v[0],f="",Zt&&!o[c]?er.lstat(c,function(x){if(x)return i(x);o[c]=!0,u()}):process.nextTick(u)}function u(){if(a>=e.length)return r&&(r[n]=e),i(null,e);Ot.lastIndex=a;var v=Ot.exec(e);return f=l,l+=v[0],c=f+v[1],a=Ot.lastIndex,o[c]||r&&r[c]===c?process.nextTick(u):r&&Object.prototype.hasOwnProperty.call(r,c)?w(r[c]):er.lstat(c,p)}function p(v,x){if(v)return i(v);if(!x.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(u);if(!Zt){var k=x.dev.toString(32)+":"+x.ino.toString(32);if(s.hasOwnProperty(k))return y(null,s[k],c)}er.stat(c,function(C){if(C)return i(C);er.readlink(c,function(O,R){Zt||(s[k]=R),y(O,R)})})}function y(v,x,k){if(v)return i(v);var C=Sr.resolve(f,x);r&&(r[k]=C),w(C)}function w(v){e=Sr.resolve(v,e.slice(a)),d()}}});var Ec=m((RI,Ym)=>{Ym.exports=tr;tr.realpath=tr;tr.sync=vc;tr.realpathSync=vc;tr.monkeypatch=hC;tr.unmonkeypatch=pC;var di=require("fs"),bc=di.realpath,wc=di.realpathSync,mC=process.version,Zm=/^v[0-5]\./.test(mC),eg=Jm();function tg(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function tr(t,e,r){if(Zm)return bc(t,e,r);typeof e=="function"&&(r=e,e=null),bc(t,e,function(i,n){tg(i)?eg.realpath(t,e,r):r(i,n)})}function vc(t,e){if(Zm)return wc(t,e);try{return wc(t,e)}catch(r){if(tg(r))return eg.realpathSync(t,e);throw r}}function hC(){di.realpath=tr,di.realpathSync=vc}function pC(){di.realpath=bc,di.realpathSync=wc}});var ig=m((AI,rg)=>{rg.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var n=e(t[i],i);gC(n)?r.push.apply(r,n):r.push(n)}return r};var gC=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var lg=m((II,ng)=>{"use strict";ng.exports=sg;function sg(t,e,r){t instanceof RegExp&&(t=og(t,r)),e instanceof RegExp&&(e=og(e,r));var i=ag(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function og(t,e){var r=e.match(t);return r?r[0]:null}sg.range=ag;function ag(t,e,r){var i,n,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),f=l;if(l>=0&&c>0){for(i=[],s=r.length;f>=0&&!a;)f==l?(i.push(f),l=r.indexOf(t,f+1)):i.length==1?a=[i.pop(),c]:(n=i.pop(),n<s&&(s=n,o=c),c=r.indexOf(e,f+1)),f=l<c&&l>=0?l:c;i.length&&(a=[s,o])}return a}});var gg=m((NI,cg)=>{var yC=ig(),ug=lg();cg.exports=_C;var fg="\0SLASH"+Math.random()+"\0",dg="\0OPEN"+Math.random()+"\0",xc="\0CLOSE"+Math.random()+"\0",hg="\0COMMA"+Math.random()+"\0",pg="\0PERIOD"+Math.random()+"\0";function Sc(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function vC(t){return t.split("\\\\").join(fg).split("\\{").join(dg).split("\\}").join(xc).split("\\,").join(hg).split("\\.").join(pg)}function bC(t){return t.split(fg).join("\\").split(dg).join("{").split(xc).join("}").split(hg).join(",").split(pg).join(".")}function mg(t){if(!t)return[""];var e=[],r=ug("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=mg(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function _C(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),hi(vC(t),!0).map(bC)):[]}function wC(t){return"{"+t+"}"}function EC(t){return/^-?0\d/.test(t)}function xC(t,e){return t<=e}function SC(t,e){return t>=e}function hi(t,e){var r=[],i=ug("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),o=n||s,a=i.body.indexOf(",")>=0;if(!o&&!a)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+xc+i.post,hi(t)):[t];var l;if(o)l=i.body.split(/\.\./);else if(l=mg(i.body),l.length===1&&(l=hi(l[0],!1).map(wC),l.length===1)){var f=i.post.length?hi(i.post,!1):[""];return f.map(function(Q){return i.pre+l[0]+Q})}var c=i.pre,f=i.post.length?hi(i.post,!1):[""],d;if(o){var u=Sc(l[0]),p=Sc(l[1]),y=Math.max(l[0].length,l[1].length),w=l.length==3?Math.abs(Sc(l[2])):1,v=xC,x=p<u;x&&(w*=-1,v=SC);var k=l.some(EC);d=[];for(var C=u;v(C,p);C+=w){var O;if(s)O=String.fromCharCode(C),O==="\\"&&(O="");else if(O=String(C),k){var R=y-O.length;if(R>0){var j=new Array(R+1).join("0");C<0?O="-"+j+O.slice(1):O=j+O}}d.push(O)}}else d=yC(l,function($){return hi($,!1)});for(var q=0;q<d.length;q++)for(var X=0;X<f.length;X++){var ee=c+d[q]+f[X];(!e||o||ee)&&r.push(ee)}return r}});var Po=m((FI,yg)=>{yg.exports=$e;$e.Minimatch=he;var yn={sep:"/"};try{yn=require("path")}catch(t){}var Cc=$e.GLOBSTAR=he.GLOBSTAR={},CC=gg(),_g={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},kc="[^/]",Tc=kc+"*?",kC="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",TC="(?:(?!(?:\\/|^)\\.).)*?",vg=PC("().*{}+?[]^$\\!");function PC(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var bg=/\/+/;$e.filter=MC;function MC(t,e){return e=e||{},function(r,i,n){return $e(r,t,e)}}function wg(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(i){r[i]=e[i]}),Object.keys(t).forEach(function(i){r[i]=t[i]}),r}$e.defaults=function(t){if(!t||!Object.keys(t).length)return $e;var e=$e,r=function(n,s,o){return e.minimatch(n,s,wg(t,o))};return r.Minimatch=function(n,s){return new e.Minimatch(n,wg(t,s))},r};he.defaults=function(t){return!t||!Object.keys(t).length?he:$e.defaults(t).Minimatch};function $e(t,e,r){if(typeof e!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new he(e,r).match(t)}function he(t,e){if(!(this instanceof he))return new he(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),yn.sep!=="/"&&(t=t.split(yn.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}he.prototype.debug=function(){};he.prototype.make=LC;function LC(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(bg)}),this.debug(this.pattern,r),r=r.map(function(i,n,s){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}he.prototype.parseNegate=OC;function OC(){var t=this.pattern,e=!1,r=this.options,i=0;if(!r.nonegate){for(var n=0,s=t.length;n<s&&t.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}$e.braceExpand=function(t,e){return Eg(t,e)};he.prototype.braceExpand=Eg;function Eg(t,e){if(e||(this instanceof he?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:CC(t)}he.prototype.parse=RC;var To={};function RC(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&t==="**")return Cc;if(t==="")return"";var i="",n=!!r.nocase,s=!1,o=[],a=[],l,c=!1,f=-1,d=-1,u=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function y(){if(l){switch(l){case"*":i+=Tc,n=!0;break;case"?":i+=kc,n=!0;break;default:i+="\\"+l;break}p.debug("clearStateChar %j %j",l,i),l=!1}}for(var w=0,v=t.length,x;w<v&&(x=t.charAt(w));w++){if(this.debug("%s	%s %s %j",t,w,i,x),s&&vg[x]){i+="\\"+x,s=!1;continue}switch(x){case"/":return!1;case"\\":y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,w,i,x),c){this.debug("  in class"),x==="!"&&w===d+1&&(x="^"),i+=x;continue}p.debug("call clearStateChar %j",l),y(),l=x,r.noext&&y();continue;case"(":if(c){i+="(";continue}if(!l){i+="\\(";continue}o.push({type:l,start:w-1,reStart:i.length,open:_g[l].open,close:_g[l].close}),i+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,i),l=!1;continue;case")":if(c||!o.length){i+="\\)";continue}y(),n=!0;var k=o.pop();i+=k.close,k.type==="!"&&a.push(k),k.reEnd=i.length;continue;case"|":if(c||!o.length||s){i+="\\|",s=!1;continue}y(),i+="|";continue;case"[":if(y(),c){i+="\\"+x;continue}c=!0,d=w,f=i.length,i+=x;continue;case"]":if(w===d+1||!c){i+="\\"+x,s=!1;continue}if(c){var C=t.substring(d+1,w);try{RegExp("["+C+"]")}catch(_){var O=this.parse(C,To);i=i.substr(0,f)+"\\["+O[0]+"\\]",n=n||O[1],c=!1;continue}}n=!0,c=!1,i+=x;continue;default:y(),s?s=!1:vg[x]&&!(x==="^"&&c)&&(i+="\\"),i+=x}}for(c&&(C=t.substr(d+1),O=this.parse(C,To),i=i.substr(0,f)+"\\["+O[0],n=n||O[1]),k=o.pop();k;k=o.pop()){var R=i.slice(k.reStart+k.open.length);this.debug("setting tail",i,k),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(_,E,S){return S||(S="\\"),E+E+S+"|"}),this.debug(`tail=%j
   %s`,R,R,k,i);var j=k.type==="*"?Tc:k.type==="?"?kc:"\\"+k.type;n=!0,i=i.slice(0,k.reStart)+j+"\\("+R}y(),s&&(i+="\\\\");var q=!1;switch(i.charAt(0)){case".":case"[":case"(":q=!0}for(var X=a.length-1;X>-1;X--){var ee=a[X],$=i.slice(0,ee.reStart),Q=i.slice(ee.reStart,ee.reEnd-8),te=i.slice(ee.reEnd-8,ee.reEnd),F=i.slice(ee.reEnd);te+=F;var yt=$.split("(").length-1,Se=F;for(w=0;w<yt;w++)Se=Se.replace(/\)[+*?]?/,"");F=Se;var Re="";F===""&&e!==To&&(Re="$");var h=$+Q+F+Re+te;i=h}if(i!==""&&n&&(i="(?=.)"+i),q&&(i=u+i),e===To)return[i,n];if(!n)return AC(t);var g=r.nocase?"i":"";try{var b=new RegExp("^"+i+"$",g)}catch(_){return new RegExp("$.")}return b._glob=t,b._src=i,b}$e.makeRe=function(t,e){return new he(t,e||{}).makeRe()};he.prototype.makeRe=IC;function IC(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Tc:e.dot?kC:TC,i=e.nocase?"i":"",n=t.map(function(s){return s.map(function(o){return o===Cc?r:typeof o=="string"?NC(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(s){this.regexp=!1}return this.regexp}$e.match=function(t,e,r){r=r||{};var i=new he(e,r);return t=t.filter(function(n){return i.match(n)}),i.options.nonull&&!t.length&&t.push(e),t};he.prototype.match=FC;function FC(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var r=this.options;yn.sep!=="/"&&(t=t.split(yn.sep).join("/")),t=t.split(bg),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var n,s;for(s=t.length-1;s>=0&&(n=t[s],!n);s--);for(s=0;s<i.length;s++){var o=i[s],a=t;r.matchBase&&o.length===1&&(a=[n]);var l=this.matchOne(a,o,e);if(l)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}he.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var l=e[s],c=t[n];if(this.debug(e,l,c),l===!1)return!1;if(l===Cc){this.debug("GLOBSTAR",[e,l,c]);var f=n,d=s+1;if(d===a){for(this.debug("** at the end");n<o;n++)if(t[n]==="."||t[n]===".."||!i.dot&&t[n].charAt(0)===".")return!1;return!0}for(;f<o;){var u=t[f];if(this.debug(`
globstar while`,t,f,e,d,u),this.matchOne(t.slice(f),e.slice(d),r))return this.debug("globstar found match!",f,o,u),!0;if(u==="."||u===".."||!i.dot&&u.charAt(0)==="."){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,f,e,d),f===o))}var p;if(typeof l=="string"?(i.nocase?p=c.toLowerCase()===l.toLowerCase():p=c===l,this.debug("string match",l,c,p)):(p=c.match(l),this.debug("pattern match",l,c,p)),!p)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a){var y=n===o-1&&t[n]==="";return y}throw new Error("wtf?")};function AC(t){return t.replace(/\\(.)/g,"$1")}function NC(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var xg=m((DI,Pc)=>{typeof Object.create=="function"?Pc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pc.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Rt=m((qI,Mc)=>{try{if(Lc=require("util"),typeof Lc.inherits!="function")throw"";Mc.exports=Lc.inherits}catch(t){Mc.exports=xg()}var Lc});var Lo=m((jI,Mo)=>{"use strict";function Sg(t){return t.charAt(0)==="/"}function Cg(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),i=r[1]||"",n=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||n)}Mo.exports=process.platform==="win32"?Cg:Sg;Mo.exports.posix=Sg;Mo.exports.win32=Cg});var Rc=m(ht=>{ht.alphasort=kg;ht.alphasorti=Tg;ht.setopts=DC;ht.ownProp=Pg;ht.makeAbs=_n;ht.finish=qC;ht.mark=jC;ht.isIgnored=Mg;ht.childrenIgnored=BC;function Pg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var pi=require("path"),UC=Po(),Lg=Lo(),Oc=UC.Minimatch;function Tg(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function kg(t,e){return t.localeCompare(e)}function HC(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map($C))}function $C(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new Oc(r,{dot:!0})}return{matcher:new Oc(t,{dot:!0}),gmatcher:e}}function DC(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||Infinity,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),HC(t,r),t.changedCwd=!1;var i=process.cwd();Pg(r,"cwd")?(t.cwd=pi.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=r.root||pi.resolve(t.cwd,"/"),t.root=pi.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Lg(t.cwd)?t.cwd:_n(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new Oc(e,r),t.options=t.minimatch.options}function qC(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[i];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(l){r[l]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(t.nocase?Tg:kg)),t.mark){for(var i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter(function(l){var c=!/\/$/.test(l),f=t.cache[l]||t.cache[_n(t,l)];return c&&f&&(c=f!=="DIR"&&!Array.isArray(f)),c}))}t.ignore.length&&(r=r.filter(function(l){return!Mg(t,l)})),t.found=r}function jC(t,e){var r=_n(t,e),i=t.cache[r],n=e;if(i){var s=i==="DIR"||Array.isArray(i),o=e.slice(-1)==="/";if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=_n(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n}function _n(t,e){var r=e;return e.charAt(0)==="/"?r=pi.join(t.root,e):Lg(e)||e===""?r=e:t.changedCwd?r=pi.resolve(t.cwd,e):r=pi.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Mg(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function BC(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var Ng=m((GI,Og)=>{Og.exports=Rg;Rg.GlobSync=ue;var Oo=require("fs"),WC=Ec(),Ag=Po(),UI=Ag.Minimatch,$I=Ac().Glob,HI=require("util"),Ic=require("path"),Ig=require("assert"),Ro=Lo(),At=Rc(),WI=At.alphasort,KI=At.alphasorti,KC=At.setopts,Nc=At.ownProp,GC=At.childrenIgnored,zC=At.isIgnored;function Rg(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ue(t,e).found}function ue(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ue))return new ue(t,e);if(KC(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}ue.prototype._finish=function(){if(Ig(this instanceof ue),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var n in e)try{n=t._makeAbs(n);var s=WC.realpathSync(n,t.realpathCache);i[s]=!0}catch(o){if(o.syscall==="stat")i[t._makeAbs(n)]=!0;else throw o}})}At.finish(this)};ue.prototype._process=function(t,e,r){Ig(this instanceof ue);for(var i=0;typeof t[i]=="string";)i++;var n;switch(i){case t.length:this._processSimple(t.join("/"),e);return;case 0:n=null;break;default:n=t.slice(0,i).join("/");break}var s=t.slice(i),o;n===null?o=".":((Ro(n)||Ro(t.join("/")))&&(!n||!Ro(n))&&(n="/"+n),o=n);var a=this._makeAbs(o);if(!GC(this,o)){var l=s[0]===Ag.GLOBSTAR;l?this._processGlobStar(n,o,a,s,e,r):this._processReaddir(n,o,a,s,e,r)}};ue.prototype._processReaddir=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(!!o){for(var a=i[0],l=!!this.minimatch.negate,c=a._glob,f=this.dot||c.charAt(0)===".",d=[],u=0;u<o.length;u++){var p=o[u];if(p.charAt(0)!=="."||f){var y;l&&!t?y=!p.match(a):y=p.match(a),y&&d.push(p)}}var w=d.length;if(w!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var u=0;u<w;u++){var p=d[u];t&&(t.slice(-1)!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=Ic.join(this.root,p)),this._emitMatch(n,p)}return}i.shift();for(var u=0;u<w;u++){var p=d[u],v;t?v=[t,p]:v=[p],this._process(v.concat(i),n,s)}}}};ue.prototype._emitMatch=function(t,e){if(!zC(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};ue.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,i;try{r=Oo.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,!n&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};ue.prototype._readdir=function(t,e){var r;if(e&&!Nc(this.symlinks,t))return this._readdirInGlobStar(t);if(Nc(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,Oo.readdirSync(t))}catch(n){return this._readdirError(t,n),null}};ue.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e};ue.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};ue.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(!!o){var a=i.slice(1),l=t?[t]:[],c=l.concat(a);this._process(c,n,!1);var f=o.length,d=this.symlinks[r];if(!(d&&s))for(var u=0;u<f;u++){var p=o[u];if(!(p.charAt(0)==="."&&!this.dot)){var y=l.concat(o[u],a);this._process(y,n,!0);var w=l.concat(o[u],i);this._process(w,n,!0)}}}};ue.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Ro(t)&&!this.nomount){var i=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Ic.join(this.root,t):(t=Ic.resolve(this.root,t),i&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};ue.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&Nc(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var i,n=this.statCache[e];if(!n){var s;try{s=Oo.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=Oo.statSync(e)}catch(a){n=s}else n=s}this.statCache[e]=n;var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};ue.prototype._mark=function(t){return At.mark(this,t)};ue.prototype._makeAbs=function(t){return At.makeAbs(this,t)}});var Dg=m((zI,Fg)=>{var VC=ic(),vn=Object.create(null),XC=un();Fg.exports=VC(QC);function QC(t,e){return vn[t]?(vn[t].push(e),null):(vn[t]=[e],JC(t))}function JC(t){return XC(function e(){var r=vn[t],i=r.length,n=YC(arguments);try{for(var s=0;s<i;s++)r[s].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){e.apply(null,n)})):delete vn[t]}})}function YC(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}});var Ac=m((YI,qg)=>{qg.exports=Cr;var Ao=require("fs"),ZC=Ec(),jg=Po(),VI=jg.Minimatch,ek=Rt(),tk=require("events").EventEmitter,Fc=require("path"),Dc=require("assert"),bn=Lo(),qc=Ng(),It=Rc(),XI=It.alphasort,QI=It.alphasorti,rk=It.setopts,jc=It.ownProp,Bc=Dg(),JI=require("util"),ik=It.childrenIgnored,nk=It.isIgnored,sk=un();function Cr(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return qc(t,e)}return new z(t,e,r)}Cr.sync=qc;var ok=Cr.GlobSync=qc.GlobSync;Cr.glob=Cr;function ak(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}Cr.hasMagic=function(t,e){var r=ak({},e);r.noprocess=!0;var i=new z(t,r),n=i.minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var s=0;s<n[0].length;s++)if(typeof n[0][s]!="string")return!0;return!1};Cr.Glob=z;ek(z,tk);function z(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new ok(t,e)}if(!(this instanceof z))return new z(t,e,r);rk(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=sk(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return a();for(var s=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--n._processing,n._processing<=0&&(s?process.nextTick(function(){n._finish()}):n._finish())}}z.prototype._finish=function(){if(Dc(this instanceof z),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();It.finish(this),this.emit("end",this.found)}};z.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--t==0&&e._finish()}};z.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),n=this,s=i.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(a,l){a=n._makeAbs(a),ZC.realpath(a,n.realpathCache,function(c,f){c?c.syscall==="stat"?o[a]=!0:n.emit("error",c):o[f]=!0,--s==0&&(n.matches[t]=o,e())})})};z.prototype._mark=function(t){return It.mark(this,t)};z.prototype._makeAbs=function(t){return It.makeAbs(this,t)};z.prototype.abort=function(){this.aborted=!0,this.emit("abort")};z.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};z.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}};z.prototype._process=function(t,e,r,i){if(Dc(this instanceof z),Dc(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,i]);return}for(var n=0;typeof t[n]=="string";)n++;var s;switch(n){case t.length:this._processSimple(t.join("/"),e,i);return;case 0:s=null;break;default:s=t.slice(0,n).join("/");break}var o=t.slice(n),a;s===null?a=".":((bn(s)||bn(t.join("/")))&&(!s||!bn(s))&&(s="/"+s),a=s);var l=this._makeAbs(a);if(ik(this,a))return i();var c=o[0]===jg.GLOBSTAR;c?this._processGlobStar(s,a,l,o,e,r,i):this._processReaddir(s,a,l,o,e,r,i)}};z.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(l,c){return a._processReaddir2(t,e,r,i,n,s,c,o)})};z.prototype._processReaddir2=function(t,e,r,i,n,s,o,a){if(!o)return a();for(var l=i[0],c=!!this.minimatch.negate,f=l._glob,d=this.dot||f.charAt(0)===".",u=[],p=0;p<o.length;p++){var y=o[p];if(y.charAt(0)!=="."||d){var w;c&&!t?w=!y.match(l):w=y.match(l),w&&u.push(y)}}var v=u.length;if(v===0)return a();if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var p=0;p<v;p++){var y=u[p];t&&(t!=="/"?y=t+"/"+y:y=t+y),y.charAt(0)==="/"&&!this.nomount&&(y=Fc.join(this.root,y)),this._emitMatch(n,y)}return a()}i.shift();for(var p=0;p<v;p++){var y=u[p],x;t&&(t!=="/"?y=t+"/"+y:y=t+y),this._process([y].concat(i),n,s,a)}a()};z.prototype._emitMatch=function(t,e){if(!this.aborted&&!nk(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=bn(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}};z.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,n=Bc(r,s);n&&Ao.lstat(t,n);function s(o,a){if(o&&o.code==="ENOENT")return e();var l=a&&a.isSymbolicLink();i.symlinks[t]=l,!l&&a&&!a.isDirectory()?(i.cache[t]="FILE",e()):i._readdir(t,!1,e)}};z.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=Bc("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!jc(this.symlinks,t))return this._readdirInGlobStar(t,r);if(jc(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var n=this;Ao.readdir(t,lk(this,t,r))}};function lk(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}z.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}};z.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};z.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(l,c){a._processGlobStar2(t,e,r,i,n,s,c,o)})};z.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var l=i.slice(1),c=t?[t]:[],f=c.concat(l);this._process(f,n,!1,a);var d=this.symlinks[r],u=o.length;if(d&&s)return a();for(var p=0;p<u;p++){var y=o[p];if(!(y.charAt(0)==="."&&!this.dot)){var w=c.concat(o[p],l);this._process(w,n,!0,a);var v=c.concat(o[p],i);this._process(v,n,!0,a)}}a()};z.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,function(n,s){i._processSimple2(t,e,n,s,r)})};z.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&bn(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Fc.join(this.root,t):(t=Fc.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()};z.prototype._stat=function(t,e){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&jc(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||n==="DIR")return e(null,n);if(i&&n==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&a==="FILE"?e():e(null,a,o)}var l=this,c=Bc("stat\0"+r,f);c&&Ao.lstat(r,c);function f(d,u){if(u&&u.isSymbolicLink())return Ao.stat(r,function(p,y){p?l._stat2(t,r,null,u,e):l._stat2(t,r,p,y,e)});l._stat2(t,r,d,u,e)}};z.prototype._stat2=function(t,e,r,i,n){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,n();var s=t.slice(-1)==="/";if(this.statCache[e]=i,e.slice(-1)==="/"&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?n():n(null,o,i)}});var Wc=m((ZI,Bg)=>{var Y=require("assert"),Ug=require("path"),$g=require("fs"),mi;try{mi=Ac()}catch(t){}var ck={nosort:!0,silent:!0},Uc=0,wn=process.platform==="win32",Hg=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||$g[r],r=r+"Sync",t[r]=t[r]||$g[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&mi===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||ck},Hc=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),Y(t,"rimraf: missing path"),Y.equal(typeof t,"string","rimraf: path should be a string"),Y.equal(typeof r,"function","rimraf: callback function required"),Y(e,"rimraf: invalid options argument provided"),Y.equal(typeof e,"object","rimraf: options should be object"),Hg(e);let i=0,n=null,s=0,o=l=>{n=n||l,--s==0&&r(n)},a=(l,c)=>{if(l)return r(l);if(s=c.length,s===0)return r();c.forEach(f=>{let d=u=>{if(u){if((u.code==="EBUSY"||u.code==="ENOTEMPTY"||u.code==="EPERM")&&i<e.maxBusyTries)return i++,setTimeout(()=>$c(f,e,d),i*100);if(u.code==="EMFILE"&&Uc<e.emfileWait)return setTimeout(()=>$c(f,e,d),Uc++);u.code==="ENOENT"&&(u=null)}Uc=0,o(u)};$c(f,e,d)})};if(e.disableGlob||!mi.hasMagic(t))return a(null,[t]);e.lstat(t,(l,c)=>{if(!l)return a(null,[t]);mi(t,e.glob,a)})},$c=(t,e,r)=>{Y(t),Y(e),Y(typeof r=="function"),e.lstat(t,(i,n)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&wn&&Wg(t,e,i,r),n&&n.isDirectory())return Io(t,e,i,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return wn?Wg(t,e,s,r):Io(t,e,s,r);if(s.code==="EISDIR")return Io(t,e,s,r)}return r(s)})})},Wg=(t,e,r,i)=>{Y(t),Y(e),Y(typeof i=="function"),e.chmod(t,438,n=>{n?i(n.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?i(s.code==="ENOENT"?null:r):o.isDirectory()?Io(t,e,r,i):e.unlink(t,i)})})},Kg=(t,e,r)=>{Y(t),Y(e);try{e.chmodSync(t,438)}catch(n){if(n.code==="ENOENT")return;throw r}let i;try{i=e.statSync(t)}catch(n){if(n.code==="ENOENT")return;throw r}i.isDirectory()?No(t,e,r):e.unlinkSync(t)},Io=(t,e,r,i)=>{Y(t),Y(e),Y(typeof i=="function"),e.rmdir(t,n=>{n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")?uk(t,e,i):n&&n.code==="ENOTDIR"?i(r):i(n)})},uk=(t,e,r)=>{Y(t),Y(e),Y(typeof r=="function"),e.readdir(t,(i,n)=>{if(i)return r(i);let s=n.length;if(s===0)return e.rmdir(t,r);let o;n.forEach(a=>{Hc(Ug.join(t,a),e,l=>{if(!o){if(l)return r(o=l);--s==0&&e.rmdir(t,r)}})})})},Gg=(t,e)=>{e=e||{},Hg(e),Y(t,"rimraf: missing path"),Y.equal(typeof t,"string","rimraf: path should be a string"),Y(e,"rimraf: missing options"),Y.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!mi.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(i){r=mi.sync(t,e.glob)}if(!!r.length)for(let i=0;i<r.length;i++){let n=r[i],s;try{s=e.lstatSync(n)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&wn&&Kg(n,e,o)}try{s&&s.isDirectory()?No(n,e,null):e.unlinkSync(n)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return wn?Kg(n,e,o):No(n,e,o);if(o.code!=="EISDIR")throw o;No(n,e,o)}}},No=(t,e,r)=>{Y(t),Y(e);try{e.rmdirSync(t)}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR")throw r;(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")&&fk(t,e)}},fk=(t,e)=>{Y(t),Y(e),e.readdirSync(t).forEach(n=>Gg(Ug.join(t,n),e));let r=wn?100:1,i=0;do{let n=!0;try{let s=e.rmdirSync(t,e);return n=!1,s}finally{if(++i<r&&n)continue}}while(!0)};Bg.exports=Hc;Hc.sync=Gg});var zg=m(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});function dk(t){return function(e,r){return new Promise((i,n)=>{t.call(this,e,r,(s,o)=>{s?n(s):i(o)})})}}Kc.default=dk});var Qg=m((Gc,Vg)=>{"use strict";var Xg=Gc&&Gc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},hk=require("events"),pk=Xg(Vr()),mk=Xg(zg()),En=pk.default("agent-base");function gk(t){return Boolean(t)&&typeof t.addRequest=="function"}function zc(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function Fo(t,e){return new Fo.Agent(t,e)}(function(t){class e extends hk.EventEmitter{constructor(i,n){super();let s=n;typeof i=="function"?this.callback=i:i&&(s=i),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:zc()?443:80}set defaultPort(i){this.explicitDefaultPort=i}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:zc()?"https:":"http:"}set protocol(i){this.explicitProtocol=i}callback(i,n,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(i,n){let s=Object.assign({},n);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=zc()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,i._last=!0,i.shouldKeepAlive=!1;let o=!1,a=null,l=s.timeout||this.timeout,c=p=>{i._hadError||(i.emit("error",p),i._hadError=!0)},f=()=>{a=null,o=!0;let p=new Error(`A "socket" was not created for HTTP request before ${l}ms`);p.code="ETIMEOUT",c(p)},d=p=>{o||(a!==null&&(clearTimeout(a),a=null),c(p))},u=p=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),gk(p)){En("Callback returned another Agent instance %o",p.constructor.name),p.addRequest(i,s);return}if(p){p.once("free",()=>{this.freeSocket(p,s)}),i.onSocket(p);return}let y=new Error(`no Duplex stream was returned to agent-base for \`${i.method} ${i.path}\``);c(y)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(En("Converting legacy callback function to promise"),this.promisifiedCallback=mk.default(this.callback)):this.promisifiedCallback=this.callback),typeof l=="number"&&l>0&&(a=setTimeout(f,l)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{En("Resolving socket for %o request: %o",s.protocol,`${i.method} ${i.path}`),Promise.resolve(this.promisifiedCallback(i,s)).then(u,d)}catch(p){Promise.reject(p).catch(d)}}freeSocket(i,n){En("Freeing socket %o %o",i.constructor.name,n),i.destroy()}destroy(){En("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(Fo||(Fo={}));Vg.exports=Fo});var Jg=m(xn=>{"use strict";var yk=xn&&xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});var _k=yk(Vr()),Sn=_k.default("https-proxy-agent:parse-proxy-response");function vk(t){return new Promise((e,r)=>{let i=0,n=[];function s(){let d=t.read();d?f(d):t.once("readable",s)}function o(){t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",a),t.removeListener("readable",s)}function a(d){Sn("onclose had error %o",d)}function l(){Sn("onend")}function c(d){o(),Sn("onerror %o",d),r(d)}function f(d){n.push(d),i+=d.length;let u=Buffer.concat(n,i);if(u.indexOf(`\r
\r
`)===-1){Sn("have not received end of HTTP headers yet..."),s();return}let y=u.toString("ascii",0,u.indexOf(`\r
`)),w=+y.split(" ")[1];Sn("got proxy server response: %o",y),e({statusCode:w,buffered:u})}t.on("error",c),t.on("close",a),t.on("end",l),s()})}xn.default=vk});var ty=m(kr=>{"use strict";var bk=kr&&kr.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(i.next(f))}catch(d){o(d)}}function l(f){try{c(i.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):n(f.value).then(a,l)}c((i=i.apply(t,e||[])).next())})},gi=kr&&kr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kr,"__esModule",{value:!0});var Yg=gi(require("net")),Zg=gi(require("tls")),wk=gi(require("url")),Ek=gi(require("assert")),xk=gi(Vr()),Sk=Qg(),Ck=gi(Jg()),Cn=xk.default("https-proxy-agent:agent"),ey=class extends Sk.Agent{constructor(e){let r;if(typeof e=="string"?r=wk.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Cn("creating new HttpsProxyAgent instance: %o",r),super(r);let i=Object.assign({},r);this.secureProxy=r.secureProxy||Pk(i.protocol),i.host=i.hostname||i.host,typeof i.port=="string"&&(i.port=parseInt(i.port,10)),!i.port&&i.host&&(i.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in i)&&(i.ALPNProtocols=["http 1.1"]),i.host&&i.path&&(delete i.path,delete i.pathname),this.proxy=i}callback(e,r){return bk(this,void 0,void 0,function*(){let{proxy:i,secureProxy:n}=this,s;n?(Cn("Creating `tls.Socket`: %o",i),s=Zg.default.connect(i)):(Cn("Creating `net.Socket`: %o",i),s=Yg.default.connect(i));let o=Object.assign({},i.headers),l=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;i.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(i.auth).toString("base64")}`);let{host:c,port:f,secureEndpoint:d}=r;Tk(f,d)||(c+=`:${f}`),o.Host=c,o.Connection="close";for(let v of Object.keys(o))l+=`${v}: ${o[v]}\r
`;let u=Ck.default(s);s.write(`${l}\r
`);let{statusCode:p,buffered:y}=yield u;if(p===200){if(e.once("socket",kk),r.secureEndpoint){let v=r.servername||r.host;if(!v)throw new Error('Could not determine "servername"');return Cn("Upgrading socket connection to TLS"),Zg.default.connect(Object.assign(Object.assign({},Mk(r,"host","hostname","path","port")),{socket:s,servername:v}))}return s}s.destroy();let w=new Yg.default.Socket;return w.readable=!0,e.once("socket",v=>{Cn("replaying proxy buffer for failed request"),Ek.default(v.listenerCount("data")>0),v.push(y),v.push(null)}),w})}};kr.default=ey;function kk(t){t.resume()}function Tk(t,e){return Boolean(!e&&t===80||e&&t===443)}function Pk(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function Mk(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var iy=m((Vc,ry)=>{"use strict";var Lk=Vc&&Vc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Xc=Lk(ty());function Qc(t){return new Xc.default(t)}(function(t){t.HttpsProxyAgent=Xc.default,t.prototype=Xc.default.prototype})(Qc||(Qc={}));ry.exports=Qc});var sy=m(ny=>{"use strict";var Ok=require("url").parse,Rk={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Ak=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function Nk(t){var e=typeof t=="string"?Ok(t):t||{},r=e.protocol,i=e.host,n=e.port;if(typeof i!="string"||!i||typeof r!="string"||(r=r.split(":",1)[0],i=i.replace(/:\d*$/,""),n=parseInt(n)||Rk[r]||0,!Ik(i,n)))return"";var s=yi("npm_config_"+r+"_proxy")||yi(r+"_proxy")||yi("npm_config_proxy")||yi("all_proxy");return s&&s.indexOf("://")===-1&&(s=r+"://"+s),s}function Ik(t,e){var r=(yi("npm_config_no_proxy")||yi("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(i){if(!i)return!0;var n=i.match(/^(.+):(\d+)$/),s=n?n[1]:i,o=n?parseInt(n[2]):0;return o&&o!==e?!0:/^[.*]/.test(s)?(s.charAt(0)==="*"&&(s=s.slice(1)),!Ak.call(t,s)):t!==s}):!0}function yi(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}ny.getProxyForUrl=Nk});var dy=m((nN,oy)=>{"use strict";var He=require("fs"),Tr=require("path"),Fk=He.lchown?"lchown":"chown",Dk=He.lchownSync?"lchownSync":"chownSync",ay=He.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),ly=(t,e,r)=>{try{return He[Dk](t,e,r)}catch(i){if(i.code!=="ENOENT")throw i}},qk=(t,e,r)=>{try{return He.chownSync(t,e,r)}catch(i){if(i.code!=="ENOENT")throw i}},jk=ay?(t,e,r,i)=>n=>{!n||n.code!=="EISDIR"?i(n):He.chown(t,e,r,i)}:(t,e,r,i)=>i,Jc=ay?(t,e,r)=>{try{return ly(t,e,r)}catch(i){if(i.code!=="EISDIR")throw i;qk(t,e,r)}}:(t,e,r)=>ly(t,e,r),Bk=process.version,cy=(t,e,r)=>He.readdir(t,e,r),Uk=(t,e)=>He.readdirSync(t,e);/^v4\./.test(Bk)&&(cy=(t,e,r)=>He.readdir(t,r));var Do=(t,e,r,i)=>{He[Fk](t,e,r,jk(t,e,r,n=>{i(n&&n.code!=="ENOENT"?n:null)}))},uy=(t,e,r,i,n)=>{if(typeof e=="string")return He.lstat(Tr.resolve(t,e),(s,o)=>{if(s)return n(s.code!=="ENOENT"?s:null);o.name=e,uy(t,o,r,i,n)});if(e.isDirectory())Yc(Tr.resolve(t,e.name),r,i,s=>{if(s)return n(s);let o=Tr.resolve(t,e.name);Do(o,r,i,n)});else{let s=Tr.resolve(t,e.name);Do(s,r,i,n)}},Yc=(t,e,r,i)=>{cy(t,{withFileTypes:!0},(n,s)=>{if(n){if(n.code==="ENOENT")return i();if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return i(n)}if(n||!s.length)return Do(t,e,r,i);let o=s.length,a=null,l=c=>{if(!a){if(c)return i(a=c);if(--o==0)return Do(t,e,r,i)}};s.forEach(c=>uy(t,c,e,r,l))})},$k=(t,e,r,i)=>{if(typeof e=="string")try{let n=He.lstatSync(Tr.resolve(t,e));n.name=e,e=n}catch(n){if(n.code==="ENOENT")return;throw n}e.isDirectory()&&fy(Tr.resolve(t,e.name),r,i),Jc(Tr.resolve(t,e.name),r,i)},fy=(t,e,r)=>{let i;try{i=Uk(t,{withFileTypes:!0})}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR"||n.code==="ENOTSUP")return Jc(t,e,r);throw n}return i&&i.length&&i.forEach(n=>$k(t,n,e,r)),Jc(t,e,r)};oy.exports=Yc;Yc.sync=fy});var Zc=m((sN,hy)=>{hy.exports=require("stream")});var yy=m((oN,py)=>{"use strict";function my(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Wk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?my(Object(r),!0).forEach(function(i){Hk(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Hk(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gk(t,e,r){return e&&gy(t.prototype,e),r&&gy(t,r),t}var zk=require("buffer"),qo=zk.Buffer,Vk=require("util"),eu=Vk.inspect,Xk=eu&&eu.custom||"inspect";function Qk(t,e,r){qo.prototype.copy.call(t,e,r)}py.exports=function(){function t(){Kk(this,t),this.head=null,this.tail=null,this.length=0}return Gk(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return qo.alloc(0);for(var i=qo.allocUnsafe(r>>>0),n=this.head,s=0;n;)Qk(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=qo.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:Xk,value:function(r,i){return eu(this,Wk({},i,{depth:0,customInspect:!1}))}}]),t}()});var ru=m((aN,_y)=>{"use strict";function Jk(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(tu,this,t)):process.nextTick(tu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(jo,r):(r._writableState.errorEmitted=!0,process.nextTick(vy,r,s)):process.nextTick(vy,r,s):e?(process.nextTick(jo,r),e(s)):process.nextTick(jo,r)}),this)}function vy(t,e){tu(t,e),jo(t)}function jo(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Yk(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function tu(t,e){t.emit("error",e)}function Zk(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}_y.exports={destroy:Jk,undestroy:Yk,errorOrDestroy:Zk}});var rr=m((lN,by)=>{"use strict";var wy={};function We(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}class n extends r{constructor(o,a,l){super(i(o,a,l))}}n.prototype.name=r.name,n.prototype.code=t,wy[t]=n}function Ey(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function eT(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function tT(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function rT(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}We("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);We("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&eT(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(tT(t," argument"))n=`The ${t} ${i} ${Ey(e,"type")}`;else{let s=rT(t,".")?"property":"argument";n=`The "${t}" ${s} ${i} ${Ey(e,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);We("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");We("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});We("ERR_STREAM_PREMATURE_CLOSE","Premature close");We("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});We("ERR_MULTIPLE_CALLBACK","Callback called multiple times");We("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");We("ERR_STREAM_WRITE_AFTER_END","write after end");We("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);We("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);We("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");by.exports.codes=wy});var iu=m((cN,xy)=>{"use strict";var iT=rr().codes.ERR_INVALID_OPT_VALUE;function nT(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function sT(t,e,r,i){var n=nT(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new iT(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}xy.exports={getHighWaterMark:sT}});var Cy=m((uN,Sy)=>{Sy.exports=require("util").deprecate});var ou=m((fN,ky)=>{"use strict";ky.exports=ne;function Ty(t){var e=this;this.next=null,this.entry=null,this.finish=function(){oT(e,t)}}var _i;ne.WritableState=kn;var aT={deprecate:Cy()},Py=Zc(),Bo=require("buffer").Buffer,lT=global.Uint8Array||function(){};function cT(t){return Bo.from(t)}function uT(t){return Bo.isBuffer(t)||t instanceof lT}var nu=ru(),fT=iu(),dT=fT.getHighWaterMark,ir=rr().codes,hT=ir.ERR_INVALID_ARG_TYPE,pT=ir.ERR_METHOD_NOT_IMPLEMENTED,mT=ir.ERR_MULTIPLE_CALLBACK,gT=ir.ERR_STREAM_CANNOT_PIPE,yT=ir.ERR_STREAM_DESTROYED,_T=ir.ERR_STREAM_NULL_VALUES,vT=ir.ERR_STREAM_WRITE_AFTER_END,bT=ir.ERR_UNKNOWN_ENCODING,vi=nu.errorOrDestroy;Rt()(ne,Py);function wT(){}function kn(t,e,r){_i=_i||Pr(),t=t||{},typeof r!="boolean"&&(r=e instanceof _i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=dT(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){ET(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ty(this)}kn.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(kn.prototype,"buffer",{get:aT.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var Uo;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Uo=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:function(e){return Uo.call(this,e)?!0:this!==ne?!1:e&&e._writableState instanceof kn}})):Uo=function(e){return e instanceof this};function ne(t){_i=_i||Pr();var e=this instanceof _i;if(!e&&!Uo.call(ne,this))return new ne(t);this._writableState=new kn(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Py.call(this)}ne.prototype.pipe=function(){vi(this,new gT)};function xT(t,e){var r=new vT;vi(t,r),process.nextTick(e,r)}function ST(t,e,r,i){var n;return r===null?n=new _T:typeof r!="string"&&!e.objectMode&&(n=new hT("chunk",["string","Buffer"],r)),n?(vi(t,n),process.nextTick(i,n),!1):!0}ne.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&uT(t);return s&&!Bo.isBuffer(t)&&(t=cT(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=wT),i.ending?xT(this,r):(s||ST(this,i,t,r))&&(i.pendingcb++,n=CT(this,i,s,t,e,r)),n};ne.prototype.cork=function(){this._writableState.corked++};ne.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&My(this,t))};ne.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new bT(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ne.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function kT(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Bo.from(e,r)),e}Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function CT(t,e,r,i,n,s){if(!r){var o=kT(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else su(t,e,!1,a,i,n,s);return l}function su(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new yT("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function TT(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(Tn,t,e),t._writableState.errorEmitted=!0,vi(t,i)):(n(i),t._writableState.errorEmitted=!0,vi(t,i),Tn(t,e))}function PT(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function ET(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new mT;if(PT(r),e)TT(t,r,i,e,n);else{var s=Oy(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&My(t,r),i?process.nextTick(Ly,t,r,s,n):Ly(t,r,s,n)}}function Ly(t,e,r,i){r||MT(t,e),e.pendingcb--,i(),Tn(t,e)}function MT(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function My(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,su(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Ty(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,d=e.objectMode?1:l.length;if(su(t,e,!1,d,l,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ne.prototype._write=function(t,e,r){r(new pT("_write()"))};ne.prototype._writev=null;ne.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||LT(this,i,r),this};Object.defineProperty(ne.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Oy(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function OT(t,e){t._final(function(r){e.pendingcb--,r&&vi(t,r),e.prefinished=!0,t.emit("prefinish"),Tn(t,e)})}function RT(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(OT,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Tn(t,e){var r=Oy(e);if(r&&(RT(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function LT(t,e,r){e.ending=!0,Tn(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function oT(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ne.prototype.destroy=nu.destroy;ne.prototype._undestroy=nu.undestroy;ne.prototype._destroy=function(t,e){e(t)}});var Pr=m((dN,Ry)=>{"use strict";var AT=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Ry.exports=pt;var Ay=au(),lu=ou();Rt()(pt,Ay);for(cu=AT(lu.prototype),$o=0;$o<cu.length;$o++)Ho=cu[$o],pt.prototype[Ho]||(pt.prototype[Ho]=lu.prototype[Ho]);var cu,Ho,$o;function pt(t){if(!(this instanceof pt))return new pt(t);Ay.call(this,t),lu.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",IT)))}Object.defineProperty(pt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(pt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(pt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function IT(){this._writableState.ended||process.nextTick(NT,this)}function NT(t){t.end()}Object.defineProperty(pt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Wo=m((hN,Iy)=>{"use strict";var Ny=rr().codes.ERR_STREAM_PREMATURE_CLOSE;function FT(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function DT(){}function qT(t){return t.setHeader&&typeof t.abort=="function"}function Fy(t,e,r){if(typeof e=="function")return Fy(t,null,e);e||(e={}),r=FT(r||DT);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},l=t._readableState&&t._readableState.endEmitted,c=function(){i=!1,l=!0,n||r.call(t)},f=function(y){r.call(t,y)},d=function(){var y;if(i&&!l)return(!t._readableState||!t._readableState.ended)&&(y=new Ny),r.call(t,y);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(y=new Ny),r.call(t,y)},u=function(){t.req.on("finish",a)};return qT(t)?(t.on("complete",a),t.on("abort",d),t.req?u():t.on("request",u)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",u),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",f),t.removeListener("close",d)}}Iy.exports=Fy});var qy=m((pN,Dy)=>{"use strict";var Ko;function nr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jT=Wo(),sr=Symbol("lastResolve"),Mr=Symbol("lastReject"),Pn=Symbol("error"),Go=Symbol("ended"),Lr=Symbol("lastPromise"),uu=Symbol("handlePromise"),Or=Symbol("stream");function or(t,e){return{value:t,done:e}}function BT(t){var e=t[sr];if(e!==null){var r=t[Or].read();r!==null&&(t[Lr]=null,t[sr]=null,t[Mr]=null,e(or(r,!1)))}}function UT(t){process.nextTick(BT,t)}function $T(t,e){return function(r,i){t.then(function(){if(e[Go]){r(or(void 0,!0));return}e[uu](r,i)},i)}}var HT=Object.getPrototypeOf(function(){}),WT=Object.setPrototypeOf((Ko={get stream(){return this[Or]},next:function(){var e=this,r=this[Pn];if(r!==null)return Promise.reject(r);if(this[Go])return Promise.resolve(or(void 0,!0));if(this[Or].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Pn]?a(e[Pn]):o(or(void 0,!0))})});var i=this[Lr],n;if(i)n=new Promise($T(i,this));else{var s=this[Or].read();if(s!==null)return Promise.resolve(or(s,!1));n=new Promise(this[uu])}return this[Lr]=n,n}},nr(Ko,Symbol.asyncIterator,function(){return this}),nr(Ko,"return",function(){var e=this;return new Promise(function(r,i){e[Or].destroy(null,function(n){if(n){i(n);return}r(or(void 0,!0))})})}),Ko),HT),KT=function(e){var r,i=Object.create(WT,(r={},nr(r,Or,{value:e,writable:!0}),nr(r,sr,{value:null,writable:!0}),nr(r,Mr,{value:null,writable:!0}),nr(r,Pn,{value:null,writable:!0}),nr(r,Go,{value:e._readableState.endEmitted,writable:!0}),nr(r,uu,{value:function(s,o){var a=i[Or].read();a?(i[Lr]=null,i[sr]=null,i[Mr]=null,s(or(a,!1))):(i[sr]=s,i[Mr]=o)},writable:!0}),r));return i[Lr]=null,jT(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[Mr];s!==null&&(i[Lr]=null,i[sr]=null,i[Mr]=null,s(n)),i[Pn]=n;return}var o=i[sr];o!==null&&(i[Lr]=null,i[sr]=null,i[Mr]=null,o(or(void 0,!0))),i[Go]=!0}),e.on("readable",UT.bind(null,i)),i};Dy.exports=KT});var $y=m((mN,jy)=>{"use strict";function By(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(c){r(c);return}a.done?e(l):Promise.resolve(l).then(i,n)}function GT(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(l){By(s,i,n,o,a,"next",l)}function a(l){By(s,i,n,o,a,"throw",l)}o(void 0)})}}function Uy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function VT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(r),!0).forEach(function(i){zT(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uy(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function zT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var XT=rr().codes.ERR_INVALID_ARG_TYPE;function QT(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new XT("iterable",["Iterable"],e);var n=new t(VT({objectMode:!0},r)),s=!1;n._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=GT(function*(){try{var l=yield i.next(),c=l.value,f=l.done;f?n.push(null):n.push(yield c)?o():s=!1}catch(d){n.destroy(d)}}),a.apply(this,arguments)}return n}jy.exports=QT});var au=m((yN,Hy)=>{"use strict";Hy.exports=K;var bi;K.ReadableState=Wy;var gN=require("events").EventEmitter,Ky=function(e,r){return e.listeners(r).length},Mn=Zc(),zo=require("buffer").Buffer,JT=global.Uint8Array||function(){};function YT(t){return zo.from(t)}function ZT(t){return zo.isBuffer(t)||t instanceof JT}var fu=require("util"),U;fu&&fu.debuglog?U=fu.debuglog("stream"):U=function(){};var eP=yy(),du=ru(),tP=iu(),rP=tP.getHighWaterMark,Vo=rr().codes,iP=Vo.ERR_INVALID_ARG_TYPE,nP=Vo.ERR_STREAM_PUSH_AFTER_EOF,sP=Vo.ERR_METHOD_NOT_IMPLEMENTED,oP=Vo.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,wi,hu,pu;Rt()(K,Mn);var Ln=du.errorOrDestroy,mu=["error","close","destroy","pause","resume"];function aP(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Wy(t,e,r){bi=bi||Pr(),t=t||{},typeof r!="boolean"&&(r=e instanceof bi),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=rP(this,t,"readableHighWaterMark",r),this.buffer=new eP,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(wi||(wi=require("string_decoder/").StringDecoder),this.decoder=new wi(t.encoding),this.encoding=t.encoding)}function K(t){if(bi=bi||Pr(),!(this instanceof K))return new K(t);var e=this instanceof bi;this._readableState=new Wy(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Mn.call(this)}Object.defineProperty(K.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});K.prototype.destroy=du.destroy;K.prototype._undestroy=du.undestroy;K.prototype._destroy=function(t,e){e(t)};K.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=zo.from(t,e),e=""),i=!0),Gy(this,t,e,!1,i)};K.prototype.unshift=function(t){return Gy(this,t,null,!0,!1)};function Gy(t,e,r,i,n){U("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,cP(t,s);else{var o;if(n||(o=lP(s,e)),o)Ln(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==zo.prototype&&(e=YT(e)),i)s.endEmitted?Ln(t,new oP):gu(t,s,e,!0);else if(s.ended)Ln(t,new nP);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?gu(t,s,e,!1):yu(t,s)):gu(t,s,e,!1)}else i||(s.reading=!1,yu(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function gu(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Xo(t)),yu(t,e)}function lP(t,e){var r;return!ZT(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new iP("chunk",["string","Buffer","Uint8Array"],e)),r}K.prototype.isPaused=function(){return this._readableState.flowing===!1};K.prototype.setEncoding=function(t){wi||(wi=require("string_decoder/").StringDecoder);var e=new wi(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var zy=1073741824;function uP(t){return t>=zy?t=zy:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Vy(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=uP(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}K.prototype.read=function(t){U("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return U("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?_u(this):Xo(this),null;if(t=Vy(t,e),t===0&&e.ended)return e.length===0&&_u(this),null;var i=e.needReadable;U("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,U("length less than watermark",i)),e.ended||e.reading?(i=!1,U("reading or ended",i)):i&&(U("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Vy(r,e)));var n;return t>0?n=Xy(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&_u(this)),n!==null&&this.emit("data",n),n};function cP(t,e){if(U("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Xo(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Qy(t)))}}function Xo(t){var e=t._readableState;U("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(U("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Qy,t))}function Qy(t){var e=t._readableState;U("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,vu(t)}function yu(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(fP,t,e))}function fP(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(U("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}K.prototype._read=function(t){Ln(this,new sP("_read()"))};K.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,U("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:w;i.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(v,x){U("onunpipe"),v===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,f())}function a(){U("onend"),t.end()}var l=dP(r);t.on("drain",l);var c=!1;function f(){U("cleanup"),t.removeListener("close",p),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",u),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",w),r.removeListener("data",d),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",d);function d(v){U("ondata");var x=t.write(v);U("dest.write",x),x===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&Jy(i.pipes,t)!==-1)&&!c&&(U("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function u(v){U("onerror",v),w(),t.removeListener("error",u),Ky(t,"error")===0&&Ln(t,v)}aP(t,"error",u);function p(){t.removeListener("finish",y),w()}t.once("close",p);function y(){U("onfinish"),t.removeListener("close",p),w()}t.once("finish",y);function w(){U("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(U("pipe resume"),r.resume()),t};function dP(t){return function(){var r=t._readableState;U("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ky(t,"data")&&(r.flowing=!0,vu(t))}}K.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Jy(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};K.prototype.on=function(t,e){var r=Mn.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,U("on readable",i.length,i.reading),i.length?Xo(this):i.reading||process.nextTick(hP,this)),r};K.prototype.addListener=K.prototype.on;K.prototype.removeListener=function(t,e){var r=Mn.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Yy,this),r};K.prototype.removeAllListeners=function(t){var e=Mn.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Yy,this),e};function Yy(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function hP(t){U("readable nexttick read 0"),t.read(0)}K.prototype.resume=function(){var t=this._readableState;return t.flowing||(U("resume"),t.flowing=!t.readableListening,pP(this,t)),t.paused=!1,this};function pP(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(mP,t,e))}function mP(t,e){U("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),vu(t),e.flowing&&!e.reading&&t.read(0)}K.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function vu(t){var e=t._readableState;for(U("flow",e.flowing);e.flowing&&t.read()!==null;);}K.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(U("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(U("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<mu.length;s++)t.on(mu[s],this.emit.bind(this,mu[s]));return this._read=function(o){U("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(K.prototype[Symbol.asyncIterator]=function(){return hu===void 0&&(hu=qy()),hu(this)});Object.defineProperty(K.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(K.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(K.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});K._fromList=Xy;Object.defineProperty(K.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Xy(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function _u(t){var e=t._readableState;U("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(gP,e,t))}function gP(t,e){if(U("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(K.from=function(t,e){return pu===void 0&&(pu=$y()),pu(K,t,e)});function Jy(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var bu=m((_N,Zy)=>{"use strict";Zy.exports=Nt;var Qo=rr().codes,yP=Qo.ERR_METHOD_NOT_IMPLEMENTED,_P=Qo.ERR_MULTIPLE_CALLBACK,vP=Qo.ERR_TRANSFORM_ALREADY_TRANSFORMING,bP=Qo.ERR_TRANSFORM_WITH_LENGTH_0,Jo=Pr();Rt()(Nt,Jo);function wP(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new _P);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Nt(t){if(!(this instanceof Nt))return new Nt(t);Jo.call(this,t),this._transformState={afterTransform:wP.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",EP)}function EP(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){e_(t,e,r)}):e_(this,null,null)}Nt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Jo.prototype.push.call(this,t,e)};Nt.prototype._transform=function(t,e,r){r(new yP("_transform()"))};Nt.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Nt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Nt.prototype._destroy=function(t,e){Jo.prototype._destroy.call(this,t,function(r){e(r)})};function e_(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new bP;if(t._transformState.transforming)throw new vP;return t.push(null)}});var i_=m((vN,t_)=>{"use strict";t_.exports=On;var r_=bu();Rt()(On,r_);function On(t){if(!(this instanceof On))return new On(t);r_.call(this,t)}On.prototype._transform=function(t,e,r){r(null,t)}});var l_=m((bN,n_)=>{"use strict";var wu;function xP(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var s_=rr().codes,SP=s_.ERR_MISSING_ARGS,CP=s_.ERR_STREAM_DESTROYED;function o_(t){if(t)throw t}function kP(t){return t.setHeader&&typeof t.abort=="function"}function TP(t,e,r,i){i=xP(i);var n=!1;t.on("close",function(){n=!0}),wu===void 0&&(wu=Wo()),wu(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,kP(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new CP("pipe"))}}}function a_(t){t()}function PP(t,e){return t.pipe(e)}function MP(t){return!t.length||typeof t[t.length-1]!="function"?o_:t.pop()}function LP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=MP(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new SP("streams");var n,s=e.map(function(o,a){var l=a<e.length-1,c=a>0;return TP(o,l,c,function(f){n||(n=f),f&&s.forEach(a_),!l&&(s.forEach(a_),i(n))})});return e.reduce(PP)}n_.exports=LP});var Ei=m((Ke,Rn)=>{var An=require("stream");process.env.READABLE_STREAM==="disable"&&An?(Rn.exports=An.Readable,Object.assign(Rn.exports,An),Rn.exports.Stream=An):(Ke=Rn.exports=au(),Ke.Stream=An||Ke,Ke.Readable=Ke,Ke.Writable=ou(),Ke.Duplex=Pr(),Ke.Transform=bu(),Ke.PassThrough=i_(),Ke.finished=Wo(),Ke.pipeline=l_())});var f_=m((wN,c_)=>{"use strict";var{Buffer:rt}=require("buffer"),u_=Symbol.for("BufferList");function Z(t){if(!(this instanceof Z))return new Z(t);Z._init.call(this,t)}Z._init=function(e){Object.defineProperty(this,u_,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Z.prototype._new=function(e){return new Z(e)};Z.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};Z.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};Z.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Z.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Z.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||rt.alloc(0);let s=!!e,o=this._offset(i),a=n-i,l=a,c=s&&r||0,f=o[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:rt.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,c),c+=this._bufs[d].length;return e}if(l<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,r,f,f+l):this._bufs[o[0]].slice(f,f+l);s||(e=rt.allocUnsafe(a));for(let d=o[0];d<this._bufs.length;d++){let u=this._bufs[d].length-f;if(l>u)this._bufs[d].copy(e,c,f),c+=u;else{this._bufs[d].copy(e,c,f,f+l),c+=u;break}l-=u,f&&(f=0)}return e.length>c?e.slice(0,c):e};Z.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};Z.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};Z.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Z.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Z.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(rt.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(rt.from(e));return this};Z.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Z.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=rt.from([t]):typeof t=="string"?t=rt.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=rt.from(t.buffer,t.byteOffset,t.byteLength):rt.isBuffer(t)||(t=rt.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let o=this._bufs[n];for(;s<o.length;)if(o.length-s>=t.length){let l=o.indexOf(t,s);if(l!==-1)return this._reverseOffset([n,l]);s=o.length-t.length+1}else{let l=this._reverseOffset([n,s]);if(this._match(l,t))return l;s++}s=0}return-1};Z.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Z.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:Z.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();Z.prototype._isBufferList=function(e){return e instanceof Z||Z.isBufferList(e)};Z.isBufferList=function(e){return e!=null&&e[u_]};c_.exports=Z});var d_=m((EN,Yo)=>{"use strict";var Eu=Ei().Duplex,OP=Rt(),In=f_();function we(t){if(!(this instanceof we))return new we(t);if(typeof t=="function"){this._callback=t;let e=function(i){this._callback&&(this._callback(i),this._callback=null)}.bind(this);this.on("pipe",function(i){i.on("error",e)}),this.on("unpipe",function(i){i.removeListener("error",e)}),t=null}In._init.call(this,t),Eu.call(this)}OP(we,Eu);Object.assign(we.prototype,In.prototype);we.prototype._new=function(e){return new we(e)};we.prototype._write=function(e,r,i){this._appendBuffer(e),typeof i=="function"&&i()};we.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};we.prototype.end=function(e){Eu.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};we.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};we.prototype._isBufferList=function(e){return e instanceof we||e instanceof In||we.isBufferList(e)};we.isBufferList=In.isBufferList;Yo.exports=we;Yo.exports.BufferListStream=we;Yo.exports.BufferList=In});var Cu=m(xi=>{var RP=Buffer.alloc,AP="0000000000000000000",IP="7777777777777777777",h_="0".charCodeAt(0),p_=Buffer.from("ustar\0","binary"),NP=Buffer.from("00","binary"),FP=Buffer.from("ustar ","binary"),DP=Buffer.from(" \0","binary"),qP=parseInt("7777",8),Nn=257,xu=263,jP=function(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},BP=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},UP=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},m_=function(t,e,r,i){for(;r<i;r++)if(t[r]===e)return r;return i},g_=function(t){for(var e=8*32,r=0;r<148;r++)e+=t[r];for(var i=156;i<512;i++)e+=t[i];return e},ar=function(t,e){return t=t.toString(8),t.length>e?IP.slice(0,e)+" ":AP.slice(0,e-t.length)+t+" "};function $P(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],i=t.length-1;i>0;i--){var n=t[i];e?r.push(n):r.push(255-n)}var s=0,o=r.length;for(i=0;i<o;i++)s+=r[i]*Math.pow(256,i);return e?s:-1*s}var lr=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return $P(t);for(;e<t.length&&t[e]===32;)e++;for(var i=jP(m_(t,32,e,t.length),t.length,t.length);e<i&&t[e]===0;)e++;return i===e?0:parseInt(t.slice(e,i).toString(),8)},Si=function(t,e,r,i){return t.slice(e,m_(t,0,e,e+r)).toString(i)},Su=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t};xi.decodeLongPath=function(t,e){return Si(t,0,t.length,e)};xi.encodePax=function(t){var e="";t.name&&(e+=Su(" path="+t.name+`
`)),t.linkname&&(e+=Su(" linkpath="+t.linkname+`
`));var r=t.pax;if(r)for(var i in r)e+=Su(" "+i+"="+r[i]+`
`);return Buffer.from(e)};xi.decodePax=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&t[r]!==32;)r++;var i=parseInt(t.slice(0,r).toString(),10);if(!i)return e;var n=t.slice(r+1,i-1).toString(),s=n.indexOf("=");if(s===-1)return e;e[n.slice(0,s)]=n.slice(s+1),t=t.slice(i)}return e};xi.encode=function(t){var e=RP(512),r=t.name,i="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),Buffer.byteLength(r)!==r.length)return null;for(;Buffer.byteLength(r)>100;){var n=r.indexOf("/");if(n===-1)return null;i+=i?"/"+r.slice(0,n):r.slice(0,n),r=r.slice(n+1)}return Buffer.byteLength(r)>100||Buffer.byteLength(i)>155||t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(ar(t.mode&qP,6),100),e.write(ar(t.uid,6),108),e.write(ar(t.gid,6),116),e.write(ar(t.size,11),124),e.write(ar(t.mtime.getTime()/1e3|0,11),136),e[156]=h_+UP(t.type),t.linkname&&e.write(t.linkname,157),p_.copy(e,Nn),NP.copy(e,xu),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(ar(t.devmajor||0,6),329),e.write(ar(t.devminor||0,6),337),i&&e.write(i,345),e.write(ar(g_(e),6),148),e)};xi.decode=function(t,e,r){var i=t[156]===0?0:t[156]-h_,n=Si(t,0,100,e),s=lr(t,100,8),o=lr(t,108,8),a=lr(t,116,8),l=lr(t,124,12),c=lr(t,136,12),f=BP(i),d=t[157]===0?null:Si(t,157,100,e),u=Si(t,265,32),p=Si(t,297,32),y=lr(t,329,8),w=lr(t,337,8),v=g_(t);if(v===8*32)return null;if(v!==lr(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(p_.compare(t,Nn,Nn+6)===0)t[345]&&(n=Si(t,345,155,e)+"/"+n);else if(!(FP.compare(t,Nn,Nn+6)===0&&DP.compare(t,xu,xu+2)===0)){if(!r)throw new Error("Invalid tar header: unknown format.")}return i===0&&n&&n[n.length-1]==="/"&&(i=5),{name:n,mode:s,uid:o,gid:a,size:l,mtime:new Date(1e3*c),type:f,linkname:d,uname:u,gname:p,devmajor:y,devminor:w}}});var x_=m((SN,y_)=>{var __=require("util"),HP=d_(),Fn=Cu(),v_=Ei().Writable,b_=Ei().PassThrough,w_=function(){},E_=function(t){return t&=511,t&&512-t},WP=function(t,e){var r=new Zo(t,e);return r.end(),r},KP=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},Zo=function(t,e){this._parent=t,this.offset=e,b_.call(this,{autoDestroy:!1})};__.inherits(Zo,b_);Zo.prototype.destroy=function(t){this._parent.destroy(t)};var Ft=function(t){if(!(this instanceof Ft))return new Ft(t);v_.call(this,t),t=t||{},this._offset=0,this._buffer=HP(),this._missing=0,this._partial=!1,this._onparse=w_,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,i=function(){e._continue()},n=function(u){if(e._locked=!1,u)return e.destroy(u);e._stream||i()},s=function(){e._stream=null;var u=E_(e._header.size);u?e._parse(u,o):e._parse(512,d),e._locked||i()},o=function(){e._buffer.consume(E_(e._header.size)),e._parse(512,d),i()},a=function(){var u=e._header.size;e._paxGlobal=Fn.decodePax(r.slice(0,u)),r.consume(u),s()},l=function(){var u=e._header.size;e._pax=Fn.decodePax(r.slice(0,u)),e._paxGlobal&&(e._pax=Object.assign({},e._paxGlobal,e._pax)),r.consume(u),s()},c=function(){var u=e._header.size;this._gnuLongPath=Fn.decodeLongPath(r.slice(0,u),t.filenameEncoding),r.consume(u),s()},f=function(){var u=e._header.size;this._gnuLongLinkPath=Fn.decodeLongPath(r.slice(0,u),t.filenameEncoding),r.consume(u),s()},d=function(){var u=e._offset,p;try{p=e._header=Fn.decode(r.slice(0,512),t.filenameEncoding,t.allowUnknownFormat)}catch(y){e.emit("error",y)}if(r.consume(512),!p){e._parse(512,d),i();return}if(p.type==="gnu-long-path"){e._parse(p.size,c),i();return}if(p.type==="gnu-long-link-path"){e._parse(p.size,f),i();return}if(p.type==="pax-global-header"){e._parse(p.size,a),i();return}if(p.type==="pax-header"){e._parse(p.size,l),i();return}if(e._gnuLongPath&&(p.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(p.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=p=KP(p,e._pax),e._pax=null),e._locked=!0,!p.size||p.type==="directory"){e._parse(512,d),e.emit("entry",p,WP(e,u),n);return}e._stream=new Zo(e,u),e.emit("entry",p,e._stream,n),e._parse(p.size,s),i()};this._onheader=d,this._parse(512,d)};__.inherits(Ft,v_);Ft.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};Ft.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};Ft.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=w_,this._overflow?this._write(this._overflow,void 0,t):t()}};Ft.prototype._write=function(t,e,r){if(!this._destroyed){var i=this._stream,n=this._buffer,s=this._missing;if(t.length&&(this._partial=!0),t.length<s)return this._missing-=t.length,this._overflow=null,i?i.write(t,r):(n.append(t),r());this._cb=r,this._missing=0;var o=null;t.length>s&&(o=t.slice(s),t=t.slice(0,s)),i?i.end(t):n.append(t),this._overflow=o,this._onparse()}};Ft.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};y_.exports=Ft});var C_=m((CN,S_)=>{S_.exports=require("fs").constants||require("constants")});var L_=m((kN,k_)=>{var Ci=C_(),T_=sc(),ea=Rt(),GP=Buffer.alloc,P_=Ei().Readable,ki=Ei().Writable,zP=require("string_decoder").StringDecoder,ta=Cu(),VP=parseInt("755",8),XP=parseInt("644",8),M_=GP(1024),ku=function(){},Tu=function(t,e){e&=511,e&&t.push(M_.slice(0,512-e))};function QP(t){switch(t&Ci.S_IFMT){case Ci.S_IFBLK:return"block-device";case Ci.S_IFCHR:return"character-device";case Ci.S_IFDIR:return"directory";case Ci.S_IFIFO:return"fifo";case Ci.S_IFLNK:return"symlink"}return"file"}var ra=function(t){ki.call(this),this.written=0,this._to=t,this._destroyed=!1};ea(ra,ki);ra.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r};ra.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var ia=function(){ki.call(this),this.linkname="",this._decoder=new zP("utf-8"),this._destroyed=!1};ea(ia,ki);ia.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()};ia.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Dn=function(){ki.call(this),this._destroyed=!1};ea(Dn,ki);Dn.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))};Dn.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var mt=function(t){if(!(this instanceof mt))return new mt(t);P_.call(this,t),this._drain=ku,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};ea(mt,P_);mt.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(r=e,e=null),r||(r=ku);var i=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=QP(t.mode)),t.mode||(t.mode=t.type==="directory"?VP:XP),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=Buffer.from(e)),Buffer.isBuffer(e)){t.size=e.length,this._encode(t);var n=this.push(e);return Tu(i,t.size),n?process.nextTick(r):this._drain=r,new Dn}if(t.type==="symlink"&&!t.linkname){var s=new ia;return T_(s,function(a){if(a)return i.destroy(),r(a);t.linkname=s.linkname,i._encode(t),r()}),s}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return process.nextTick(r),new Dn;var o=new ra(this);return this._stream=o,T_(o,function(a){if(i._stream=null,a)return i.destroy(),r(a);if(o.written!==t.size)return i.destroy(),r(new Error("size mismatch"));Tu(i,t.size),i._finalizing&&i.finalize(),r()}),o}};mt.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(M_),this.push(null))};mt.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};mt.prototype._encode=function(t){if(!t.pax){var e=ta.encode(t);if(e){this.push(e);return}}this._encodePax(t)};mt.prototype._encodePax=function(t){var e=ta.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(ta.encode(r)),this.push(e),Tu(this,e.length),r.size=t.size,r.type=t.type,this.push(ta.encode(r))};mt.prototype._read=function(t){var e=this._drain;this._drain=ku,e()};k_.exports=mt});var O_=m(Pu=>{Pu.extract=x_();Pu.pack=L_()});var N_=m((PN,R_)=>{var na=require("path"),A_=require("fs"),I_=parseInt("0777",8);R_.exports=Ti.mkdirp=Ti.mkdirP=Ti;function Ti(t,e,r,i){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var n=e.mode,s=e.fs||A_;n===void 0&&(n=I_&~process.umask()),i||(i=null);var o=r||function(){};t=na.resolve(t),s.mkdir(t,n,function(a){if(!a)return i=i||t,o(null,i);switch(a.code){case"ENOENT":Ti(na.dirname(t),e,function(l,c){l?o(l,c):Ti(t,e,o,c)});break;default:s.stat(t,function(l,c){l||!c.isDirectory()?o(a,i):o(null,i)});break}})}Ti.sync=function t(e,r,i){(!r||typeof r!="object")&&(r={mode:r});var n=r.mode,s=r.fs||A_;n===void 0&&(n=I_&~process.umask()),i||(i=null),e=na.resolve(e);try{s.mkdirSync(e,n),i=i||e}catch(a){switch(a.code){case"ENOENT":i=t(na.dirname(e),r,i),t(e,r,i);break;default:var o;try{o=s.statSync(e)}catch(l){throw a}if(!o.isDirectory())throw a;break}}return i}});var H_=m(Mu=>{var JP=dy(),F_=O_(),D_=ac(),YP=N_(),q_=require("fs"),Fe=require("path"),ZP=require("os"),qn=ZP.platform()==="win32",jn=function(){},Lu=function(t){return t},Ou=qn?function(t){return t.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:Lu,eM=function(t,e,r,i,n,s){var o=n||["."];return function(l){if(!o.length)return l();var c=o.shift(),f=Fe.join(r,c);e.call(t,f,function(d,u){if(d)return l(d);if(!u.isDirectory())return l(null,c,u);t.readdir(f,function(p,y){if(p)return l(p);s&&y.sort();for(var w=0;w<y.length;w++)i(Fe.join(r,c,y[w]))||o.push(Fe.join(c,y[w]));l(null,c,u)})})}},j_=function(t,e){return function(r){r.name=r.name.split("/").slice(e).join("/");var i=r.linkname;return i&&(r.type==="link"||Fe.isAbsolute(i))&&(r.linkname=i.split("/").slice(e).join("/")),t(r)}};Mu.pack=function(t,e){t||(t="."),e||(e={});var r=e.fs||q_,i=e.ignore||e.filter||jn,n=e.map||jn,s=e.mapStream||Lu,o=eM(r,e.dereference?r.stat:r.lstat,t,i,e.entries,e.sort),a=e.strict!==!1,l=typeof e.umask=="number"?~e.umask:~B_(),c=typeof e.dmode=="number"?e.dmode:0,f=typeof e.fmode=="number"?e.fmode:0,d=e.pack||F_.pack(),u=e.finish||jn;e.strip&&(n=j_(n,e.strip)),e.readable&&(c|=parseInt(555,8),f|=parseInt(444,8)),e.writable&&(c|=parseInt(333,8),f|=parseInt(222,8));var p=function(v,x){r.readlink(Fe.join(t,v),function(k,C){if(k)return d.destroy(k);x.linkname=Ou(C),d.entry(x,w)})},y=function(v,x,k){if(v)return d.destroy(v);if(!x)return e.finalize!==!1&&d.finalize(),u(d);if(k.isSocket())return w();var C={name:Ou(x),mode:(k.mode|(k.isDirectory()?c:f))&l,mtime:k.mtime,size:k.size,type:"file",uid:k.uid,gid:k.gid};if(k.isDirectory())return C.size=0,C.type="directory",C=n(C)||C,d.entry(C,w);if(k.isSymbolicLink())return C.size=0,C.type="symlink",C=n(C)||C,p(x,C);if(C=n(C)||C,!k.isFile())return a?d.destroy(new Error("unsupported type for "+x)):w();var O=d.entry(C,w);if(!!O){var R=s(r.createReadStream(Fe.join(t,x),{start:0,end:C.size>0?C.size-1:C.size}),C);R.on("error",function(j){O.destroy(j)}),D_(R,O)}},w=function(v){if(v)return d.destroy(v);o(y)};return w(),d};var tM=function(t){return t.length?t[t.length-1]:null},rM=function(){return process.getuid?process.getuid():-1},B_=function(){return process.umask?process.umask():0};Mu.extract=function(t,e){t||(t="."),e||(e={});var r=e.fs||q_,i=e.ignore||e.filter||jn,n=e.map||jn,s=e.mapStream||Lu,o=e.chown!==!1&&!qn&&rM()===0,a=e.extract||F_.extract(),l=[],c=new Date,f=typeof e.umask=="number"?~e.umask:~B_(),d=typeof e.dmode=="number"?e.dmode:0,u=typeof e.fmode=="number"?e.fmode:0,p=e.strict!==!1;e.strip&&(n=j_(n,e.strip)),e.readable&&(d|=parseInt(555,8),u|=parseInt(444,8)),e.writable&&(d|=parseInt(333,8),u|=parseInt(222,8));var y=function(x,k){for(var C;(C=tM(l))&&x.slice(0,C[0].length)!==C[0];)l.pop();if(!C)return k();r.utimes(C[0],c,C[1],k)},w=function(x,k,C){if(e.utimes===!1)return C();if(k.type==="directory")return r.utimes(x,c,k.mtime,C);if(k.type==="symlink")return y(x,C);r.utimes(x,c,k.mtime,function(O){if(O)return C(O);y(x,C)})},v=function(x,k,C){var O=k.type==="symlink",R=O?r.lchmod:r.chmod,j=O?r.lchown:r.chown;if(!R)return C();var q=(k.mode|(k.type==="directory"?d:u))&f;j&&o?j.call(r,x,k.uid,k.gid,X):X(null);function X(ee){if(ee)return C(ee);if(!R)return C();R.call(r,x,q,C)}};return a.on("entry",function(x,k,C){x=n(x)||x,x.name=Ou(x.name);var O=Fe.join(t,Fe.join("/",x.name));if(i(O,x))return k.resume(),C();var R=function($){if($)return C($);w(O,x,function(Q){if(Q)return C(Q);if(qn)return C();v(O,x,C)})},j=function(){if(qn)return C();r.unlink(O,function(){r.symlink(x.linkname,O,R)})},q=function(){if(qn)return C();r.unlink(O,function(){var $=Fe.join(t,Fe.join("/",x.linkname));r.link($,O,function(Q){if(Q&&Q.code==="EPERM"&&e.hardlinkAsFilesFallback)return k=r.createReadStream($),X();R(Q)})})},X=function(){var $=r.createWriteStream(O),Q=s(k,x);$.on("error",function(te){Q.destroy(te)}),D_(Q,$,function(te){if(te)return C(te);$.on("close",R)})};if(x.type==="directory")return l.push([O,x.mtime]),$_(O,{fs:r,own:o,uid:x.uid,gid:x.gid},R);var ee=Fe.dirname(O);U_(r,ee,Fe.join(t,"."),function($,Q){if($)return C($);if(!Q)return C(new Error(ee+" is not a valid path"));$_(ee,{fs:r,own:o,uid:x.uid,gid:x.gid},function(te){if(te)return C(te);switch(x.type){case"file":return X();case"link":return q();case"symlink":return j()}if(p)return C(new Error("unsupported type for "+O+" ("+x.type+")"));k.resume(),C()})})}),e.finish&&a.on("finish",e.finish),a};function U_(t,e,r,i){if(e===r)return i(null,!0);t.lstat(e,function(n,s){if(n&&n.code!=="ENOENT")return i(n);if(n||s.isDirectory())return U_(t,Fe.join(e,".."),r,i);i(null,!1)})}function $_(t,e,r){YP(t,{fs:e.fs},function(i,n){!i&&n&&e.own?JP(n,e.uid,e.gid,r):r(i)})}});var G_=m((W_,K_)=>{var iM=require("stream");W_=K_.exports=Ru;Ru.through=Ru;function Ru(t,e,r){t=t||function(f){this.queue(f)},e=e||function(){this.queue(null)};var i=!1,n=!1,s=[],o=!1,a=new iM;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&r.autoDestroy===!1),a.write=function(f){return t.call(this,f),!a.paused};function l(){for(;s.length&&!a.paused;){var f=s.shift();if(f===null)return a.emit("end");a.emit("data",f)}}a.queue=a.push=function(f){return o||(f===null&&(o=!0),s.push(f),l()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function c(){a.writable=!1,e.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(f){if(!i)return i=!0,arguments.length&&a.write(f),c(),a},a.destroy=function(){if(!n)return n=!0,i=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),l(),a.paused||a.emit("drain"),a},a}});var V_=m((LN,z_)=>{function Au(t){this.name="Bzip2Error",this.message=t,this.stack=new Error().stack}Au.prototype=new Error;var ye={Error:function(t){throw new Au(t)}},gt={};gt.Bzip2Error=Au;gt.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];gt.array=function(t){var e=0,r=0,i=[0,1,3,7,15,31,63,127,255];return function(n){for(var s=0;n>0;){var o=8-e;n>=o?(s<<=o,s|=i[o]&t[r++],e=0,n-=o):(s<<=n,s|=(t[r]&i[n]<<8-n-e)>>8-n-e,e+=n,n=0)}return s}};gt.simple=function(t,e){var r=gt.array(t),i=gt.header(r),n=!1,s=1e5*i,o=new Int32Array(s);do n=gt.decompress(r,e,o,s);while(!n)};gt.header=function(t){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),t(8*3)!=4348520&&ye.Error("No magic number found");var e=t(8)-48;return(e<1||e>9)&&ye.Error("Not a BZIP archive"),e};gt.decompress=function(t,e,r,i,n){for(var s=20,o=258,a=0,l=1,c=50,f=0^-1,d="",u=0;u<6;u++)d+=t(8).toString(16);if(d=="177245385090"){var p=t(32)|0;return p!==n&&ye.Error("Error in bzip2: crc32 do not match"),t(null),null}d!="314159265359"&&ye.Error("eek not valid bzip data");var y=t(32)|0;t(1)&&ye.Error("unsupported obsolete version");var w=t(24);w>i&&ye.Error("Initial position larger than buffer size");var v=t(16),x=0;for(u=0;u<16;u++)if(v&1<<15-u){var k=t(16);for(_=0;_<16;_++)k&1<<15-_&&(this.symToByte[x++]=16*u+_)}var C=t(3);(C<2||C>6)&&ye.Error("another error");var O=t(15);O==0&&ye.Error("meh");for(var u=0;u<C;u++)this.mtfSymbol[u]=u;for(var u=0;u<O;u++){for(var _=0;t(1);_++)_>=C&&ye.Error("whoops another error");for(var R=this.mtfSymbol[_],k=_-1;k>=0;k--)this.mtfSymbol[k+1]=this.mtfSymbol[k];this.mtfSymbol[0]=R,this.selectors[u]=R}for(var j=x+2,q=[],X=new Uint8Array(o),ee=new Uint16Array(s+1),$,_=0;_<C;_++){v=t(5);for(var u=0;u<j;u++){for(;(v<1||v>s)&&ye.Error("I gave up a while ago on writing error messages"),!!t(1);)t(1)?v--:v++;X[u]=v}var Q,te;Q=te=X[0];for(var u=1;u<j;u++)X[u]>te?te=X[u]:X[u]<Q&&(Q=X[u]);$=q[_]={},$.permute=new Int32Array(o),$.limit=new Int32Array(s+1),$.base=new Int32Array(s+1),$.minLen=Q,$.maxLen=te;for(var F=$.base,yt=$.limit,Se=0,u=Q;u<=te;u++)for(var v=0;v<j;v++)X[v]==u&&($.permute[Se++]=v);for(u=Q;u<=te;u++)ee[u]=yt[u]=0;for(u=0;u<j;u++)ee[X[u]]++;for(Se=v=0,u=Q;u<te;u++)Se+=ee[u],yt[u]=Se-1,Se<<=1,F[u+1]=Se-(v+=ee[u]);yt[te]=Se+ee[te]-1,F[Q]=0}for(var u=0;u<256;u++)this.mtfSymbol[u]=u,this.byteCount[u]=0;var Re,h,j,g;for(Re=h=j=g=0;;){for(j--||(j=c-1,g>=O&&ye.Error("meow i'm a kitty, that's an error"),$=q[this.selectors[g++]],F=$.base,yt=$.limit),u=$.minLen,_=t(u);u>$.maxLen&&ye.Error("rawr i'm a dinosaur"),!(_<=yt[u]);)u++,_=_<<1|t(1);_-=F[u],(_<0||_>=o)&&ye.Error("moo i'm a cow");var b=$.permute[_];if(b==a||b==l){Re||(Re=1,v=0),b==a?v+=Re:v+=2*Re,Re<<=1;continue}if(Re)for(Re=0,h+v>i&&ye.Error("Boom."),R=this.symToByte[this.mtfSymbol[0]],this.byteCount[R]+=v;v--;)r[h++]=R;if(b>x)break;h>=i&&ye.Error("I can't think of anything. Error"),u=b-1,R=this.mtfSymbol[u];for(var k=u-1;k>=0;k--)this.mtfSymbol[k+1]=this.mtfSymbol[k];this.mtfSymbol[0]=R,R=this.symToByte[R],this.byteCount[R]++,r[h++]=R}(w<0||w>=h)&&ye.Error("I'm a monkey and I'm throwing something at someone, namely you");for(var _=0,u=0;u<256;u++)k=_+this.byteCount[u],this.byteCount[u]=_,_=k;for(var u=0;u<h;u++)R=r[u]&255,r[this.byteCount[R]]|=u<<8,this.byteCount[R]++;var E=0,S=0,T=0;h&&(E=r[w],S=E&255,E>>=8,T=-1),h=h;for(var L,P,M;h;){for(h--,P=S,E=r[E],S=E&255,E>>=8,T++==3?(L=S,M=P,S=-1):(L=1,M=S);L--;)f=(f<<8^this.crcTable[(f>>24^M)&255])&4294967295,e(M);S!=P&&(T=0)}return f=(f^-1)>>>0,(f|0)!=(y|0)&&ye.Error("Error in bzip2: crc32 do not match"),n=(f^(n<<1|n>>>31))&4294967295,n};z_.exports=gt});var J_=m((ON,X_)=>{var Q_=[0,1,3,7,15,31,63,127,255];X_.exports=function(e){var r=0,i=0,n=e(),s=function(o){if(o===null&&r!=0){r=0,i++;return}for(var a=0;o>0;){i>=n.length&&(i=0,n=e());var l=8-r;r===0&&o>0&&s.bytesRead++,o>=l?(a<<=l,a|=Q_[l]&n[i++],r=0,o-=l):(a<<=o,a|=(n[i]&Q_[o]<<8-o-r)>>8-o-r,r+=o,o=0)}return a};return s.bytesRead=0,s}});var ev=m((RN,Y_)=>{var nM=G_(),Z_=V_(),sM=J_();Y_.exports=oM;function oM(){var t=[],e=0,r=0,i=!1,n=!1,s=null,o=null;function a(f){if(r){var d=1e5*r,u=new Int32Array(d),p=[],y=function(w){p.push(w)};return o=Z_.decompress(s,y,u,d,o),o===null?(r=0,!1):(f(Buffer.from(p)),!0)}else return r=Z_.header(s),o=0,!0}var l=0;function c(f){if(!i)try{return a(function(d){f.queue(d),d!==null&&(l+=d.length)})}catch(d){return f.emit("error",d),i=!0,!1}}return nM(function(d){for(t.push(d),e+=d.length,s===null&&(s=sM(function(){return t.shift()}));!i&&e-s.bytesRead+1>=(25e3+1e5*r||4);)c(this)},function(d){for(;!i&&s&&e>s.bytesRead;)c(this);i||(o!==null&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))})}});var Bu=m(Ge=>{"use strict";var aM=Ge&&Ge.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),lM=Ge&&Ge.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cr=Ge&&Ge.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aM(e,t,r);return lM(e,t),e},Iu=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.BrowserFetcher=void 0;var sa=cr(require("os")),Oe=cr(require("fs")),it=cr(require("path")),cM=cr(require("util")),Nu=cr(require("child_process")),uM=cr(require("https")),fM=cr(require("http")),dM=Iu(Qm()),hM=Xr(),oa=require("util"),pM=Iu(Wc()),Fu=cr(require("url")),mM=Iu(iy()),gM=sy(),aa=ae(),Bn=hM.debug("puppeteer:fetcher"),Du={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}},tv={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function la(t,e,r){if(t==="chrome"){if(e==="linux")return"chrome-linux";if(e==="mac")return"chrome-mac";if(e==="win32"||e==="win64")return parseInt(r,10)>591479?"chrome-win":"chrome-win32"}else if(t==="firefox")return e}function qu(t,e,r,i){return cM.format(Du[t][e],r,i,la(t,e,i))}function yM(){Oe.stat("/usr/bin/chromium-browser",function(t,e){e===void 0&&Oe.stat("/usr/bin/chromium",function(r,i){if(i===void 0)throw console.error("The chromium binary is not available for arm64."),console.error("If you are on Ubuntu, you can install with: "),console.error(`
 sudo apt install chromium
`),console.error(`
 sudo apt install chromium-browser
`),new Error})})}var rv=oa.promisify(Oe.readdir.bind(Oe)),iv=oa.promisify(Oe.mkdir.bind(Oe)),_M=oa.promisify(Oe.unlink.bind(Oe)),vM=oa.promisify(Oe.chmod.bind(Oe));function Un(t){return new Promise(e=>{Oe.access(t,r=>e(!r))})}var nv=class{constructor(e,r={}){this._product=(r.product||"chrome").toLowerCase(),aa.assert(this._product==="chrome"||this._product==="firefox",`Unknown product: "${r.product}"`),this._downloadsFolder=r.path||it.join(e,tv[this._product].destination),this._downloadHost=r.host||tv[this._product].host,this.setPlatform(r.platform),aa.assert(Du[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e){if(e){this._platform=e;return}let r=sa.platform();r==="darwin"?this._platform="mac":r==="linux"?this._platform="linux":r==="win32"?this._platform=sa.arch()==="x64"?"win64":"win32":aa.assert(this._platform,"Unsupported platform: "+sa.platform())}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){let r=qu(this._product,this._platform,this._downloadHost,e);return new Promise(i=>{ju(r,"HEAD",s=>{i(s.statusCode===200)}).on("error",s=>{console.error(s),i(!1)})})}async download(e,r=()=>{}){let i=qu(this._product,this._platform,this._downloadHost,e),n=i.split("/").pop(),s=it.join(this._downloadsFolder,n),o=this._getFolderPath(e);if(await Un(o))return this.revisionInfo(e);if(await Un(this._downloadsFolder)||await iv(this._downloadsFolder),sa.arch()==="arm64"){yM();return}try{await wM(i,s,r),await EM(s,o)}finally{await Un(s)&&await _M(s)}let a=this.revisionInfo(e);return a&&await vM(a.executablePath,493),a}async localRevisions(){return await Un(this._downloadsFolder)?(await rv(this._downloadsFolder)).map(r=>bM(this._product,r)).filter(r=>r&&r.platform===this._platform).map(r=>r.revision):[]}async remove(e){let r=this._getFolderPath(e);aa.assert(await Un(r),`Failed to remove: revision ${e} is not downloaded`),await new Promise(i=>pM.default(r,i))}revisionInfo(e){let r=this._getFolderPath(e),i="";if(this._product==="chrome")if(this._platform==="mac")i=it.join(r,la(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if(this._platform==="linux")i=it.join(r,la(this._product,this._platform,e),"chrome");else if(this._platform==="win32"||this._platform==="win64")i=it.join(r,la(this._product,this._platform,e),"chrome.exe");else throw new Error("Unsupported platform: "+this._platform);else if(this._product==="firefox")if(this._platform==="mac")i=it.join(r,"Firefox Nightly.app","Contents","MacOS","firefox");else if(this._platform==="linux")i=it.join(r,"firefox","firefox");else if(this._platform==="win32"||this._platform==="win64")i=it.join(r,"firefox","firefox.exe");else throw new Error("Unsupported platform: "+this._platform);else throw new Error("Unsupported product: "+this._product);let n=qu(this._product,this._platform,this._downloadHost,e),s=Oe.existsSync(r);return Bn({revision:e,executablePath:i,folderPath:r,local:s,url:n,product:this._product}),{revision:e,executablePath:i,folderPath:r,local:s,url:n,product:this._product}}_getFolderPath(e){return it.join(this._downloadsFolder,this._platform+"-"+e)}};Ge.BrowserFetcher=nv;function bM(t,e){let i=it.basename(e).split("-");if(i.length!==2)return null;let[n,s]=i;return Du[t][n]?{product:t,platform:n,revision:s}:null}function wM(t,e,r){Bn(`Downloading binary from ${t}`);let i,n,s=0,o=0,a=new Promise((f,d)=>{i=f,n=d});return ju(t,"GET",f=>{if(f.statusCode!==200){let u=new Error(`Download failed: server returned code ${f.statusCode}. URL: ${t}`);f.resume(),n(u);return}let d=Oe.createWriteStream(e);d.on("finish",()=>i()),d.on("error",u=>n(u)),f.pipe(d),o=parseInt(f.headers["content-length"],10),r&&f.on("data",c)}).on("error",f=>n(f)),a;function c(f){s+=f.length,r(s,o)}}function EM(t,e){if(Bn(`Installing ${t} to ${e}`),t.endsWith(".zip"))return dM.default(t,{dir:e});if(t.endsWith(".tar.bz2"))return xM(t,e);if(t.endsWith(".dmg"))return iv(e).then(()=>SM(t,e));throw new Error(`Unsupported archive format: ${t}`)}function xM(t,e){let r=H_(),i=ev();return new Promise((n,s)=>{let o=r.extract(e);o.on("error",s),o.on("finish",n),Oe.createReadStream(t).pipe(i()).pipe(o)})}function SM(t,e){let r;function i(s,o){let a=`hdiutil attach -nobrowse -noautoopen "${t}"`;Nu.exec(a,(l,c)=>{if(l)return o(l);let f=c.match(/\/Volumes\/(.*)/m);if(!f)return o(new Error(`Could not find volume path in ${c}`));r=f[0],rv(r).then(d=>{let u=d.filter(y=>typeof y=="string"&&y.endsWith(".app"))[0];if(!u)return o(new Error(`Cannot find app in ${r}`));let p=it.join(r,u);Bn(`Copying ${p} to ${e}`),Nu.exec(`cp -R "${p}" "${e}"`,y=>{y?o(y):s()})}).catch(o)})}function n(){if(!r)return;let s=`hdiutil detach "${r}" -quiet`;Bn(`Unmounting ${r}`),Nu.exec(s,o=>{o&&console.error(`Error unmounting dmg: ${o}`)})}return new Promise(i).catch(s=>{console.error(s)}).finally(n)}function ju(t,e,r){let i=Fu.parse(t),n=D(D({},i),{method:e}),s=gM.getProxyForUrl(t);if(s)if(t.startsWith("http:")){let l=Fu.parse(s);n={path:n.href,host:l.hostname,port:l.port}}else{let l=Fu.parse(s),c=D(D({},l),{secureProxy:l.protocol==="https:"});n.agent=mM.default(c),n.rejectUnauthorized=!1}let o=l=>{l.statusCode>=300&&l.statusCode<400&&l.headers.location?ju(l.headers.location,e,r):r(l)},a=n.protocol==="https:"?uM.request(n,o):fM.request(n,o);return a.end(),a}});var ov=m(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.PipeTransport=void 0;var Rr=ve(),sv=class{constructor(e,r){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[Rr.helper.addEventListener(r,"data",i=>this._dispatch(i)),Rr.helper.addEventListener(r,"close",()=>{this.onclose&&this.onclose.call(null)}),Rr.helper.addEventListener(r,"error",Rr.debugError),Rr.helper.addEventListener(e,"error",Rr.debugError)],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let r=e.indexOf("\0");if(r===-1){this._pendingMessage+=e.toString();return}let i=this._pendingMessage+e.toString(void 0,0,r);this.onmessage&&this.onmessage.call(null,i);let n=r+1;for(r=e.indexOf("\0",n);r!==-1;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,n,r)),n=r+1,r=e.indexOf("\0",n);this._pendingMessage=e.toString(void 0,n)}close(){this._pipeWrite=null,Rr.helper.removeEventListeners(this._eventListeners)}};ca.PipeTransport=sv});var fv=m(ze=>{"use strict";var CM=ze&&ze.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),kM=ze&&ze.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),av=ze&&ze.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CM(e,t,r);return kM(e,t),e},TM=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.BrowserRunner=void 0;var PM=Xr(),lv=TM(Wc()),MM=av(require("child_process")),LM=ae(),Ve=ve(),cv=Jr(),OM=tc(),RM=ov(),AM=av(require("readline")),IM=Hr(),NM=require("util"),FM=NM.promisify(lv.default),DM=PM.debug("puppeteer:launcher"),qM=`Puppeteer was unable to kill the process which ran the browser binary.
This means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.
Please check your open processes and ensure that the browser processes that Puppeteer launched have been killed.
If you think this is a bug, please report it on the Puppeteer issue tracker.`,uv=class{constructor(e,r,i){this.proc=null,this.connection=null,this._closed=!0,this._listeners=[],this._executablePath=e,this._processArguments=r,this._tempDirectory=i}start(e){let{handleSIGINT:r,handleSIGTERM:i,handleSIGHUP:n,dumpio:s,env:o,pipe:a}=e,l=["pipe","pipe","pipe"];a&&(s?l=["ignore","pipe","pipe","pipe","pipe"]:l=["ignore","ignore","ignore","pipe","pipe"]),LM.assert(!this.proc,"This process has previously been started."),DM(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`),this.proc=MM.spawn(this._executablePath,this._processArguments,{detached:process.platform!=="win32",env:o,stdio:l}),s&&(this.proc.stderr.pipe(process.stderr),this.proc.stdout.pipe(process.stdout)),this._closed=!1,this._processClosing=new Promise(c=>{this.proc.once("exit",()=>{this._closed=!0,this._tempDirectory?FM(this._tempDirectory).then(()=>c()).catch(f=>console.error(f)):c()})}),this._listeners=[Ve.helper.addEventListener(process,"exit",this.kill.bind(this))],r&&this._listeners.push(Ve.helper.addEventListener(process,"SIGINT",()=>{this.kill(),process.exit(130)})),i&&this._listeners.push(Ve.helper.addEventListener(process,"SIGTERM",this.close.bind(this))),n&&this._listeners.push(Ve.helper.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){return this._closed?Promise.resolve():(this._tempDirectory?this.kill():this.connection&&this.connection.send("Browser.close").catch(e=>{Ve.debugError(e),this.kill()}),Ve.helper.removeEventListeners(this._listeners),this._processClosing)}kill(){try{lv.default.sync(this._tempDirectory)}catch(e){}if(this.proc&&this.proc.pid&&!this.proc.killed)try{this.proc.kill("SIGKILL")}catch(e){throw new Error(`${qM}
Error cause: ${e.stack}`)}Ve.helper.removeEventListeners(this._listeners)}async setupConnection(e){let{usePipe:r,timeout:i,slowMo:n,preferredRevision:s}=e;if(r){let{3:o,4:a}=this.proc.stdio,l=new RM.PipeTransport(o,a);this.connection=new cv.Connection("",l,n)}else{let o=await jM(this.proc,i,s),a=await OM.NodeWebSocketTransport.create(o);this.connection=new cv.Connection(o,a,n)}return this.connection}};ze.BrowserRunner=uv;function jM(t,e,r){return new Promise((i,n)=>{let s=AM.createInterface({input:t.stderr}),o="",a=[Ve.helper.addEventListener(s,"line",d),Ve.helper.addEventListener(s,"close",()=>c()),Ve.helper.addEventListener(t,"exit",()=>c()),Ve.helper.addEventListener(t,"error",p=>c(p))],l=e?setTimeout(f,e):0;function c(p){u(),n(new Error(["Failed to launch the browser process!"+(p?" "+p.message:""),o,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join(`
`)))}function f(){u(),n(new IM.TimeoutError(`Timed out after ${e} ms while trying to connect to the browser! Only Chrome at revision r${r} is guaranteed to work.`))}function d(p){o+=p+`
`;let y=p.match(/^DevTools listening on (ws:\/\/.*)$/);!y||(u(),i(y[1]))}function u(){l&&clearTimeout(l),Ve.helper.removeEventListeners(a)}})}});var bv=m(Dt=>{"use strict";var BM=Dt&&Dt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),UM=Dt&&Dt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uu=Dt&&Dt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BM(e,t,r);return UM(e,t),e};Object.defineProperty(Dt,"__esModule",{value:!0});var ua=Uu(require("os")),$n=Uu(require("path")),$u=Uu(require("fs")),dv=Bu(),hv=Ml(),pv=fv(),mv=require("util"),gv=mv.promisify($u.mkdtemp),yv=mv.promisify($u.writeFile),_v=class{constructor(e,r,i){this._projectRoot=e,this._preferredRevision=r,this._isPuppeteerCore=i}async launch(e={}){let{ignoreDefaultArgs:r=!1,args:i=[],dumpio:n=!1,executablePath:s=null,pipe:o=!1,env:a=process.env,handleSIGINT:l=!0,handleSIGTERM:c=!0,handleSIGHUP:f=!0,ignoreHTTPSErrors:d=!1,defaultViewport:u={width:800,height:600},slowMo:p=0,timeout:y=3e4}=e,w=$n.join(ua.tmpdir(),"puppeteer_dev_chrome_profile-"),v=[];r?Array.isArray(r)?v.push(...this.defaultArgs(e).filter(R=>!r.includes(R))):v.push(...i):v.push(...this.defaultArgs(e));let x=null;v.some(R=>R.startsWith("--remote-debugging-"))||v.push(o?"--remote-debugging-pipe":"--remote-debugging-port=0"),v.some(R=>R.startsWith("--user-data-dir"))||(x=await gv(w),v.push(`--user-data-dir=${x}`));let k=s;if(!s)if(ua.arch()==="arm64")k="/usr/bin/chromium-browser";else{let{missingText:R,executablePath:j}=fa(this);if(R)throw new Error(R);k=j}let C=v.includes("--remote-debugging-pipe"),O=new pv.BrowserRunner(k,v,x);O.start({handleSIGHUP:f,handleSIGTERM:c,handleSIGINT:l,dumpio:n,env:a,pipe:C});try{let R=await O.setupConnection({usePipe:C,timeout:y,slowMo:p,preferredRevision:this._preferredRevision}),j=await hv.Browser.create(R,[],d,u,O.proc,O.close.bind(O));return await j.waitForTarget(q=>q.type()==="page"),j}catch(R){throw O.kill(),R}}defaultArgs(e={}){let r=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=Translate","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection"],{devtools:i=!1,headless:n=!i,args:s=[],userDataDir:o=null}=e;return o&&r.push(`--user-data-dir=${$n.resolve(o)}`),i&&r.push("--auto-open-devtools-for-tabs"),n&&r.push("--headless","--hide-scrollbars","--mute-audio"),s.every(a=>a.startsWith("-"))&&r.push("about:blank"),r.push(...s),r}executablePath(){return fa(this).executablePath}get product(){return"chrome"}},vv=class{constructor(e,r,i){this._projectRoot=e,this._preferredRevision=r,this._isPuppeteerCore=i}async launch(e={}){let{ignoreDefaultArgs:r=!1,args:i=[],dumpio:n=!1,executablePath:s=null,pipe:o=!1,env:a=process.env,handleSIGINT:l=!0,handleSIGTERM:c=!0,handleSIGHUP:f=!0,ignoreHTTPSErrors:d=!1,defaultViewport:u={width:800,height:600},slowMo:p=0,timeout:y=3e4,extraPrefsFirefox:w={}}=e,v=[];r?Array.isArray(r)?v.push(...this.defaultArgs(e).filter(O=>!r.includes(O))):v.push(...i):v.push(...this.defaultArgs(e)),v.some(O=>O.startsWith("--remote-debugging-"))||v.push("--remote-debugging-port=0");let x=null;!v.includes("-profile")&&!v.includes("--profile")&&(x=await this._createProfile(w),v.push("--profile"),v.push(x)),await this._updateRevision();let k=s;if(!s){let{missingText:O,executablePath:R}=fa(this);if(O)throw new Error(O);k=R}let C=new pv.BrowserRunner(k,v,x);C.start({handleSIGHUP:f,handleSIGTERM:c,handleSIGINT:l,dumpio:n,env:a,pipe:o});try{let O=await C.setupConnection({usePipe:o,timeout:y,slowMo:p,preferredRevision:this._preferredRevision}),R=await hv.Browser.create(O,[],d,u,C.proc,C.close.bind(C));return await R.waitForTarget(j=>j.type()==="page"),R}catch(O){throw C.kill(),O}}executablePath(){return fa(this).executablePath}async _updateRevision(){if(this._preferredRevision==="latest"){let r=await new dv.BrowserFetcher(this._projectRoot,{product:this.product}).localRevisions();r[0]&&(this._preferredRevision=r[0])}}get product(){return"firefox"}defaultArgs(e={}){let r=["--no-remote","--foreground"];ua.platform().startsWith("win")&&r.push("--wait-for-browser");let{devtools:i=!1,headless:n=!i,args:s=[],userDataDir:o=null}=e;return o&&(r.push("--profile"),r.push(o)),n&&r.push("--headless"),i&&r.push("--devtools"),s.every(a=>a.startsWith("-"))&&r.push("about:blank"),r.push(...s),r}async _createProfile(e){let r=await gv($n.join(ua.tmpdir(),"puppeteer_dev_firefox_profile-")),i=[],n=[],s="dummy.test",o={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${s}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${s}/dummy/discoveryURL`,"fission.autostart":!1,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":s,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${s}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};Object.assign(o,e);for(let[a,l]of Object.entries(o))n.push(`user_pref(${JSON.stringify(a)}, ${JSON.stringify(l)});`);return await yv($n.join(r,"user.js"),n.join(`
`)),await yv($n.join(r,"prefs.js"),i.join(`
`)),r}};function fa(t){let e;if(!t._isPuppeteerCore){let a=process.env.PUPPETEER_EXECUTABLE_PATH||process.env.npm_config_puppeteer_executable_path||process.env.npm_package_config_puppeteer_executable_path;if(a){let l=$u.existsSync(a)?null:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+a;return{executablePath:a,missingText:l}}e=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path}let r=new dv.BrowserFetcher(t._projectRoot,{product:t.product,path:e});if(!t._isPuppeteerCore&&t.product==="chrome"){let a=process.env.PUPPETEER_CHROMIUM_REVISION;if(a){let l=r.revisionInfo(a),c=l.local?null:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+l.executablePath;return{executablePath:l.executablePath,missingText:c}}}let i=r.revisionInfo(t._preferredRevision),n="Run `PUPPETEER_PRODUCT=firefox npm install` to download a supported Firefox browser binary.",s=`Run \`npm install\` to download the correct Chromium revision (${t._preferredRevision}).`,o=i.local?null:`Could not find expected browser (${t.product}) locally. ${t.product==="chrome"?s:n}`;return{executablePath:i.executablePath,missingText:o}}function $M(t,e,r,i){switch(!i&&!r&&(i=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product),i){case"firefox":return new vv(t,e,r);case"chrome":default:return typeof i!="undefined"&&i!=="chrome"&&console.warn(`Warning: unknown product name ${i}. Falling back to chrome.`),new _v(t,e,r)}}Dt.default=$M});var Hu=m(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.PUPPETEER_REVISIONS=void 0;da.PUPPETEER_REVISIONS={chromium:"856583",firefox:"latest"}});var xv=m(Pi=>{"use strict";var HM=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.PuppeteerNode=void 0;var WM=bm(),KM=Bu(),GM=HM(bv()),wv=Hu(),Ev=class extends WM.Puppeteer{constructor(e){let{projectRoot:r,preferredRevision:i,productName:n}=e,s=Cf(e,["projectRoot","preferredRevision","productName"]);super(s);this._projectRoot=r,this.__productName=n,this._preferredRevision=i}connect(e){return e.product&&(this._productName=e.product),super.connect(e)}get _productName(){return this.__productName}set _productName(e){this.__productName!==e&&(this._changedProduct=!0),this.__productName=e}launch(e={}){return e.product&&(this._productName=e.product),this._launcher.launch(e)}executablePath(){return this._launcher.executablePath()}get _launcher(){if(!this._lazyLauncher||this._lazyLauncher.product!==this._productName||this._changedProduct){switch(this._productName){case"firefox":this._preferredRevision=wv.PUPPETEER_REVISIONS.firefox;break;case"chrome":default:this._preferredRevision=wv.PUPPETEER_REVISIONS.chromium}this._changedProduct=!1,this._lazyLauncher=GM.default(this._projectRoot,this._preferredRevision,this._isPuppeteerCore,this._productName)}return this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new KM.BrowserFetcher(this._projectRoot,e)}};Pi.PuppeteerNode=Ev});var Cv=m((jN,Wu)=>{"use strict";var Sv=(t,...e)=>new Promise(r=>{r(t(...e))});Wu.exports=Sv;Wu.exports.default=Sv});var Tv=m((BN,Ku)=>{"use strict";var zM=Cv(),kv=t=>{if(!((Number.isInteger(t)||t===Infinity)&&t>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let e=[],r=0,i=()=>{r--,e.length>0&&e.shift()()},n=(a,l,...c)=>{r++;let f=zM(a,...c);l(f),f.then(i,i)},s=(a,l,...c)=>{r<t?n(a,l,...c):e.push(n.bind(null,a,l,...c))},o=(a,...l)=>new Promise(c=>s(a,c,...l));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),o};Ku.exports=kv;Ku.exports.default=kv});var Lv=m((UN,Gu)=>{"use strict";var Pv=Tv(),zu=class extends Error{constructor(e){super();this.value=e}},VM=async(t,e)=>e(await t),XM=async t=>{let e=await Promise.all(t);if(e[1]===!0)throw new zu(e[0]);return!1},Mv=async(t,e,r)=>{r=D({concurrency:Infinity,preserveOrder:!0},r);let i=Pv(r.concurrency),n=[...t].map(o=>[o,i(VM,o,e)]),s=Pv(r.preserveOrder?1:Infinity);try{await Promise.all(n.map(o=>s(XM,o)))}catch(o){if(o instanceof zu)return o.value;throw o}};Gu.exports=Mv;Gu.exports.default=Mv});var Fv=m(($N,Vu)=>{"use strict";var Ov=require("path"),ha=require("fs"),{promisify:Rv}=require("util"),QM=Lv(),JM=Rv(ha.stat),YM=Rv(ha.lstat),Av={directory:"isDirectory",file:"isFile"};function Iv({type:t}){if(!(t in Av))throw new Error(`Invalid type specified: ${t}`)}var Nv=(t,e)=>t===void 0||e[Av[t]]();Vu.exports=async(t,e)=>{e=D({cwd:process.cwd(),type:"file",allowSymlinks:!0},e),Iv(e);let r=e.allowSymlinks?JM:YM;return QM(t,async i=>{try{let n=await r(Ov.resolve(e.cwd,i));return Nv(e.type,n)}catch(n){return!1}},e)};Vu.exports.sync=(t,e)=>{e=D({cwd:process.cwd(),allowSymlinks:!0,type:"file"},e),Iv(e);let r=e.allowSymlinks?ha.statSync:ha.lstatSync;for(let i of t)try{let n=r(Ov.resolve(e.cwd,i));if(Nv(e.type,n))return i}catch(n){}}});var qv=m((HN,Xu)=>{"use strict";var Dv=require("fs"),{promisify:ZM}=require("util"),eL=ZM(Dv.access);Xu.exports=async t=>{try{return await eL(t),!0}catch(e){return!1}};Xu.exports.sync=t=>{try{return Dv.accessSync(t),!0}catch(e){return!1}}});var Bv=m((WN,Mi)=>{"use strict";var ur=require("path"),pa=Fv(),jv=qv(),Qu=Symbol("findUp.stop");Mi.exports=async(t,e={})=>{let r=ur.resolve(e.cwd||""),{root:i}=ur.parse(r),n=[].concat(t),s=async o=>{if(typeof t!="function")return pa(n,o);let a=await t(o.cwd);return typeof a=="string"?pa([a],o):a};for(;;){let o=await s(D(D({},e),{cwd:r}));if(o===Qu)return;if(o)return ur.resolve(r,o);if(r===i)return;r=ur.dirname(r)}};Mi.exports.sync=(t,e={})=>{let r=ur.resolve(e.cwd||""),{root:i}=ur.parse(r),n=[].concat(t),s=o=>{if(typeof t!="function")return pa.sync(n,o);let a=t(o.cwd);return typeof a=="string"?pa.sync([a],o):a};for(;;){let o=s(D(D({},e),{cwd:r}));if(o===Qu)return;if(o)return ur.resolve(r,o);if(r===i)return;r=ur.dirname(r)}};Mi.exports.exists=jv;Mi.exports.sync.exists=jv.sync;Mi.exports.stop=Qu});var Wv=m((KN,ma)=>{"use strict";var Uv=require("path"),$v=Bv(),Hv=async t=>{let e=await $v("package.json",{cwd:t});return e&&Uv.dirname(e)};ma.exports=Hv;ma.exports.default=Hv;ma.exports.sync=t=>{let e=$v.sync("package.json",{cwd:t});return e&&Uv.dirname(e)}});var Gv=m(Li=>{"use strict";var tL=Li&&Li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});Li.initializePuppeteerNode=void 0;var rL=xv(),Kv=Hu(),iL=tL(Wv()),nL=t=>{let e=iL.default.sync(__dirname),r=Kv.PUPPETEER_REVISIONS.chromium,i=t==="puppeteer-core",n=i?void 0:process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product;return!i&&n==="firefox"&&(r=Kv.PUPPETEER_REVISIONS.firefox),new rL.PuppeteerNode({projectRoot:e,preferredRevision:r,isPuppeteerCore:i,productName:n})};Li.initializePuppeteerNode=nL});var zv=m(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});var sL=Gv(),oL=bt();if(!oL.isNode)throw new Error("Cannot run puppeteer-core outside of Node.js");var aL=sL.initializePuppeteerNode("puppeteer-core");Ju.default=aL});var Xv=m((VN,Vv)=>{var lL=zv();Vv.exports=lL.default});var Yv=m((Jv,ga)=>{(function t(e,r){"use strict";let i=r();return i.initFuncsFromContext=function(n){return t(n,r)},typeof define=="function"&&define.amd?define(function(){return i}):typeof ga=="object"&&ga.exports?ga.exports=i:e.funcs=i,i})(Jv,function(){"use strict";let e={},r=function(i){i.maxTimes=function(n){return e.maxTimes(i,n)},i.once=function(){return e.once(i)},i.delay=function(n){return e.delay(i,n)},i.async=function(){return e.async(i)}};return e.noop=function(){},e.isFunction=function(i){return i&&typeof i=="function"||!1},e.ensure=function(i){return this.isFunction(i)?i:e.noop},e.maxTimes=function(i,n,s){if(!this.isFunction(i)||!n||typeof n!="number"||n<0)return this.noop;let o=!1;s&&s.callbackStyle&&(o=!0);let a=0,l=function(c,f){if(a<n)return a++,o?i(c,f):arguments.length?i.apply(null,arguments):i()};return r(l),l},e.once=function(i,n){return this.maxTimes(i,1,n)},e.delay=function(i,n,s){if(!this.isFunction(i))return this.noop;if(n&&typeof n=="object"&&(s=n,n=0),n=n||0,n<0)return i;let o=!1;s&&s.callbackStyle&&(o=!0);let a=function(l,c){let f=arguments;setTimeout(function(){o?i(l,c):f.length?i.apply(null,f):i()},n)};return r(a),a},e.async=function(i,n){return this.delay(i,0,n)},e})});var Hn=m((ZN,Zv)=>{var dL="2.0.0",hL=256,pL=Number.MAX_SAFE_INTEGER||9007199254740991,mL=16;Zv.exports={SEMVER_SPEC_VERSION:dL,MAX_LENGTH:hL,MAX_SAFE_INTEGER:pL,MAX_SAFE_COMPONENT_LENGTH:mL}});var Wn=m((e3,e0)=>{var gL=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};e0.exports=gL});var Ar=m((fr,t0)=>{var{MAX_SAFE_COMPONENT_LENGTH:ef}=Hn(),yL=Wn();fr=t0.exports={};var _L=fr.re=[],A=fr.src=[],I=fr.t={},vL=0,B=(t,e,r)=>{let i=vL++;yL(i,e),I[t]=i,A[i]=e,_L[i]=new RegExp(e,r?"g":void 0)};B("NUMERICIDENTIFIER","0|[1-9]\\d*");B("NUMERICIDENTIFIERLOOSE","[0-9]+");B("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");B("MAINVERSION",`(${A[I.NUMERICIDENTIFIER]})\\.(${A[I.NUMERICIDENTIFIER]})\\.(${A[I.NUMERICIDENTIFIER]})`);B("MAINVERSIONLOOSE",`(${A[I.NUMERICIDENTIFIERLOOSE]})\\.(${A[I.NUMERICIDENTIFIERLOOSE]})\\.(${A[I.NUMERICIDENTIFIERLOOSE]})`);B("PRERELEASEIDENTIFIER",`(?:${A[I.NUMERICIDENTIFIER]}|${A[I.NONNUMERICIDENTIFIER]})`);B("PRERELEASEIDENTIFIERLOOSE",`(?:${A[I.NUMERICIDENTIFIERLOOSE]}|${A[I.NONNUMERICIDENTIFIER]})`);B("PRERELEASE",`(?:-(${A[I.PRERELEASEIDENTIFIER]}(?:\\.${A[I.PRERELEASEIDENTIFIER]})*))`);B("PRERELEASELOOSE",`(?:-?(${A[I.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${A[I.PRERELEASEIDENTIFIERLOOSE]})*))`);B("BUILDIDENTIFIER","[0-9A-Za-z-]+");B("BUILD",`(?:\\+(${A[I.BUILDIDENTIFIER]}(?:\\.${A[I.BUILDIDENTIFIER]})*))`);B("FULLPLAIN",`v?${A[I.MAINVERSION]}${A[I.PRERELEASE]}?${A[I.BUILD]}?`);B("FULL",`^${A[I.FULLPLAIN]}$`);B("LOOSEPLAIN",`[v=\\s]*${A[I.MAINVERSIONLOOSE]}${A[I.PRERELEASELOOSE]}?${A[I.BUILD]}?`);B("LOOSE",`^${A[I.LOOSEPLAIN]}$`);B("GTLT","((?:<|>)?=?)");B("XRANGEIDENTIFIERLOOSE",`${A[I.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);B("XRANGEIDENTIFIER",`${A[I.NUMERICIDENTIFIER]}|x|X|\\*`);B("XRANGEPLAIN",`[v=\\s]*(${A[I.XRANGEIDENTIFIER]})(?:\\.(${A[I.XRANGEIDENTIFIER]})(?:\\.(${A[I.XRANGEIDENTIFIER]})(?:${A[I.PRERELEASE]})?${A[I.BUILD]}?)?)?`);B("XRANGEPLAINLOOSE",`[v=\\s]*(${A[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${A[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${A[I.XRANGEIDENTIFIERLOOSE]})(?:${A[I.PRERELEASELOOSE]})?${A[I.BUILD]}?)?)?`);B("XRANGE",`^${A[I.GTLT]}\\s*${A[I.XRANGEPLAIN]}$`);B("XRANGELOOSE",`^${A[I.GTLT]}\\s*${A[I.XRANGEPLAINLOOSE]}$`);B("COERCE",`(^|[^\\d])(\\d{1,${ef}})(?:\\.(\\d{1,${ef}}))?(?:\\.(\\d{1,${ef}}))?(?:$|[^\\d])`);B("COERCERTL",A[I.COERCE],!0);B("LONETILDE","(?:~>?)");B("TILDETRIM",`(\\s*)${A[I.LONETILDE]}\\s+`,!0);fr.tildeTrimReplace="$1~";B("TILDE",`^${A[I.LONETILDE]}${A[I.XRANGEPLAIN]}$`);B("TILDELOOSE",`^${A[I.LONETILDE]}${A[I.XRANGEPLAINLOOSE]}$`);B("LONECARET","(?:\\^)");B("CARETTRIM",`(\\s*)${A[I.LONECARET]}\\s+`,!0);fr.caretTrimReplace="$1^";B("CARET",`^${A[I.LONECARET]}${A[I.XRANGEPLAIN]}$`);B("CARETLOOSE",`^${A[I.LONECARET]}${A[I.XRANGEPLAINLOOSE]}$`);B("COMPARATORLOOSE",`^${A[I.GTLT]}\\s*(${A[I.LOOSEPLAIN]})$|^$`);B("COMPARATOR",`^${A[I.GTLT]}\\s*(${A[I.FULLPLAIN]})$|^$`);B("COMPARATORTRIM",`(\\s*)${A[I.GTLT]}\\s*(${A[I.LOOSEPLAIN]}|${A[I.XRANGEPLAIN]})`,!0);fr.comparatorTrimReplace="$1$2$3";B("HYPHENRANGE",`^\\s*(${A[I.XRANGEPLAIN]})\\s+-\\s+(${A[I.XRANGEPLAIN]})\\s*$`);B("HYPHENRANGELOOSE",`^\\s*(${A[I.XRANGEPLAINLOOSE]})\\s+-\\s+(${A[I.XRANGEPLAINLOOSE]})\\s*$`);B("STAR","(<|>)?=?\\s*\\*");B("GTE0","^\\s*>=\\s*0.0.0\\s*$");B("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var Kn=m((t3,r0)=>{var bL=["includePrerelease","loose","rtl"],wL=t=>t?typeof t!="object"?{loose:!0}:bL.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};r0.exports=wL});var ya=m((r3,i0)=>{var n0=/^[0-9]+$/,s0=(t,e)=>{let r=n0.test(t),i=n0.test(e);return r&&i&&(t=+t,e=+e),t===e?0:r&&!i?-1:i&&!r?1:t<e?-1:1},EL=(t,e)=>s0(e,t);i0.exports={compareIdentifiers:s0,rcompareIdentifiers:EL}});var Ee=m((i3,o0)=>{var _a=Wn(),{MAX_LENGTH:a0,MAX_SAFE_INTEGER:va}=Hn(),{re:l0,t:c0}=Ar(),xL=Kn(),{compareIdentifiers:Gn}=ya(),Qe=class{constructor(e,r){if(r=xL(r),e instanceof Qe){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>a0)throw new TypeError(`version is longer than ${a0} characters`);_a("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let i=e.trim().match(r.loose?l0[c0.LOOSE]:l0[c0.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>va||this.major<0)throw new TypeError("Invalid major version");if(this.minor>va||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>va||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let s=+n;if(s>=0&&s<va)return s}return n}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_a("SemVer.compare",this.version,this.options,e),!(e instanceof Qe)){if(typeof e=="string"&&e===this.version)return 0;e=new Qe(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Qe||(e=new Qe(e,this.options)),Gn(this.major,e.major)||Gn(this.minor,e.minor)||Gn(this.patch,e.patch)}comparePre(e){if(e instanceof Qe||(e=new Qe(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let i=this.prerelease[r],n=e.prerelease[r];if(_a("prerelease compare",r,i,n),i===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(i===void 0)return-1;if(i===n)continue;return Gn(i,n)}while(++r)}compareBuild(e){e instanceof Qe||(e=new Qe(e,this.options));let r=0;do{let i=this.build[r],n=e.build[r];if(_a("prerelease compare",r,i,n),i===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(i===void 0)return-1;if(i===n)continue;return Gn(i,n)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};o0.exports=Qe});var Ir=m((n3,u0)=>{var{MAX_LENGTH:SL}=Hn(),{re:f0,t:d0}=Ar(),h0=Ee(),CL=Kn(),kL=(t,e)=>{if(e=CL(e),t instanceof h0)return t;if(typeof t!="string"||t.length>SL||!(e.loose?f0[d0.LOOSE]:f0[d0.FULL]).test(t))return null;try{return new h0(t,e)}catch(i){return null}};u0.exports=kL});var m0=m((s3,p0)=>{var TL=Ir(),PL=(t,e)=>{let r=TL(t,e);return r?r.version:null};p0.exports=PL});var y0=m((o3,g0)=>{var ML=Ir(),LL=(t,e)=>{let r=ML(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};g0.exports=LL});var v0=m((a3,_0)=>{var OL=Ee(),RL=(t,e,r,i)=>{typeof r=="string"&&(i=r,r=void 0);try{return new OL(t,r).inc(e,i).version}catch(n){return null}};_0.exports=RL});var Je=m((l3,b0)=>{var w0=Ee(),AL=(t,e,r)=>new w0(t,r).compare(new w0(e,r));b0.exports=AL});var ba=m((c3,E0)=>{var IL=Je(),NL=(t,e,r)=>IL(t,e,r)===0;E0.exports=NL});var C0=m((u3,x0)=>{var S0=Ir(),FL=ba(),DL=(t,e)=>{if(FL(t,e))return null;{let r=S0(t),i=S0(e),n=r.prerelease.length||i.prerelease.length,s=n?"pre":"",o=n?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==i[a])return s+a;return o}};x0.exports=DL});var T0=m((f3,k0)=>{var qL=Ee(),jL=(t,e)=>new qL(t,e).major;k0.exports=jL});var M0=m((d3,P0)=>{var BL=Ee(),UL=(t,e)=>new BL(t,e).minor;P0.exports=UL});var O0=m((h3,L0)=>{var $L=Ee(),HL=(t,e)=>new $L(t,e).patch;L0.exports=HL});var A0=m((p3,R0)=>{var WL=Ir(),KL=(t,e)=>{let r=WL(t,e);return r&&r.prerelease.length?r.prerelease:null};R0.exports=KL});var N0=m((m3,I0)=>{var GL=Je(),zL=(t,e,r)=>GL(e,t,r);I0.exports=zL});var D0=m((g3,F0)=>{var VL=Je(),XL=(t,e)=>VL(t,e,!0);F0.exports=XL});var wa=m((y3,q0)=>{var j0=Ee(),QL=(t,e,r)=>{let i=new j0(t,r),n=new j0(e,r);return i.compare(n)||i.compareBuild(n)};q0.exports=QL});var U0=m((_3,B0)=>{var JL=wa(),YL=(t,e)=>t.sort((r,i)=>JL(r,i,e));B0.exports=YL});var H0=m((v3,$0)=>{var ZL=wa(),eO=(t,e)=>t.sort((r,i)=>ZL(i,r,e));$0.exports=eO});var zn=m((b3,W0)=>{var tO=Je(),rO=(t,e,r)=>tO(t,e,r)>0;W0.exports=rO});var Ea=m((w3,K0)=>{var iO=Je(),nO=(t,e,r)=>iO(t,e,r)<0;K0.exports=nO});var tf=m((E3,G0)=>{var sO=Je(),oO=(t,e,r)=>sO(t,e,r)!==0;G0.exports=oO});var xa=m((x3,z0)=>{var aO=Je(),lO=(t,e,r)=>aO(t,e,r)>=0;z0.exports=lO});var Sa=m((S3,V0)=>{var cO=Je(),uO=(t,e,r)=>cO(t,e,r)<=0;V0.exports=uO});var rf=m((C3,X0)=>{var fO=ba(),dO=tf(),hO=zn(),pO=xa(),mO=Ea(),gO=Sa(),yO=(t,e,r,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return fO(t,r,i);case"!=":return dO(t,r,i);case">":return hO(t,r,i);case">=":return pO(t,r,i);case"<":return mO(t,r,i);case"<=":return gO(t,r,i);default:throw new TypeError(`Invalid operator: ${e}`)}};X0.exports=yO});var J0=m((k3,Q0)=>{var _O=Ee(),vO=Ir(),{re:Ca,t:ka}=Ar(),bO=(t,e)=>{if(t instanceof _O)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ca[ka.COERCE]);else{let i;for(;(i=Ca[ka.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||i.index+i[0].length!==r.index+r[0].length)&&(r=i),Ca[ka.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;Ca[ka.COERCERTL].lastIndex=-1}return r===null?null:vO(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Q0.exports=bO});var Z0=m((T3,Y0)=>{"use strict";Y0.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var tb=m((P3,eb)=>{"use strict";eb.exports=G;G.Node=Nr;G.create=G;function G(t){var e=this;if(e instanceof G||(e=new G),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}G.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};G.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};G.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};G.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)wO(this,arguments[t]);return this.length};G.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)EO(this,arguments[t]);return this.length};G.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};G.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};G.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,i=0;r!==null;i++)t.call(e,r.value,i,this),r=r.next};G.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,i=this.length-1;r!==null;i--)t.call(e,r.value,i,this),r=r.prev};G.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};G.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};G.prototype.map=function(t,e){e=e||this;for(var r=new G,i=this.head;i!==null;)r.push(t.call(e,i.value,this)),i=i.next;return r};G.prototype.mapReverse=function(t,e){e=e||this;for(var r=new G,i=this.tail;i!==null;)r.push(t.call(e,i.value,this)),i=i.prev;return r};G.prototype.reduce=function(t,e){var r,i=this.head;if(arguments.length>1)r=e;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;i!==null;n++)r=t(r,i.value,n),i=i.next;return r};G.prototype.reduceReverse=function(t,e){var r,i=this.tail;if(arguments.length>1)r=e;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;i!==null;n--)r=t(r,i.value,n),i=i.prev;return r};G.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};G.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};G.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new G;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,n=this.head;n!==null&&i<t;i++)n=n.next;for(;n!==null&&i<e;i++,n=n.next)r.push(n.value);return r};G.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new G;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,n=this.tail;n!==null&&i>e;i--)n=n.prev;for(;n!==null&&i>t;i--,n=n.prev)r.push(n.value);return r};G.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,n=this.head;n!==null&&i<t;i++)n=n.next;for(var s=[],i=0;n&&i<e;i++)s.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var i=0;i<r.length;i++)n=xO(this,n,r[i]);return s};G.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=e,this.tail=t,this};function xO(t,e,r){var i=e===t.head?new Nr(r,null,e,t):new Nr(r,e,e.next,t);return i.next===null&&(t.tail=i),i.prev===null&&(t.head=i),t.length++,i}function wO(t,e){t.tail=new Nr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function EO(t,e){t.head=new Nr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Nr(t,e,r,i){if(!(this instanceof Nr))return new Nr(t,e,r,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Z0()(G)}catch(t){}});var lb=m((M3,rb)=>{"use strict";var SO=tb(),Fr=Symbol("max"),qt=Symbol("length"),Oi=Symbol("lengthCalculator"),Vn=Symbol("allowStale"),Dr=Symbol("maxAge"),jt=Symbol("dispose"),ib=Symbol("noDisposeOnSet"),pe=Symbol("lruList"),nt=Symbol("cache"),nb=Symbol("updateAgeOnGet"),nf=()=>1,sb=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Fr]=e.max||Infinity,i=e.length||nf;if(this[Oi]=typeof i!="function"?nf:i,this[Vn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Dr]=e.maxAge||0,this[jt]=e.dispose,this[ib]=e.noDisposeOnSet||!1,this[nb]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Fr]=e||Infinity,Xn(this)}get max(){return this[Fr]}set allowStale(e){this[Vn]=!!e}get allowStale(){return this[Vn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Dr]=e,Xn(this)}get maxAge(){return this[Dr]}set lengthCalculator(e){typeof e!="function"&&(e=nf),e!==this[Oi]&&(this[Oi]=e,this[qt]=0,this[pe].forEach(r=>{r.length=this[Oi](r.value,r.key),this[qt]+=r.length})),Xn(this)}get lengthCalculator(){return this[Oi]}get length(){return this[qt]}get itemCount(){return this[pe].length}rforEach(e,r){r=r||this;for(let i=this[pe].tail;i!==null;){let n=i.prev;ab(this,e,i,r),i=n}}forEach(e,r){r=r||this;for(let i=this[pe].head;i!==null;){let n=i.next;ab(this,e,i,r),i=n}}keys(){return this[pe].toArray().map(e=>e.key)}values(){return this[pe].toArray().map(e=>e.value)}reset(){this[jt]&&this[pe]&&this[pe].length&&this[pe].forEach(e=>this[jt](e.key,e.value)),this[nt]=new Map,this[pe]=new SO,this[qt]=0}dump(){return this[pe].map(e=>Ta(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[pe]}set(e,r,i){if(i=i||this[Dr],i&&typeof i!="number")throw new TypeError("maxAge must be a number");let n=i?Date.now():0,s=this[Oi](r,e);if(this[nt].has(e)){if(s>this[Fr])return Ri(this,this[nt].get(e)),!1;let l=this[nt].get(e).value;return this[jt]&&(this[ib]||this[jt](e,l.value)),l.now=n,l.maxAge=i,l.value=r,this[qt]+=s-l.length,l.length=s,this.get(e),Xn(this),!0}let o=new ob(e,r,s,n,i);return o.length>this[Fr]?(this[jt]&&this[jt](e,r),!1):(this[qt]+=o.length,this[pe].unshift(o),this[nt].set(e,this[pe].head),Xn(this),!0)}has(e){if(!this[nt].has(e))return!1;let r=this[nt].get(e).value;return!Ta(this,r)}get(e){return sf(this,e,!0)}peek(e){return sf(this,e,!1)}pop(){let e=this[pe].tail;return e?(Ri(this,e),e.value):null}del(e){Ri(this,this[nt].get(e))}load(e){this.reset();let r=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],s=n.e||0;if(s===0)this.set(n.k,n.v);else{let o=s-r;o>0&&this.set(n.k,n.v,o)}}}prune(){this[nt].forEach((e,r)=>sf(this,r,!1))}},sf=(t,e,r)=>{let i=t[nt].get(e);if(i){let n=i.value;if(Ta(t,n)){if(Ri(t,i),!t[Vn])return}else r&&(t[nb]&&(i.value.now=Date.now()),t[pe].unshiftNode(i));return n.value}},Ta=(t,e)=>{if(!e||!e.maxAge&&!t[Dr])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Dr]&&r>t[Dr]},Xn=t=>{if(t[qt]>t[Fr])for(let e=t[pe].tail;t[qt]>t[Fr]&&e!==null;){let r=e.prev;Ri(t,e),e=r}},Ri=(t,e)=>{if(e){let r=e.value;t[jt]&&t[jt](r.key,r.value),t[qt]-=r.length,t[nt].delete(r.key),t[pe].removeNode(e)}},ob=class{constructor(e,r,i,n,s){this.key=e,this.value=r,this.length=i,this.now=n,this.maxAge=s||0}},ab=(t,e,r,i)=>{let n=r.value;Ta(t,n)&&(Ri(t,r),t[Vn]||(n=void 0)),n&&e.call(i,n.value,n.key,t)};rb.exports=sb});var Ye=m((L3,cb)=>{var Ai=class{constructor(e,r){if(r=CO(r),e instanceof Ai)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Ai(e.raw,r);if(e instanceof of)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(n=>!fb(n[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&LO(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let i=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=ub.get(i);if(n)return n;let s=this.options.loose,o=s?xe[_e.HYPHENRANGELOOSE]:xe[_e.HYPHENRANGE];e=e.replace(o,AO(this.options.includePrerelease)),oe("hyphen replace",e),e=e.replace(xe[_e.COMPARATORTRIM],TO),oe("comparator trim",e,xe[_e.COMPARATORTRIM]),e=e.replace(xe[_e.TILDETRIM],PO),e=e.replace(xe[_e.CARETTRIM],MO),e=e.split(/\s+/).join(" ");let a=s?xe[_e.COMPARATORLOOSE]:xe[_e.COMPARATOR],l=e.split(" ").map(u=>OO(u,this.options)).join(" ").split(/\s+/).map(u=>RO(u,this.options)).filter(this.options.loose?u=>!!u.match(a):()=>!0).map(u=>new of(u,this.options)),c=l.length,f=new Map;for(let u of l){if(fb(u))return[u];f.set(u.value,u)}f.size>1&&f.has("")&&f.delete("");let d=[...f.values()];return ub.set(i,d),d}intersects(e,r){if(!(e instanceof Ai))throw new TypeError("a Range is required");return this.set.some(i=>db(i,r)&&e.set.some(n=>db(n,r)&&i.every(s=>n.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new kO(e,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(IO(this.set[r],e,this.options))return!0;return!1}};cb.exports=Ai;var NO=lb(),ub=new NO({max:1e3}),CO=Kn(),of=Qn(),oe=Wn(),kO=Ee(),{re:xe,t:_e,comparatorTrimReplace:TO,tildeTrimReplace:PO,caretTrimReplace:MO}=Ar(),fb=t=>t.value==="<0.0.0-0",LO=t=>t.value==="",db=(t,e)=>{let r=!0,i=t.slice(),n=i.pop();for(;r&&i.length;)r=i.every(s=>n.intersects(s,e)),n=i.pop();return r},OO=(t,e)=>(oe("comp",t,e),t=DO(t,e),oe("caret",t),t=FO(t,e),oe("tildes",t),t=qO(t,e),oe("xrange",t),t=jO(t,e),oe("stars",t),t),Te=t=>!t||t.toLowerCase()==="x"||t==="*",FO=(t,e)=>t.trim().split(/\s+/).map(r=>BO(r,e)).join(" "),BO=(t,e)=>{let r=e.loose?xe[_e.TILDELOOSE]:xe[_e.TILDE];return t.replace(r,(i,n,s,o,a)=>{oe("tilde",t,i,n,s,o,a);let l;return Te(n)?l="":Te(s)?l=`>=${n}.0.0 <${+n+1}.0.0-0`:Te(o)?l=`>=${n}.${s}.0 <${n}.${+s+1}.0-0`:a?(oe("replaceTilde pr",a),l=`>=${n}.${s}.${o}-${a} <${n}.${+s+1}.0-0`):l=`>=${n}.${s}.${o} <${n}.${+s+1}.0-0`,oe("tilde return",l),l})},DO=(t,e)=>t.trim().split(/\s+/).map(r=>UO(r,e)).join(" "),UO=(t,e)=>{oe("caret",t,e);let r=e.loose?xe[_e.CARETLOOSE]:xe[_e.CARET],i=e.includePrerelease?"-0":"";return t.replace(r,(n,s,o,a,l)=>{oe("caret",t,n,s,o,a,l);let c;return Te(s)?c="":Te(o)?c=`>=${s}.0.0${i} <${+s+1}.0.0-0`:Te(a)?s==="0"?c=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:l?(oe("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(oe("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),oe("caret return",c),c})},qO=(t,e)=>(oe("replaceXRanges",t,e),t.split(/\s+/).map(r=>$O(r,e)).join(" ")),$O=(t,e)=>{t=t.trim();let r=e.loose?xe[_e.XRANGELOOSE]:xe[_e.XRANGE];return t.replace(r,(i,n,s,o,a,l)=>{oe("xRange",t,i,n,s,o,a,l);let c=Te(s),f=c||Te(o),d=f||Te(a),u=d;return n==="="&&u&&(n=""),l=e.includePrerelease?"-0":"",c?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&u?(f&&(o=0),a=0,n===">"?(n=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",f?s=+s+1:o=+o+1),n==="<"&&(l="-0"),i=`${n+s}.${o}.${a}${l}`):f?i=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(i=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),oe("xRange return",i),i})},jO=(t,e)=>(oe("replaceStars",t,e),t.trim().replace(xe[_e.STAR],"")),RO=(t,e)=>(oe("replaceGTE0",t,e),t.trim().replace(xe[e.includePrerelease?_e.GTE0PRE:_e.GTE0],"")),AO=t=>(e,r,i,n,s,o,a,l,c,f,d,u,p)=>(Te(i)?r="":Te(n)?r=`>=${i}.0.0${t?"-0":""}`:Te(s)?r=`>=${i}.${n}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Te(c)?l="":Te(f)?l=`<${+c+1}.0.0-0`:Te(d)?l=`<${c}.${+f+1}.0-0`:u?l=`<=${c}.${f}.${d}-${u}`:t?l=`<${c}.${f}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),IO=(t,e,r)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let i=0;i<t.length;i++)if(oe(t[i].semver),t[i].semver!==of.ANY&&t[i].semver.prerelease.length>0){let n=t[i].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var Qn=m((O3,hb)=>{var Jn=Symbol("SemVer ANY"),Yn=class{static get ANY(){return Jn}constructor(e,r){if(r=HO(r),e instanceof Yn){if(e.loose===!!r.loose)return e;e=e.value}lf("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Jn?this.value="":this.value=this.operator+this.semver.version,lf("comp",this)}parse(e){let r=this.options.loose?pb[mb.COMPARATORLOOSE]:pb[mb.COMPARATOR],i=e.match(r);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new gb(i[2],this.options.loose):this.semver=Jn}toString(){return this.value}test(e){if(lf("Comparator.test",e,this.options.loose),this.semver===Jn||e===Jn)return!0;if(typeof e=="string")try{e=new gb(e,this.options)}catch(r){return!1}return af(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Yn))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new yb(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new yb(this.value,r).test(e.semver);let i=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=af(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=af(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return i||n||s&&o||a||l}};hb.exports=Yn;var HO=Kn(),{re:pb,t:mb}=Ar(),af=rf(),lf=Wn(),gb=Ee(),yb=Ye()});var Zn=m((R3,_b)=>{var WO=Ye(),KO=(t,e,r)=>{try{e=new WO(e,r)}catch(i){return!1}return e.test(t)};_b.exports=KO});var bb=m((A3,vb)=>{var GO=Ye(),zO=(t,e)=>new GO(t,e).set.map(r=>r.map(i=>i.value).join(" ").trim().split(" "));vb.exports=zO});var Eb=m((I3,wb)=>{var VO=Ee(),XO=Ye(),QO=(t,e,r)=>{let i=null,n=null,s=null;try{s=new XO(e,r)}catch(o){return null}return t.forEach(o=>{s.test(o)&&(!i||n.compare(o)===-1)&&(i=o,n=new VO(i,r))}),i};wb.exports=QO});var Sb=m((N3,xb)=>{var JO=Ee(),YO=Ye(),ZO=(t,e,r)=>{let i=null,n=null,s=null;try{s=new YO(e,r)}catch(o){return null}return t.forEach(o=>{s.test(o)&&(!i||n.compare(o)===1)&&(i=o,n=new JO(i,r))}),i};xb.exports=ZO});var Tb=m((F3,Cb)=>{var cf=Ee(),eR=Ye(),kb=zn(),tR=(t,e)=>{t=new eR(t,e);let r=new cf("0.0.0");if(t.test(r)||(r=new cf("0.0.0-0"),t.test(r)))return r;r=null;for(let i=0;i<t.set.length;++i){let n=t.set[i],s=null;n.forEach(o=>{let a=new cf(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||kb(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||kb(r,s))&&(r=s)}return r&&t.test(r)?r:null};Cb.exports=tR});var Mb=m((D3,Pb)=>{var rR=Ye(),iR=(t,e)=>{try{return new rR(t,e).range||"*"}catch(r){return null}};Pb.exports=iR});var Pa=m((q3,Lb)=>{var nR=Ee(),Ob=Qn(),{ANY:sR}=Ob,oR=Ye(),aR=Zn(),Rb=zn(),Ab=Ea(),lR=Sa(),cR=xa(),uR=(t,e,r,i)=>{t=new nR(t,i),e=new oR(e,i);let n,s,o,a,l;switch(r){case">":n=Rb,s=lR,o=Ab,a=">",l=">=";break;case"<":n=Ab,s=cR,o=Rb,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(aR(t,e,i))return!1;for(let c=0;c<e.set.length;++c){let f=e.set[c],d=null,u=null;if(f.forEach(p=>{p.semver===sR&&(p=new Ob(">=0.0.0")),d=d||p,u=u||p,n(p.semver,d.semver,i)?d=p:o(p.semver,u.semver,i)&&(u=p)}),d.operator===a||d.operator===l||(!u.operator||u.operator===a)&&s(t,u.semver))return!1;if(u.operator===l&&o(t,u.semver))return!1}return!0};Lb.exports=uR});var Nb=m((j3,Ib)=>{var fR=Pa(),dR=(t,e,r)=>fR(t,e,">",r);Ib.exports=dR});var Db=m((B3,Fb)=>{var hR=Pa(),pR=(t,e,r)=>hR(t,e,"<",r);Fb.exports=pR});var Bb=m((U3,qb)=>{var jb=Ye(),mR=(t,e,r)=>(t=new jb(t,r),e=new jb(e,r),t.intersects(e));qb.exports=mR});var $b=m(($3,Ub)=>{var gR=Zn(),yR=Je();Ub.exports=(t,e,r)=>{let i=[],n=null,s=null,o=t.sort((f,d)=>yR(f,d,r));for(let f of o)gR(f,e,r)?(s=f,n||(n=f)):(s&&i.push([n,s]),s=null,n=null);n&&i.push([n,null]);let a=[];for(let[f,d]of i)f===d?a.push(f):!d&&f===o[0]?a.push("*"):d?f===o[0]?a.push(`<=${d}`):a.push(`${f} - ${d}`):a.push(`>=${f}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var Vb=m((H3,Hb)=>{var Wb=Ye(),{ANY:Kb}=Qn(),es=Zn(),uf=Je(),vR=(t,e,r)=>{if(t===e)return!0;t=new Wb(t,r),e=new Wb(e,r);let i=!1;e:for(let n of t.set){for(let s of e.set){let o=_R(n,s,r);if(i=i||o!==null,o)continue e}if(i)return!1}return!0},_R=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Kb)return e.length===1&&e[0].semver===Kb;let i=new Set,n,s;for(let d of t)d.operator===">"||d.operator===">="?n=Gb(n,d,r):d.operator==="<"||d.operator==="<="?s=zb(s,d,r):i.add(d.semver);if(i.size>1)return null;let o;if(n&&s){if(o=uf(n.semver,s.semver,r),o>0)return null;if(o===0&&(n.operator!==">="||s.operator!=="<="))return null}for(let d of i){if(n&&!es(d,String(n),r)||s&&!es(d,String(s),r))return null;for(let u of e)if(!es(d,String(u),r))return!1;return!0}let a,l,c,f;for(let d of e){if(f=f||d.operator===">"||d.operator===">=",c=c||d.operator==="<"||d.operator==="<=",n){if(d.operator===">"||d.operator===">="){if(a=Gb(n,d,r),a===d&&a!==n)return!1}else if(n.operator===">="&&!es(n.semver,String(d),r))return!1}if(s){if(d.operator==="<"||d.operator==="<="){if(l=zb(s,d,r),l===d&&l!==s)return!1}else if(s.operator==="<="&&!es(s.semver,String(d),r))return!1}if(!d.operator&&(s||n)&&o!==0)return!1}return!(n&&c&&!s&&o!==0||s&&f&&!n&&o!==0)},Gb=(t,e,r)=>{if(!t)return e;let i=uf(t.semver,e.semver,r);return i>0?t:i<0||e.operator===">"&&t.operator===">="?e:t},zb=(t,e,r)=>{if(!t)return e;let i=uf(t.semver,e.semver,r);return i<0?t:i>0||e.operator==="<"&&t.operator==="<="?e:t};Hb.exports=vR});var Qb=m((W3,Xb)=>{var ff=Ar();Xb.exports={re:ff.re,src:ff.src,tokens:ff.t,SEMVER_SPEC_VERSION:Hn().SEMVER_SPEC_VERSION,SemVer:Ee(),compareIdentifiers:ya().compareIdentifiers,rcompareIdentifiers:ya().rcompareIdentifiers,parse:Ir(),valid:m0(),clean:y0(),inc:v0(),diff:C0(),major:T0(),minor:M0(),patch:O0(),prerelease:A0(),compare:Je(),rcompare:N0(),compareLoose:D0(),compareBuild:wa(),sort:U0(),rsort:H0(),gt:zn(),lt:Ea(),eq:ba(),neq:tf(),gte:xa(),lte:Sa(),cmp:rf(),coerce:J0(),Comparator:Qn(),Range:Ye(),satisfies:Zn(),toComparators:bb(),maxSatisfying:Eb(),minSatisfying:Sb(),minVersion:Tb(),validRange:Mb(),outside:Pa(),gtr:Nb(),ltr:Db(),intersects:Bb(),simplifyRange:$b(),subset:Vb()}});var Zb=m((K3,Jb)=>{"use strict";var Yb=Qb(),df=function(t){let e=process.nextTick;return t?(typeof t=="boolean"||Yb.lt(t,"0.12.0"))&&(e=setImmediate):Yb.lt(df.nodejsVersion,"0.12.0")&&(e=setImmediate),e};df.nodejsVersion=process.version.substring(1);Jb.exports=df});var tw=m((G3,ew)=>{"use strict";ew.exports=Zb()});var nw=m((z3,rw)=>{"use strict";var qr=Yv(),bR=tw(),iw=bR();function H(){}H.prototype.enhancedEmitterType=!0;H.prototype.suspended=!1;H.prototype.subscriptionSeparator=null;H.prototype.on=function(t,e){let r=this,i;if(t&&!e&&typeof t=="object"&&t.listener&&t.event){let n=t.listener;typeof n=="function"&&(n=[n]);let s=t.event,o=t.async,a=t.timeout||0,l,c=function(u){let p=u;return o&&(p=r.asAsyncListener(u)),p},f,d=[];for(let u=0;u<n.length;u++)e=n[u],e=c(e),f=r.onAny(s,e),d.push(f);i=function(){for(let u=0;u<d.length;u++)d[u]();l&&(clearTimeout(l),l=null)},a&&a>0&&(l=setTimeout(i,a))}else this.baseOn(t,e),i=function(){r.removeListener(t,e)};return i=qr.once(i),i};H.prototype.once=function(t,e){let r=this;return this.baseOnce(t,e),qr.once(function(){r.removeListener(t,e)})};H.prototype.removeAllListeners=function(t){if(t)if(Array.isArray(t))for(let e=0;e<t.length;e++)this.removeAllListeners(t[e]);else this.baseRemoveAllListeners(t)};H.prototype.suspend=function(t){this.suspendedEvents=this.markEvent(t,this.suspendedEvents)};H.prototype.unsuspend=function(t){t&&this.suspendedEvents&&delete this.suspendedEvents[t]};H.prototype.else=function(t){this.elseListeners=this.elseListeners||[],this.elseListeners.push(t)};H.prototype.removeElseListener=function(t){if(t&&this.elseListeners&&this.elseListeners.length){let e;do e=this.elseListeners.indexOf(t),e!==-1&&this.elseListeners.splice(e,1);while(e!==-1)}};H.prototype.unelse=H.prototype.removeElseListener;H.prototype.removeAllElseListeners=function(){this.elseListeners&&this.elseListeners.length&&this.elseListeners.splice(0,this.elseListeners.length)};H.prototype.elseError=function(t){this.elseErrorEvents=this.markEvent(t,this.elseErrorEvents)};H.prototype.removeElseError=function(t){t&&this.elseErrorEvents&&delete this.elseErrorEvents[t]};H.prototype.unelseError=H.prototype.removeElseError;H.prototype.emit=function(){return this.subscriptionSeparator?this.doEmitByPath.apply(this,arguments):this.doEmit.apply(this,arguments)};H.prototype.doEmitByPath=function(t){if(!this.subscriptionSeparator)return!1;let e=t.split(this.subscriptionSeparator),r=!1,i;for(let n=0;n<e.length;n++){let s=Array.prototype.slice.call(arguments,0);i?i=i+this.subscriptionSeparator+e[n]:i=e[n],s[0]=i,r=this.doEmit.apply(this,s)||r}return r};H.prototype.doEmit=function(t){let e=!1;if(!this.suspended&&(!this.suspendedEvents||!this.suspendedEvents[t])){let r=arguments;this.runFilterChain(r)&&(e=this.baseEmit.apply(this,r),e||(e=this.handleNoEmit(t,r)))}return e};H.prototype.handleNoEmit=function(t,e){let r=!1,i=this.elseErrorEvents&&this.elseErrorEvents[t];return(this.elseListeners&&this.elseListeners.length||i)&&(i?this.emit("error",new Error("No listener attached for event: "+t)):(this.invokeElseListener(e),r=!0)),r};H.prototype.invokeElseListener=function(t){for(let e=0;e<this.elseListeners.length;e++)this.elseListeners[e].apply(this.elseListeners[e],t)};H.prototype.emitAsync=function(t){if(!t||typeof t!="string")throw new Error("Event not provided.");let e=this,r,i=Array.prototype.splice.call(arguments,0);i.length>1&&typeof i[i.length-1]=="function"&&(r=i.pop()),iw(function(){let s=e.emit.apply(e,i);r&&(i.push(s),r.apply(r,i))})};H.prototype.onAsync=function(t,e){let r=null;if(t&&e&&typeof e=="function"){let i=this,n=i.asAsyncListener(e);i.on(t,n),r=qr.once(function(){i.removeListener(t,n)})}else throw new Error("Missing mandatory parameters");return r};H.prototype.onAny=function(t,e){let r=this,i=null;if(t&&e&&typeof e=="function")if(Array.isArray(t)){for(let n=0;n<t.length;n++)r.on(t[n],e);i=function(){for(let n=0;n<t.length;n++)r.removeListener(t[n],e)}}else r.on(t,e),i=function(){r.removeListener(t,e)};else throw new Error("Missing mandatory parameters");return i=qr.once(i),i};H.prototype.addFilter=function(t,e){let r=this,i=null;if(!e&&t&&typeof t=="function"&&(e=t,t=null),!e)throw new Error("Filter not provided.");if(typeof e!="function")throw new Error("Filter is not a function.");return r.filters=r.filters||{},t?i=r.addEventFilter(t,e):i=r.addGlobalFilter(e),i};H.prototype.addEventFilter=function(t,e){let r=this;return r.filters.event=r.filters.event||{},r.filters.event[t]=r.filters.event[t]||[],r.filters.event[t].push(e),qr.once(function(){if(r.filters&&r.filters.event&&r.filters.event[t]&&r.filters.event[t].length){let n=r.filters.event[t].indexOf(e);n!==-1&&r.filters.event[t].splice(n,1)}})};H.prototype.addGlobalFilter=function(t){let e=this;return e.filters.global=e.filters.global||[],e.filters.global.push(t),qr.once(function(){if(e.filters&&e.filters.global&&e.filters.global.length){let i=e.filters.global.indexOf(t);i!==-1&&e.filters.global.splice(i,1)}})};H.prototype.filter=H.prototype.addFilter;H.prototype.proxyEvents=function(t,e){if(!t)throw new Error("Event Emitter/s not provided.");if(!e)throw new Error("Event/s not provided.");let r=this;Array.isArray(t)||(t=[t]),typeof e=="string"&&(e=[e]);let i=[];return e.forEach(function(s){t.forEach(function(a){let l=function(){let f=Array.prototype.slice.call(arguments,0);f.unshift(s),r.emit.apply(r,f)};a.on(s,l),i.push(function(){a.removeListener(s,l)})})}),function(){i&&i.length&&(i.forEach(function(o){o()}),i=null)}};H.prototype.addNoop=function(t){let e;return t&&typeof t=="string"&&(e=this.on(t,qr.noop)),e};H.prototype.ignoreError=function(){this.listenerCount("error")||this.addNoop("error")};H.prototype.asAsyncListener=function(t){let e;if(t&&typeof t=="function")e=function(){let r=arguments;iw(function(){t.apply(t,r)})};else throw new Error("Missing mandatory parameters");return e};H.prototype.runFilterChain=function(t){if(this.filters){let e;if(this.filters.global&&this.filters.global.length){for(let i=0;i<this.filters.global.length;i++)if(e=this.filters.global[i],!e.apply(e,t))return!1}let r=t[0];if(this.filters.event&&this.filters.event[r]&&this.filters.event[r].length){for(let i=0;i<this.filters.event[r].length;i++)if(e=this.filters.event[r][i],!e.apply(e,t))return!1}}return!0};H.prototype.markEvent=function(t,e){return t&&(e=e||{},e[t]=!0),e};rw.exports=H});var aw=m((V3,sw)=>{"use strict";var wR=require("events"),ER=wR.EventEmitter,ow=nw();function Ii(){this.EnhancedEventEmitter=this.extend(ER)}Ii.prototype.validateDoubleEnhancement=function(t){if(t.enhancedEmitterType)throw new Error("Provided input has already been enhanced.")};Ii.prototype.enhance=function(t,e){let r=this,i,n=null;switch(e){case 0:r.validateDoubleEnhancement(t.prototype),i=function(){t.call(r)},i.prototype=Object.create(t.prototype),i.prototype.constructor=i,n=i,i=i.prototype;break;case 1:r.validateDoubleEnhancement(t.prototype),i=t,n=i,i=i.prototype;break;case 2:r.validateDoubleEnhancement(t),i=t;break}return i.baseEmit=i.emit,i.baseOn=i.on,i.baseOnce=i.once,i.baseRemoveAllListeners=i.removeAllListeners,Object.keys(ow.prototype).forEach(function(a){i[a]=ow.prototype[a]}),n};Ii.prototype.extend=function(t){return this.enhance(t,0)};Ii.prototype.modify=function(t){this.enhance(t,1)};Ii.prototype.modifyInstance=function(t){this.enhance(t,2)};sw.exports=new Ii});var cw=m((X3,lw)=>{"use strict";lw.exports=aw()});var _vscode = require('vscode');function Tf(){return _vscode.extensions.getExtension("msjsdiag.debugger-for-chrome")?"chrome":_vscode.extensions.getExtension("msjsdiag.debugger-for-edge")?"edge":"chrome"}var Da=class{constructor(e){this.manager=e;this.underlyingDebugType=Tf();_vscode.debug.onDidTerminateDebugSession(r=>{r.name==="Browse Lite: Launch"&&r.configuration.urlFilter&&this.manager.disposeByUrl(r.configuration.urlFilter)}),_vscode.debug.registerDebugAdapterTrackerFactory(this.underlyingDebugType,{createDebugAdapterTracker(r){let i=r.configuration;if(!(!i._browseLite||!i._browseLiteLaunch))return e.create(i._browseLiteLaunch).then(()=>{})}})}getProvider(){let e=this.manager,r=this.underlyingDebugType;return{provideDebugConfigurations(i,n){return Promise.resolve([{type:"browse-lite",name:"Browse Lite: Attach",request:"attach"},{type:"browse-lite",request:"launch",name:"Browse Lite: Launch",url:"http://localhost:3000"}])},resolveDebugConfiguration(i,n,s){if(!n||n.type!=="browse-lite")return null;if(n.type=r,n._browseLite=!0,n.request==="launch")if(n.name="Browse Lite: Launch",n.port=e.config.debugPort,n.request="attach",n.urlFilter=n.url,n._browseLiteLaunch=n.url,n.port===null)_vscode.window.showErrorMessage("Could not launch Browse Lite window");else return n;else if(n.request==="attach")if(n.name="Browse Lite: Attach",n.port=e.config.debugPort,n.port===null)_vscode.window.showErrorMessage('No Browse Lite window was found. Open a Browse Lite window or use the "launch" request type.');else return n;else _vscode.window.showErrorMessage("No supported launch config was found.")}}}};var gw=jr(qa());var fw=jr(Zf()),dw=jr(Ed()),hw=jr(Xv());var _events2 = require('events');var _os = require('os');var _fs = require('fs'); var _fs2 = _interopRequireDefault(_fs);var _http = require('http');function Xe(t,e){return _vscode.workspace.getConfiguration().get(t,e)}function Qv(){let t=Xe("workbench.colorTheme","").toLowerCase();return t.match(/dark|black/i)!=null?!0:t.match(/light/i)==null}function fL(t){return new Promise(e=>{let r=_http.createServer.call(void 0, ).listen(t,()=>{r.close(),e(!0)}).on("error",()=>{e(!1)})})}async function Yu(t=4e3){return await fL(t)?t:Yu(t+1)}function Zu(t){return{extensionPath:t.extensionPath,columnNumber:2,isDebug:!1,quality:Xe("browse-lite.quality",100),everyNthFrame:Xe("browse-lite.everyNthFrame",1),format:Xe("browse-lite.format","png"),isVerboseMode:Xe("browse-lite.verbose",!1),chromeExecutable:Xe("browse-lite.chromeExecutable"),startUrl:Xe("browse-lite.startUrl","https://github.com/antfu/vscode-browse-lite"),debugHost:Xe("browse-lite.debugHost","localhost"),debugPort:Xe("browse-lite.debugPort",9222),storeUserData:Xe("browse-lite.storeUserData",!0)}}var Ma=jr(cw());var hf=class{writeText(e){return _vscode.env.clipboard.writeText(e)}readText(){return _vscode.env.clipboard.readText()}};var pf=class extends Ma.EnhancedEventEmitter{constructor(e,r){super();this.browser=e;this.page=r;this.clipboard=new hf}get id(){return this.page.mainFrame()._id}dispose(){this.removeAllElseListeners(),this.removeAllListeners(),this.client.detach(),this.page.close()}async send(e,r={},i){switch(e){case"Page.goForward":await this.page.goForward();break;case"Page.goBackward":await this.page.goBack();break;case"Clipboard.readText":try{this.emit({callbackId:i,result:await this.clipboard.readText()})}catch(n){this.emit({callbackId:i,error:n.message})}break;default:this.client.send(e,r).then(n=>{this.emit({callbackId:i,result:n})}).catch(n=>{this.emit({callbackId:i,error:n.message})})}}async launch(){this.page.evaluateOnNewDocument(()=>{localStorage.setItem("screencastEnabled","false"),localStorage.setItem("panel-selectedTab","console")}),this.page.emulateMediaFeatures([{name:"prefers-color-scheme",value:Qv()?"dark":"light"}]),this.client=await this.page.target().createCDPSession(),Ma.default.modifyInstance(this.client),this.client.else((e,r)=>{this.emit({method:e,result:r})})}};var _path2 = require('path');var mf=class extends _events2.EventEmitter{constructor(e,r){super();this.config=e;this.ctx=r}async launchBrowser(){let e=[];this.config.debugPort=await Yu(this.config.debugPort),e.push(`--remote-debugging-port=${this.config.debugPort}`),e.push("--allow-file-access-from-files"),e.push("--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36");let r=this.config.chromeExecutable||this.getChromiumPath();if(!r){_vscode.window.showErrorMessage("No Chrome installation found, or no Chrome executable set in the settings");return}_os.platform.call(void 0, )==="linux"&&e.push("--no-sandbox");let n=_vscode.workspace.getConfiguration("browse-lite").get("ignoreHttpsErrors"),s;this.config.storeUserData&&(s=_path2.join.call(void 0, this.ctx.globalStorageUri.fsPath,"UserData")),this.browser=await hw.default.launch({executablePath:r,args:e,ignoreHTTPSErrors:n,ignoreDefaultArgs:["--mute-audio"],userDataDir:s}),(await this.browser.pages()).map(o=>o.close())}async newPage(){this.browser||await this.launchBrowser();let e=new pf(this.browser,await this.browser.newPage());return await e.launch(),e}dispose(){return new Promise(e=>{this.browser&&(this.browser.close(),this.browser=null),e()})}getChromiumPath(){var r,i,n;let e=[...Object.entries(dw.default),...Object.entries(fw.default)];for(let[s,o]of e){if(!s.startsWith("launcher"))continue;let a=(n=(i=(r=o==null?void 0:o[1])==null?void 0:r.prototype)==null?void 0:i.DEFAULT_CMD)==null?void 0:n[process.platform];if(a&&typeof a=="string"&&_fs.existsSync.call(void 0, a))return a}}};var mw=jr(qa());var yf=class{constructor(e){this.config=e}getContent(){let e=_path2.join.call(void 0, this.config.extensionPath,"dist/client");return _fs2.default.readFileSync(_path2.join.call(void 0, e,"index.html"),"utf-8").replace(/(src|href)="(.*?)"/g,(i,n,s)=>`${n}="${_vscode.Uri.file(_path2.join.call(void 0, e,s.slice(1))).with({scheme:"vscode-resource"})}"`)}};var Oa=class extends mw.EventEmitter2{constructor(e,r,i){super();this.disposables=[];this.url="";this.title="";this.state={};this.disposed=!1;this.config=e,this._panel=null,this.browserPage=null,this.browser=r,this.parentPanel=i,this.contentProvider=new yf(this.config),i&&i.once("disposed",()=>this.dispose())}get isDebugPage(){return!!this.parentPanel}async launch(e){try{this.browserPage=await this.browser.newPage(),this.browserPage&&this.browserPage.else(r=>{this._panel&&this._panel.webview.postMessage(r)})}catch(r){_vscode.window.showErrorMessage(r.message)}this._panel=_vscode.window.createWebviewPanel(Oa.viewType,"Browse Lite",this.isDebugPage?_vscode.ViewColumn.Three:_vscode.ViewColumn.Two,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[_vscode.Uri.file(_path2.join.call(void 0, this.config.extensionPath,"dist/client"))]}),this._panel.webview.html=this.contentProvider.getContent(),this._panel.onDidDispose(()=>this.dispose(),null,this.disposables),this._panel.onDidChangeViewState(()=>this.emit(this._panel.active?"focus":"blur"),null,this.disposables),this._panel.webview.onDidReceiveMessage(r=>{if(r.type==="extension.updateTitle"&&(this.title=r.params.title,this._panel)){this._panel.title=this.isDebugPage?`DevTools - ${this.parentPanel.title}`:r.params.title;return}if(r.type==="extension.windowOpenRequested"&&(this.emit("windowOpenRequested",{url:r.params.url}),this.url=r.params.url),r.type==="extension.openFile"&&this.handleOpenFileRequest(r.params),r.type==="extension.windowDialogRequested"){let{message:i,type:n}=r.params;n=="alert"?(_vscode.window.showInformationMessage(i),this.browserPage&&this.browserPage.send("Page.handleJavaScriptDialog",{accept:!0})):n==="prompt"?_vscode.window.showInputBox({placeHolder:i}).then(s=>{this.browserPage&&this.browserPage.send("Page.handleJavaScriptDialog",{accept:!0,promptText:s})}):n==="confirm"&&_vscode.window.showQuickPick(["Ok","Cancel"]).then(s=>{this.browserPage&&this.browserPage.send("Page.handleJavaScriptDialog",{accept:s==="Ok"})})}if(r.type==="extension.appStateChanged"&&(this.state=r.params.state,this.emit("stateChanged")),this.browserPage)try{r.type!=="extension.appStateChanged"&&this.browserPage.send(r.type,r.params,r.callbackId),this.emit(r.type,r.params)}catch(i){_vscode.window.showErrorMessage(i)}},null,this.disposables),e&&(this.config.startUrl=e,this.url=this.url||e),this._panel.webview.postMessage({method:"extension.appConfiguration",result:D(D({},this.config),{isDebug:this.isDebugPage})}),this.emit("focus")}navigateTo(e){this._panel.webview.postMessage({method:"extension.navigateTo",result:{url:e}}),this.url=e}async createDebugPanel(){if(this.isDebugPage)return;if(this.debugPanel)return this.debugPanel;let e=new Oa(this.config,this.browser,this);this.debugPanel=e,e.on("focus",()=>{_vscode.commands.executeCommand("setContext","browse-lite-debug-active",!0)}),e.on("blur",()=>{_vscode.commands.executeCommand("setContext","browse-lite-debug-active",!1)}),e.once("disposed",()=>{_vscode.commands.executeCommand("setContext","browse-lite-debug-active",!1),this.debugPanel=void 0});let r=`${this.config.debugHost}:${this.config.debugPort}`;return await e.launch(`http://${r}/devtools/inspector.html?ws=${r}/devtools/page/${this.browserPage.id}&experiments=true`),e}reload(){var e;(e=this.browserPage)==null||e.send("Page.reload")}goBackward(){var e;(e=this.browserPage)==null||e.send("Page.goBackward")}goForward(){var e;(e=this.browserPage)==null||e.send("Page.goForward")}getState(){return this.state}openExternal(e=!0){this.url&&(_vscode.env.openExternal(_vscode.Uri.parse(this.url)),e&&this.dispose())}setViewport(e){this._panel.webview.postMessage({method:"extension.viewport",result:e})}show(){this._panel&&this._panel.reveal()}dispose(){for(this.disposed=!0,this._panel&&this._panel.dispose(),this.browserPage&&(this.browserPage.dispose(),this.browserPage=null);this.disposables.length;){let e=this.disposables.pop();e&&e.dispose()}this.emit("disposed"),this.removeAllListeners()}handleOpenFileRequest(e){let r=e.lineNumber,i=e.columnNumber|e.charNumber|0,n=`${_vscode.workspace.rootPath||""}/`,s=e.fileName.replace(n,"");_vscode.workspace.findFiles(s,"",1).then(o=>{if(!o||!o.length)return;let a=o[0];_vscode.workspace.openTextDocument(a).then(l=>{_vscode.window.showTextDocument(l,_vscode.ViewColumn.One).then(c=>{if(r){let f=new (0, _vscode.Position)(-1+r,i);c.selection=new (0, _vscode.Selection)(f,f)}},c=>{_vscode.window.showErrorMessage(`Failed to show file. ${c}`)})},l=>{_vscode.window.showErrorMessage(`Failed to open file. ${l}`)})})}},La=Oa;La.viewType="browse-lite";var Ef=class extends gw.EventEmitter2{constructor(e){super();this.ctx=e;this.panels=new Set,this.config=Zu(this.ctx),this.on("windowOpenRequested",r=>{this.create(r.url)})}async refreshSettings(){let e=this.config;this.config=D(D({},Zu(this.ctx)),{debugPort:e.debugPort})}async create(e=this.config.startUrl){this.refreshSettings(),this.browser||(this.browser=new mf(this.config,this.ctx));let r=new La(this.config,this.browser);return r.once("disposed",()=>{this.current===r&&(this.current=void 0,_vscode.commands.executeCommand("setContext","browse-lite-active",!1)),this.panels.delete(r),this.panels.size===0&&(this.browser.dispose(),this.browser=null),this.emit("windowDisposed",r)}),r.on("windowOpenRequested",i=>{this.emit("windowOpenRequested",i)}),r.on("focus",()=>{this.current=r,_vscode.commands.executeCommand("setContext","browse-lite-active",!0)}),r.on("blur",()=>{this.current===r&&(this.current=void 0,_vscode.commands.executeCommand("setContext","browse-lite-active",!1))}),this.panels.add(r),await r.launch(e.toString()),this.emit("windowCreated",r),this.ctx.subscriptions.push({dispose:()=>r.dispose()}),r}async createFile(e){if(!e)return;let r=await this.create(`file://${e}`);return Xe("browse-lite.localFileAutoReload")&&r.disposables.push(_vscode.workspace.createFileSystemWatcher(e,!0,!1,!1).onDidChange(()=>{r.reload()})),r}disposeByUrl(e){this.panels.forEach(r=>{r.config.startUrl===e&&r.dispose()})}};function DR(t){var i,n;let e=new Ef(t),r=new Da(e);t.subscriptions.push(_vscode.debug.registerDebugConfigurationProvider("browse-lite",r.getProvider()),_vscode.commands.registerCommand("browse-lite.open",async s=>{try{return await e.create(s)}catch(o){console.error(o)}}),_vscode.commands.registerCommand("browse-lite.openActiveFile",()=>{var o,a;let s=(a=(o=_vscode.window.activeTextEditor)==null?void 0:o.document)==null?void 0:a.fileName;e.createFile(s)}),_vscode.commands.registerCommand("browse-lite.controls.refresh",()=>{var s;(s=e.current)==null||s.reload()}),_vscode.commands.registerCommand("browse-lite.controls.external",()=>{var s;(s=e.current)==null||s.openExternal(!0)}),_vscode.commands.registerCommand("browse-lite.controls.debug",async()=>{var o;let s=await((o=e.current)==null?void 0:o.createDebugPanel());s==null||s.show()}));try{t.subscriptions.push((n=(i=_vscode.window).registerExternalUriOpener)==null?void 0:n.call(i,"browse-lite.opener",{canOpenExternalUri:()=>2,openExternalUri(s){e.create(s)}},{schemes:["http","https"],label:"Open URL using Browse Lite"}))}catch(s){}}exports.activate = DR;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
